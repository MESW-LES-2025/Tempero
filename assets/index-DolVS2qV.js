function Qw(n,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const o=Object.getOwnPropertyDescriptor(a,l);o&&Object.defineProperty(n,l,o.get?o:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function Gs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Xw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var i=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),i}var ff={exports:{}},Ts={};var Kg;function Jw(){if(Kg)return Ts;Kg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:n,type:a,key:c,ref:l!==void 0?l:null,props:o}}return Ts.Fragment=t,Ts.jsx=i,Ts.jsxs=i,Ts}var Qg;function Zw(){return Qg||(Qg=1,ff.exports=Jw()),ff.exports}var b=Zw(),df={exports:{}},Ne={};var Xg;function Ww(){if(Xg)return Ne;Xg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function j(q,Q,U){this.props=q,this.context=Q,this.refs=E,this.updater=U||w}j.prototype.isReactComponent={},j.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function z(){}z.prototype=j.prototype;function N(q,Q,U){this.props=q,this.context=Q,this.refs=E,this.updater=U||w}var M=N.prototype=new z;M.constructor=N,S(M,j.prototype),M.isPureReactComponent=!0;var $=Array.isArray;function T(){}var H={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(q,Q,U){var X=U.ref;return{$$typeof:n,type:q,key:Q,ref:X!==void 0?X:null,props:U}}function F(q,Q){return D(q.type,Q,q.props)}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function I(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(U){return Q[U]})}var Y=/\/+/g;function P(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?I(""+q.key):Q.toString(36)}function V(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(T,T):(q.status="pending",q.then(function(Q){q.status==="pending"&&(q.status="fulfilled",q.value=Q)},function(Q){q.status==="pending"&&(q.status="rejected",q.reason=Q)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function k(q,Q,U,X,K){var W=typeof q;(W==="undefined"||W==="boolean")&&(q=null);var ce=!1;if(q===null)ce=!0;else switch(W){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(q.$$typeof){case n:case t:ce=!0;break;case m:return ce=q._init,k(ce(q._payload),Q,U,X,K)}}if(ce)return K=K(q),ce=X===""?"."+P(q,0):X,$(K)?(U="",ce!=null&&(U=ce.replace(Y,"$&/")+"/"),k(K,Q,U,"",function(Ae){return Ae})):K!=null&&(B(K)&&(K=F(K,U+(K.key==null||q&&q.key===K.key?"":(""+K.key).replace(Y,"$&/")+"/")+ce)),Q.push(K)),1;ce=0;var fe=X===""?".":X+":";if($(q))for(var pe=0;pe<q.length;pe++)X=q[pe],W=fe+P(X,pe),ce+=k(X,Q,U,W,K);else if(pe=x(q),typeof pe=="function")for(q=pe.call(q),pe=0;!(X=q.next()).done;)X=X.value,W=fe+P(X,pe++),ce+=k(X,Q,U,W,K);else if(W==="object"){if(typeof q.then=="function")return k(V(q),Q,U,X,K);throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ce}function A(q,Q,U){if(q==null)return q;var X=[],K=0;return k(q,X,"","",function(W){return Q.call(U,W,K++)}),X}function te(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(U){(q._status===0||q._status===-1)&&(q._status=1,q._result=U)},function(U){(q._status===0||q._status===-1)&&(q._status=2,q._result=U)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var Z=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},R={map:A,forEach:function(q,Q,U){A(q,function(){Q.apply(this,arguments)},U)},count:function(q){var Q=0;return A(q,function(){Q++}),Q},toArray:function(q){return A(q,function(Q){return Q})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ne.Activity=g,Ne.Children=R,Ne.Component=j,Ne.Fragment=i,Ne.Profiler=l,Ne.PureComponent=N,Ne.StrictMode=a,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(q){return H.H.useMemoCache(q)}},Ne.cache=function(q){return function(){return q.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(q,Q,U){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var X=S({},q.props),K=q.key;if(Q!=null)for(W in Q.key!==void 0&&(K=""+Q.key),Q)!C.call(Q,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&Q.ref===void 0||(X[W]=Q[W]);var W=arguments.length-2;if(W===1)X.children=U;else if(1<W){for(var ce=Array(W),fe=0;fe<W;fe++)ce[fe]=arguments[fe+2];X.children=ce}return D(q.type,K,X)},Ne.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Ne.createElement=function(q,Q,U){var X,K={},W=null;if(Q!=null)for(X in Q.key!==void 0&&(W=""+Q.key),Q)C.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(K[X]=Q[X]);var ce=arguments.length-2;if(ce===1)K.children=U;else if(1<ce){for(var fe=Array(ce),pe=0;pe<ce;pe++)fe[pe]=arguments[pe+2];K.children=fe}if(q&&q.defaultProps)for(X in ce=q.defaultProps,ce)K[X]===void 0&&(K[X]=ce[X]);return D(q,W,K)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(q){return{$$typeof:f,render:q}},Ne.isValidElement=B,Ne.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:te}},Ne.memo=function(q,Q){return{$$typeof:p,type:q,compare:Q===void 0?null:Q}},Ne.startTransition=function(q){var Q=H.T,U={};H.T=U;try{var X=q(),K=H.S;K!==null&&K(U,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(T,Z)}catch(W){Z(W)}finally{Q!==null&&U.types!==null&&(Q.types=U.types),H.T=Q}},Ne.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ne.use=function(q){return H.H.use(q)},Ne.useActionState=function(q,Q,U){return H.H.useActionState(q,Q,U)},Ne.useCallback=function(q,Q){return H.H.useCallback(q,Q)},Ne.useContext=function(q){return H.H.useContext(q)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(q,Q){return H.H.useDeferredValue(q,Q)},Ne.useEffect=function(q,Q){return H.H.useEffect(q,Q)},Ne.useEffectEvent=function(q){return H.H.useEffectEvent(q)},Ne.useId=function(){return H.H.useId()},Ne.useImperativeHandle=function(q,Q,U){return H.H.useImperativeHandle(q,Q,U)},Ne.useInsertionEffect=function(q,Q){return H.H.useInsertionEffect(q,Q)},Ne.useLayoutEffect=function(q,Q){return H.H.useLayoutEffect(q,Q)},Ne.useMemo=function(q,Q){return H.H.useMemo(q,Q)},Ne.useOptimistic=function(q,Q){return H.H.useOptimistic(q,Q)},Ne.useReducer=function(q,Q,U){return H.H.useReducer(q,Q,U)},Ne.useRef=function(q){return H.H.useRef(q)},Ne.useState=function(q){return H.H.useState(q)},Ne.useSyncExternalStore=function(q,Q,U){return H.H.useSyncExternalStore(q,Q,U)},Ne.useTransition=function(){return H.H.useTransition()},Ne.version="19.2.0",Ne}var Jg;function yd(){return Jg||(Jg=1,df.exports=Ww()),df.exports}var L=yd();const e1=Gs(L);var hf={exports:{}},Ns={},mf={exports:{}},pf={};var Zg;function t1(){return Zg||(Zg=1,(function(n){function t(k,A){var te=k.length;k.push(A);e:for(;0<te;){var Z=te-1>>>1,R=k[Z];if(0<l(R,A))k[Z]=A,k[te]=R,te=Z;else break e}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var A=k[0],te=k.pop();if(te!==A){k[0]=te;e:for(var Z=0,R=k.length,q=R>>>1;Z<q;){var Q=2*(Z+1)-1,U=k[Q],X=Q+1,K=k[X];if(0>l(U,te))X<R&&0>l(K,U)?(k[Z]=K,k[X]=te,Z=X):(k[Z]=U,k[Q]=te,Z=Q);else if(X<R&&0>l(K,te))k[Z]=K,k[X]=te,Z=X;else break e}}return A}function l(k,A){var te=k.sortIndex-A.sortIndex;return te!==0?te:k.id-A.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var d=[],p=[],m=1,g=null,v=3,x=!1,w=!1,S=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(k){for(var A=i(p);A!==null;){if(A.callback===null)a(p);else if(A.startTime<=k)a(p),A.sortIndex=A.expirationTime,t(d,A);else break;A=i(p)}}function $(k){if(S=!1,M(k),!w)if(i(d)!==null)w=!0,T||(T=!0,I());else{var A=i(p);A!==null&&V($,A.startTime-k)}}var T=!1,H=-1,C=5,D=-1;function F(){return E?!0:!(n.unstable_now()-D<C)}function B(){if(E=!1,T){var k=n.unstable_now();D=k;var A=!0;try{e:{w=!1,S&&(S=!1,z(H),H=-1),x=!0;var te=v;try{t:{for(M(k),g=i(d);g!==null&&!(g.expirationTime>k&&F());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,v=g.priorityLevel;var R=Z(g.expirationTime<=k);if(k=n.unstable_now(),typeof R=="function"){g.callback=R,M(k),A=!0;break t}g===i(d)&&a(d),M(k)}else a(d);g=i(d)}if(g!==null)A=!0;else{var q=i(p);q!==null&&V($,q.startTime-k),A=!1}}break e}finally{g=null,v=te,x=!1}A=void 0}}finally{A?I():T=!1}}}var I;if(typeof N=="function")I=function(){N(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,P=Y.port2;Y.port1.onmessage=B,I=function(){P.postMessage(null)}}else I=function(){j(B,0)};function V(k,A){H=j(function(){k(n.unstable_now())},A)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(k){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var te=v;v=A;try{return k()}finally{v=te}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var te=v;v=k;try{return A()}finally{v=te}},n.unstable_scheduleCallback=function(k,A,te){var Z=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Z+te:Z):te=Z,k){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=te+R,k={id:m++,callback:A,priorityLevel:k,startTime:te,expirationTime:R,sortIndex:-1},te>Z?(k.sortIndex=te,t(p,k),i(d)===null&&k===i(p)&&(S?(z(H),H=-1):S=!0,V($,te-Z))):(k.sortIndex=R,t(d,k),w||x||(w=!0,T||(T=!0,I()))),k},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(k){var A=v;return function(){var te=v;v=A;try{return k.apply(this,arguments)}finally{v=te}}}})(pf)),pf}var Wg;function n1(){return Wg||(Wg=1,mf.exports=t1()),mf.exports}var gf={exports:{}},Vt={};var ey;function r1(){if(ey)return Vt;ey=1;var n=yd();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:d,containerInfo:p,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vt.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,m)},Vt.flushSync=function(d){var p=c.T,m=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=p,a.p=m,a.d.f()}},Vt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(d,p))},Vt.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Vt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,g=f(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?a.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):m==="script"&&a.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=f(p.as,p.crossOrigin);a.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(d)},Vt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=f(m,p.crossOrigin);a.d.L(d,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=f(p.as,p.crossOrigin);a.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(d)},Vt.requestFormReset=function(d){a.d.r(d)},Vt.unstable_batchedUpdates=function(d,p){return d(p)},Vt.useFormState=function(d,p,m){return c.H.useFormState(d,p,m)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.2.0",Vt}var ty;function i1(){if(ty)return gf.exports;ty=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gf.exports=r1(),gf.exports}var ny;function a1(){if(ny)return Ns;ny=1;var n=n1(),t=yd(),i=i1();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function f(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(a(188))}function p(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,u=r;;){var h=s.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===s)return d(h),e;if(y===u)return d(h),r;y=y.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=y;else{for(var _=!1,O=h.child;O;){if(O===s){_=!0,s=h,u=y;break}if(O===u){_=!0,u=h,s=y;break}O=O.sibling}if(!_){for(O=y.child;O;){if(O===s){_=!0,s=y,u=h;break}if(O===u){_=!0,u=y,s=h;break}O=O.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function m(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=m(e),r!==null)return r;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function P(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case T:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case N:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case M:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return r=e.displayName||null,r!==null?r:P(e.type)||"Memo";case C:r=e._payload,e=e._init;try{return P(e(r))}catch{}}return null}var V=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Z=[],R=-1;function q(e){return{current:e}}function Q(e){0>R||(e.current=Z[R],Z[R]=null,R--)}function U(e,r){R++,Z[R]=e.current,e.current=r}var X=q(null),K=q(null),W=q(null),ce=q(null);function fe(e,r){switch(U(W,r),U(K,e),U(X,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?yg(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=yg(r),e=vg(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(X),U(X,e)}function pe(){Q(X),Q(K),Q(W)}function Ae(e){e.memoizedState!==null&&U(ce,e);var r=X.current,s=vg(r,e.type);r!==s&&(U(K,e),U(X,s))}function Ee(e){K.current===e&&(Q(X),Q(K)),ce.current===e&&(Q(ce),Es._currentValue=te)}var Ie,jt;function gt(e){if(Ie===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ie=r&&r[1]||"",jt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+e+jt}var Ye=!1;function ht(e,r){if(!e||Ye)return"";Ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ie=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ie=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],O=y[1];if(_&&O){var G=_.split(`
`),re=O.split(`
`);for(h=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;h<re.length&&!re[h].includes("DetermineComponentFrameRoot");)h++;if(u===G.length||h===re.length)for(u=G.length-1,h=re.length-1;1<=u&&0<=h&&G[u]!==re[h];)h--;for(;1<=u&&0<=h;u--,h--)if(G[u]!==re[h]){if(u!==1||h!==1)do if(u--,h--,0>h||G[u]!==re[h]){var le=`
`+G[u].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=u&&0<=h);break}}}finally{Ye=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?gt(s):""}function Ke(e,r){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return e.child!==r&&r!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return gt("Activity");default:return""}}function Ve(e){try{var r="",s=null;do r+=Ke(e,s),s=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ut=Object.prototype.hasOwnProperty,yt=n.unstable_scheduleCallback,tt=n.unstable_cancelCallback,Lt=n.unstable_shouldYield,ct=n.unstable_requestPaint,Re=n.unstable_now,Mt=n.unstable_getCurrentPriorityLevel,se=n.unstable_ImmediatePriority,me=n.unstable_UserBlockingPriority,ge=n.unstable_NormalPriority,Te=n.unstable_LowPriority,ke=n.unstable_IdlePriority,at=n.log,vt=n.unstable_setDisableYieldValue,st=null,Ge=null;function bt(e){if(typeof at=="function"&&vt(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(st,e)}catch{}}var He=Math.clz32?Math.clz32:Zs,Kn=Math.log,Qt=Math.LN2;function Zs(e){return e>>>=0,e===0?32:31-(Kn(e)/Qt|0)|0}var Qn=256,Ni=262144,cn=4194304;function Ft(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bn(e,r,s){var u=e.pendingLanes;if(u===0)return 0;var h=0,y=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var O=u&134217727;return O!==0?(u=O&~y,u!==0?h=Ft(u):(_&=O,_!==0?h=Ft(_):s||(s=O&~e,s!==0&&(h=Ft(s))))):(O=u&~y,O!==0?h=Ft(O):_!==0?h=Ft(_):s||(s=u&~e,s!==0&&(h=Ft(s)))),h===0?0:r!==0&&r!==h&&(r&y)===0&&(y=h&-h,s=r&-r,y>=s||y===32&&(s&4194048)!==0)?r:h}function In(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Ws(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var e=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),e}function qn(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function Ba(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mb(e,r,s,u,h,y){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var O=e.entanglements,G=e.expirationTimes,re=e.hiddenUpdates;for(s=_&~s;0<s;){var le=31-He(s),ue=1<<le;O[le]=0,G[le]=-1;var ie=re[le];if(ie!==null)for(re[le]=null,le=0;le<ie.length;le++){var ae=ie[le];ae!==null&&(ae.lane&=-536870913)}s&=~ue}u!==0&&Wd(e,u,0),y!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=y&~(_&~r))}function Wd(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-He(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|s&261930}function eh(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var u=31-He(s),h=1<<u;h&r|e[u]&r&&(e[u]|=r),s&=~h}}function th(e,r){var s=r&-r;return s=(s&42)!==0?1:Wo(s),(s&(e.suspendedLanes|r))!==0?0:s}function Wo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nh(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:Pg(e.type))}function rh(e,r){var s=A.p;try{return A.p=e,r()}finally{A.p=s}}var Tr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Tr,Jt="__reactProps$"+Tr,Ci="__reactContainer$"+Tr,tu="__reactEvents$"+Tr,Bb="__reactListeners$"+Tr,Ib="__reactHandles$"+Tr,ih="__reactResources$"+Tr,Ia="__reactMarker$"+Tr;function nu(e){delete e[Bt],delete e[Jt],delete e[tu],delete e[Bb],delete e[Ib]}function Ri(e){var r=e[Bt];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Ci]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=jg(e);e!==null;){if(s=e[Bt])return s;e=jg(e)}return r}e=s,s=e.parentNode}return null}function Oi(e){if(e=e[Bt]||e[Ci]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function qa(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Ui(e){var r=e[ih];return r||(r=e[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(e){e[Ia]=!0}var ah=new Set,sh={};function ri(e,r){Di(e,r),Di(e+"Capture",r)}function Di(e,r){for(sh[e]=r,e=0;e<r.length;e++)ah.add(r[e])}var qb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},oh={};function Pb(e){return ut.call(oh,e)?!0:ut.call(lh,e)?!1:qb.test(e)?oh[e]=!0:(lh[e]=!0,!1)}function el(e,r,s){if(Pb(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function tl(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function sr(e,r,s,u){if(u===null)e.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+u)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Hb(e,r,s){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,y=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,y.call(this,_)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ru(e){if(!e._valueTracker){var r=uh(e)?"checked":"value";e._valueTracker=Hb(e,r,""+e[r])}}function ch(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return e&&(u=uh(e)?e.checked?"true":"false":e.value),e=u,e!==s?(r.setValue(e),!0):!1}function nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $b=/[\n"\\]/g;function jn(e){return e.replace($b,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function iu(e,r,s,u,h,y,_,O){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+En(r)):e.value!==""+En(r)&&(e.value=""+En(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?au(e,_,En(r)):s!=null?au(e,_,En(s)):u!=null&&e.removeAttribute("value"),h==null&&y!=null&&(e.defaultChecked=!!y),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+En(O):e.removeAttribute("name")}function fh(e,r,s,u,h,y,_,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),r!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){ru(e);return}s=s!=null?""+En(s):"",r=r!=null?""+En(r):s,O||r===e.value||(e.value=r),e.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=O?e.checked:!!u,e.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ru(e)}function au(e,r,s){r==="number"&&nl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function zi(e,r,s,u){if(e=e.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=r.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&u&&(e[s].defaultSelected=!0)}else{for(s=""+En(s),r=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function dh(e,r,s){if(r!=null&&(r=""+En(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+En(s):""}function hh(e,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(a(92));if(V(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=En(r),e.defaultValue=s,u=e.textContent,u===s&&u!==""&&u!==null&&(e.value=u),ru(e)}function Li(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Fb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mh(e,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,s):typeof s!="number"||s===0||Fb.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function ph(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&s[h]!==u&&mh(e,h,u)}else for(var y in r)r.hasOwnProperty(y)&&mh(e,y,r[y])}function su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(e){return Gb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function lr(){}var lu=null;function ou(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,Bi=null;function gh(e){var r=Oi(e);if(r&&(e=r.stateNode)){var s=e[Jt]||null;e:switch(e=r.stateNode,r.type){case"input":if(iu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==e&&u.form===e.form){var h=u[Jt]||null;if(!h)throw Error(a(90));iu(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===e.form&&ch(u)}break e;case"textarea":dh(e,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&zi(e,!!s.multiple,r,!1)}}}var uu=!1;function yh(e,r,s){if(uu)return e(r,s);uu=!0;try{var u=e(r);return u}finally{if(uu=!1,(Mi!==null||Bi!==null)&&(Fl(),Mi&&(r=Mi,e=Bi,Bi=Mi=null,gh(r),e)))for(r=0;r<e.length;r++)gh(e[r])}}function Pa(e,r){var s=e.stateNode;if(s===null)return null;var u=s[Jt]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(or)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{cu=!1}var Nr=null,fu=null,il=null;function vh(){if(il)return il;var e,r=fu,s=r.length,u,h="value"in Nr?Nr.value:Nr.textContent,y=h.length;for(e=0;e<s&&r[e]===h[e];e++);var _=s-e;for(u=1;u<=_&&r[s-u]===h[y-u];u++);return il=h.slice(e,1<u?1-u:void 0)}function al(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function bh(){return!1}function Zt(e){function r(s,u,h,y,_){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(s=e[O],this[O]=s?s(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sl:bh,this.isPropagationStopped=bh,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),r}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Zt(ii),$a=g({},ii,{view:0,detail:0}),Yb=Zt($a),du,hu,Fa,ol=g({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(du=e.screenX-Fa.screenX,hu=e.screenY-Fa.screenY):hu=du=0,Fa=e),du)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),xh=Zt(ol),Kb=g({},ol,{dataTransfer:0}),Qb=Zt(Kb),Xb=g({},$a,{relatedTarget:0}),mu=Zt(Xb),Jb=g({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Zb=Zt(Jb),Wb=g({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ex=Zt(Wb),tx=g({},ii,{data:0}),wh=Zt(tx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=ix[e])?!!r[e]:!1}function pu(){return ax}var sx=g({},$a,{key:function(e){if(e.key){var r=nx[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lx=Zt(sx),ox=g({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_h=Zt(ox),ux=g({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),cx=Zt(ux),fx=g({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),dx=Zt(fx),hx=g({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=Zt(hx),px=g({},ii,{newState:0,oldState:0}),gx=Zt(px),yx=[9,13,27,32],gu=or&&"CompositionEvent"in window,Va=null;or&&"documentMode"in document&&(Va=document.documentMode);var vx=or&&"TextEvent"in window&&!Va,Sh=or&&(!gu||Va&&8<Va&&11>=Va),Eh=" ",jh=!1;function kh(e,r){switch(e){case"keyup":return yx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function bx(e,r){switch(e){case"compositionend":return Ah(r);case"keypress":return r.which!==32?null:(jh=!0,Eh);case"textInput":return e=r.data,e===Eh&&jh?null:e;default:return null}}function xx(e,r){if(Ii)return e==="compositionend"||!gu&&kh(e,r)?(e=vh(),il=fu=Nr=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Sh&&r.locale!=="ko"?null:r.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!wx[e.type]:r==="textarea"}function Nh(e,r,s,u){Mi?Bi?Bi.push(u):Bi=[u]:Mi=u,r=Jl(r,"onChange"),0<r.length&&(s=new ll("onChange","change",null,s,u),e.push({event:s,listeners:r}))}var Ga=null,Ya=null;function _x(e){fg(e,0)}function ul(e){var r=qa(e);if(ch(r))return e}function Ch(e,r){if(e==="change")return r}var Rh=!1;if(or){var yu;if(or){var vu="oninput"in document;if(!vu){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),vu=typeof Oh.oninput=="function"}yu=vu}else yu=!1;Rh=yu&&(!document.documentMode||9<document.documentMode)}function Uh(){Ga&&(Ga.detachEvent("onpropertychange",Dh),Ya=Ga=null)}function Dh(e){if(e.propertyName==="value"&&ul(Ya)){var r=[];Nh(r,Ya,e,ou(e)),yh(_x,r)}}function Sx(e,r,s){e==="focusin"?(Uh(),Ga=r,Ya=s,Ga.attachEvent("onpropertychange",Dh)):e==="focusout"&&Uh()}function Ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Ya)}function jx(e,r){if(e==="click")return ul(r)}function kx(e,r){if(e==="input"||e==="change")return ul(r)}function Ax(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var fn=typeof Object.is=="function"?Object.is:Ax;function Ka(e,r){if(fn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!ut.call(r,h)||!fn(e[h],r[h]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lh(e,r){var s=zh(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=r&&u>=r)return{node:s,offset:r-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zh(s)}}function Mh(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Mh(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Bh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=nl(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=nl(e.document)}return r}function bu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Tx=or&&"documentMode"in document&&11>=document.documentMode,qi=null,xu=null,Qa=null,wu=!1;function Ih(e,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wu||qi==null||qi!==nl(u)||(u=qi,"selectionStart"in u&&bu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qa&&Ka(Qa,u)||(Qa=u,u=Jl(xu,"onSelect"),0<u.length&&(r=new ll("onSelect","select",null,r,s),e.push({event:r,listeners:u}),r.target=qi)))}function ai(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Pi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},_u={},qh={};or&&(qh=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function si(e){if(_u[e])return _u[e];if(!Pi[e])return e;var r=Pi[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in qh)return _u[e]=r[s];return e}var Ph=si("animationend"),Hh=si("animationiteration"),$h=si("animationstart"),Nx=si("transitionrun"),Cx=si("transitionstart"),Rx=si("transitioncancel"),Fh=si("transitionend"),Vh=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function Pn(e,r){Vh.set(e,r),ri(r,[e])}var cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Hi=0,Eu=0;function fl(){for(var e=Hi,r=Eu=Hi=0;r<e;){var s=kn[r];kn[r++]=null;var u=kn[r];kn[r++]=null;var h=kn[r];kn[r++]=null;var y=kn[r];if(kn[r++]=null,u!==null&&h!==null){var _=u.pending;_===null?h.next=h:(h.next=_.next,_.next=h),u.pending=h}y!==0&&Gh(s,h,y)}}function dl(e,r,s,u){kn[Hi++]=e,kn[Hi++]=r,kn[Hi++]=s,kn[Hi++]=u,Eu|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function ju(e,r,s,u){return dl(e,r,s,u),hl(e)}function li(e,r){return dl(e,null,null,r),hl(e)}function Gh(e,r,s){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s);for(var h=!1,y=e.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(h=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,h&&r!==null&&(h=31-He(s),e=y.hiddenUpdates,u=e[h],u===null?e[h]=[r]:u.push(r),r.lane=s|536870912),y):null}function hl(e){if(50<ys)throw ys=0,Dc=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var $i={};function Ox(e,r,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,r,s,u){return new Ox(e,r,s,u)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ur(e,r){var s=e.alternate;return s===null?(s=dn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Yh(e,r){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ml(e,r,s,u,h,y){var _=0;if(u=e,typeof e=="function")ku(e)&&(_=1);else if(typeof e=="string")_=Mw(e,s,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case D:return e=dn(31,s,r,h),e.elementType=D,e.lanes=y,e;case S:return oi(s.children,h,y,r);case E:_=8,h|=24;break;case j:return e=dn(12,s,r,h|2),e.elementType=j,e.lanes=y,e;case $:return e=dn(13,s,r,h),e.elementType=$,e.lanes=y,e;case T:return e=dn(19,s,r,h),e.elementType=T,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:_=10;break e;case z:_=9;break e;case M:_=11;break e;case H:_=14;break e;case C:_=16,u=null;break e}_=29,s=Error(a(130,e===null?"null":typeof e,"")),u=null}return r=dn(_,s,r,h),r.elementType=e,r.type=u,r.lanes=y,r}function oi(e,r,s,u){return e=dn(7,e,u,r),e.lanes=s,e}function Au(e,r,s){return e=dn(6,e,null,r),e.lanes=s,e}function Kh(e){var r=dn(18,null,null,0);return r.stateNode=e,r}function Tu(e,r,s){return r=dn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Qh=new WeakMap;function An(e,r){if(typeof e=="object"&&e!==null){var s=Qh.get(e);return s!==void 0?s:(r={value:e,source:r,stack:Ve(r)},Qh.set(e,r),r)}return{value:e,source:r,stack:Ve(r)}}var Fi=[],Vi=0,pl=null,Xa=0,Tn=[],Nn=0,Cr=null,Jn=1,Zn="";function cr(e,r){Fi[Vi++]=Xa,Fi[Vi++]=pl,pl=e,Xa=r}function Xh(e,r,s){Tn[Nn++]=Jn,Tn[Nn++]=Zn,Tn[Nn++]=Cr,Cr=e;var u=Jn;e=Zn;var h=32-He(u)-1;u&=~(1<<h),s+=1;var y=32-He(r)+h;if(30<y){var _=h-h%5;y=(u&(1<<_)-1).toString(32),u>>=_,h-=_,Jn=1<<32-He(r)+h|s<<h|u,Zn=y+e}else Jn=1<<y|s<<h|u,Zn=e}function Nu(e){e.return!==null&&(cr(e,1),Xh(e,1,0))}function Cu(e){for(;e===pl;)pl=Fi[--Vi],Fi[Vi]=null,Xa=Fi[--Vi],Fi[Vi]=null;for(;e===Cr;)Cr=Tn[--Nn],Tn[Nn]=null,Zn=Tn[--Nn],Tn[Nn]=null,Jn=Tn[--Nn],Tn[Nn]=null}function Jh(e,r){Tn[Nn++]=Jn,Tn[Nn++]=Zn,Tn[Nn++]=Cr,Jn=r.id,Zn=r.overflow,Cr=e}var It=null,lt=null,Be=!1,Rr=null,Cn=!1,Ru=Error(a(519));function Or(e){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ja(An(r,e)),Ru}function Zh(e){var r=e.stateNode,s=e.type,u=e.memoizedProps;switch(r[Bt]=e,r[Jt]=u,s){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<bs.length;s++)ze(bs[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),fh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),hh(r,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||pg(r.textContent,s)?(u.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),u.onScroll!=null&&ze("scroll",r),u.onScrollEnd!=null&&ze("scrollend",r),u.onClick!=null&&(r.onclick=lr),r=!0):r=!1,r||Or(e,!0)}function Wh(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:It=It.return}}function Gi(e){if(e!==It)return!1;if(!Be)return Wh(e),Be=!0,!1;var r=e.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qc(e.type,e.memoizedProps)),s=!s),s&&lt&&Or(e),Wh(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));lt=Eg(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));lt=Eg(e)}else r===27?(r=lt,Gr(e.type)?(e=ef,ef=null,lt=e):lt=r):lt=It?On(e.stateNode.nextSibling):null;return!0}function ui(){lt=It=null,Be=!1}function Ou(){var e=Rr;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),Rr=null),e}function Ja(e){Rr===null?Rr=[e]:Rr.push(e)}var Uu=q(null),ci=null,fr=null;function Ur(e,r,s){U(Uu,r._currentValue),r._currentValue=s}function dr(e){e._currentValue=Uu.current,Q(Uu)}function Du(e,r,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===s)break;e=e.return}}function zu(e,r,s,u){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var y=h.dependencies;if(y!==null){var _=h.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=h;for(var G=0;G<r.length;G++)if(O.context===r[G]){y.lanes|=s,O=y.alternate,O!==null&&(O.lanes|=s),Du(y.return,s,e),u||(_=null);break e}y=O.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,y=_.alternate,y!==null&&(y.lanes|=s),Du(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Yi(e,r,s,u){e=null;for(var h=r,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var O=h.type;fn(h.pendingProps.value,_.value)||(e!==null?e.push(O):e=[O])}}else if(h===ce.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Es):e=[Es])}h=h.return}e!==null&&zu(r,e,s,u),r.flags|=262144}function gl(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fi(e){ci=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return em(ci,e)}function yl(e,r){return ci===null&&fi(e),em(e,r)}function em(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},fr===null){if(e===null)throw Error(a(308));fr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else fr=fr.next=r;return s}var Ux=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},Dx=n.unstable_scheduleCallback,zx=n.unstable_NormalPriority,kt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new Ux,data:new Map,refCount:0}}function Za(e){e.refCount--,e.refCount===0&&Dx(zx,function(){e.controller.abort()})}var Wa=null,Mu=0,Ki=0,Qi=null;function Lx(e,r){if(Wa===null){var s=Wa=[];Mu=0,Ki=qc(),Qi={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Mu++,r.then(tm,tm),r}function tm(){if(--Mu===0&&Wa!==null){Qi!==null&&(Qi.status="fulfilled");var e=Wa;Wa=null,Ki=0,Qi=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Mx(e,r){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var nm=k.S;k.S=function(e,r){Ip=Re(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lx(e,r),nm!==null&&nm(e,r)};var di=q(null);function Bu(){var e=di.current;return e!==null?e:et.pooledCache}function vl(e,r){r===null?U(di,di.current):U(di,r.pool)}function rm(){var e=Bu();return e===null?null:{parent:kt._currentValue,pool:e}}var Xi=Error(a(460)),Iu=Error(a(474)),bl=Error(a(542)),xl={then:function(){}};function im(e){return e=e.status,e==="fulfilled"||e==="rejected"}function am(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(lr,lr),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,lm(e),e;default:if(typeof r.status=="string")r.then(lr,lr);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,lm(e),e}throw mi=r,Xi}}function hi(e){try{var r=e._init;return r(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(mi=s,Xi):s}}var mi=null;function sm(){if(mi===null)throw Error(a(459));var e=mi;return mi=null,e}function lm(e){if(e===Xi||e===bl)throw Error(a(483))}var Ji=null,es=0;function wl(e){var r=es;return es+=1,Ji===null&&(Ji=[]),am(Ji,e,r)}function ts(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function _l(e,r){throw r.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function om(e){function r(ee,J){if(e){var ne=ee.deletions;ne===null?(ee.deletions=[J],ee.flags|=16):ne.push(J)}}function s(ee,J){if(!e)return null;for(;J!==null;)r(ee,J),J=J.sibling;return null}function u(ee){for(var J=new Map;ee!==null;)ee.key!==null?J.set(ee.key,ee):J.set(ee.index,ee),ee=ee.sibling;return J}function h(ee,J){return ee=ur(ee,J),ee.index=0,ee.sibling=null,ee}function y(ee,J,ne){return ee.index=ne,e?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<J?(ee.flags|=67108866,J):ne):(ee.flags|=67108866,J)):(ee.flags|=1048576,J)}function _(ee){return e&&ee.alternate===null&&(ee.flags|=67108866),ee}function O(ee,J,ne,oe){return J===null||J.tag!==6?(J=Au(ne,ee.mode,oe),J.return=ee,J):(J=h(J,ne),J.return=ee,J)}function G(ee,J,ne,oe){var we=ne.type;return we===S?le(ee,J,ne.props.children,oe,ne.key):J!==null&&(J.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===C&&hi(we)===J.type)?(J=h(J,ne.props),ts(J,ne),J.return=ee,J):(J=ml(ne.type,ne.key,ne.props,null,ee.mode,oe),ts(J,ne),J.return=ee,J)}function re(ee,J,ne,oe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=Tu(ne,ee.mode,oe),J.return=ee,J):(J=h(J,ne.children||[]),J.return=ee,J)}function le(ee,J,ne,oe,we){return J===null||J.tag!==7?(J=oi(ne,ee.mode,oe,we),J.return=ee,J):(J=h(J,ne),J.return=ee,J)}function ue(ee,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Au(""+J,ee.mode,ne),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return ne=ml(J.type,J.key,J.props,null,ee.mode,ne),ts(ne,J),ne.return=ee,ne;case w:return J=Tu(J,ee.mode,ne),J.return=ee,J;case C:return J=hi(J),ue(ee,J,ne)}if(V(J)||I(J))return J=oi(J,ee.mode,ne,null),J.return=ee,J;if(typeof J.then=="function")return ue(ee,wl(J),ne);if(J.$$typeof===N)return ue(ee,yl(ee,J),ne);_l(ee,J)}return null}function ie(ee,J,ne,oe){var we=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return we!==null?null:O(ee,J,""+ne,oe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ne.key===we?G(ee,J,ne,oe):null;case w:return ne.key===we?re(ee,J,ne,oe):null;case C:return ne=hi(ne),ie(ee,J,ne,oe)}if(V(ne)||I(ne))return we!==null?null:le(ee,J,ne,oe,null);if(typeof ne.then=="function")return ie(ee,J,wl(ne),oe);if(ne.$$typeof===N)return ie(ee,J,yl(ee,ne),oe);_l(ee,ne)}return null}function ae(ee,J,ne,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return ee=ee.get(ne)||null,O(J,ee,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return ee=ee.get(oe.key===null?ne:oe.key)||null,G(J,ee,oe,we);case w:return ee=ee.get(oe.key===null?ne:oe.key)||null,re(J,ee,oe,we);case C:return oe=hi(oe),ae(ee,J,ne,oe,we)}if(V(oe)||I(oe))return ee=ee.get(ne)||null,le(J,ee,oe,we,null);if(typeof oe.then=="function")return ae(ee,J,ne,wl(oe),we);if(oe.$$typeof===N)return ae(ee,J,ne,yl(J,oe),we);_l(J,oe)}return null}function ye(ee,J,ne,oe){for(var we=null,qe=null,ve=J,Oe=J=0,Me=null;ve!==null&&Oe<ne.length;Oe++){ve.index>Oe?(Me=ve,ve=null):Me=ve.sibling;var Pe=ie(ee,ve,ne[Oe],oe);if(Pe===null){ve===null&&(ve=Me);break}e&&ve&&Pe.alternate===null&&r(ee,ve),J=y(Pe,J,Oe),qe===null?we=Pe:qe.sibling=Pe,qe=Pe,ve=Me}if(Oe===ne.length)return s(ee,ve),Be&&cr(ee,Oe),we;if(ve===null){for(;Oe<ne.length;Oe++)ve=ue(ee,ne[Oe],oe),ve!==null&&(J=y(ve,J,Oe),qe===null?we=ve:qe.sibling=ve,qe=ve);return Be&&cr(ee,Oe),we}for(ve=u(ve);Oe<ne.length;Oe++)Me=ae(ve,ee,Oe,ne[Oe],oe),Me!==null&&(e&&Me.alternate!==null&&ve.delete(Me.key===null?Oe:Me.key),J=y(Me,J,Oe),qe===null?we=Me:qe.sibling=Me,qe=Me);return e&&ve.forEach(function(Jr){return r(ee,Jr)}),Be&&cr(ee,Oe),we}function _e(ee,J,ne,oe){if(ne==null)throw Error(a(151));for(var we=null,qe=null,ve=J,Oe=J=0,Me=null,Pe=ne.next();ve!==null&&!Pe.done;Oe++,Pe=ne.next()){ve.index>Oe?(Me=ve,ve=null):Me=ve.sibling;var Jr=ie(ee,ve,Pe.value,oe);if(Jr===null){ve===null&&(ve=Me);break}e&&ve&&Jr.alternate===null&&r(ee,ve),J=y(Jr,J,Oe),qe===null?we=Jr:qe.sibling=Jr,qe=Jr,ve=Me}if(Pe.done)return s(ee,ve),Be&&cr(ee,Oe),we;if(ve===null){for(;!Pe.done;Oe++,Pe=ne.next())Pe=ue(ee,Pe.value,oe),Pe!==null&&(J=y(Pe,J,Oe),qe===null?we=Pe:qe.sibling=Pe,qe=Pe);return Be&&cr(ee,Oe),we}for(ve=u(ve);!Pe.done;Oe++,Pe=ne.next())Pe=ae(ve,ee,Oe,Pe.value,oe),Pe!==null&&(e&&Pe.alternate!==null&&ve.delete(Pe.key===null?Oe:Pe.key),J=y(Pe,J,Oe),qe===null?we=Pe:qe.sibling=Pe,qe=Pe);return e&&ve.forEach(function(Kw){return r(ee,Kw)}),Be&&cr(ee,Oe),we}function We(ee,J,ne,oe){if(typeof ne=="object"&&ne!==null&&ne.type===S&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:e:{for(var we=ne.key;J!==null;){if(J.key===we){if(we=ne.type,we===S){if(J.tag===7){s(ee,J.sibling),oe=h(J,ne.props.children),oe.return=ee,ee=oe;break e}}else if(J.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===C&&hi(we)===J.type){s(ee,J.sibling),oe=h(J,ne.props),ts(oe,ne),oe.return=ee,ee=oe;break e}s(ee,J);break}else r(ee,J);J=J.sibling}ne.type===S?(oe=oi(ne.props.children,ee.mode,oe,ne.key),oe.return=ee,ee=oe):(oe=ml(ne.type,ne.key,ne.props,null,ee.mode,oe),ts(oe,ne),oe.return=ee,ee=oe)}return _(ee);case w:e:{for(we=ne.key;J!==null;){if(J.key===we)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){s(ee,J.sibling),oe=h(J,ne.children||[]),oe.return=ee,ee=oe;break e}else{s(ee,J);break}else r(ee,J);J=J.sibling}oe=Tu(ne,ee.mode,oe),oe.return=ee,ee=oe}return _(ee);case C:return ne=hi(ne),We(ee,J,ne,oe)}if(V(ne))return ye(ee,J,ne,oe);if(I(ne)){if(we=I(ne),typeof we!="function")throw Error(a(150));return ne=we.call(ne),_e(ee,J,ne,oe)}if(typeof ne.then=="function")return We(ee,J,wl(ne),oe);if(ne.$$typeof===N)return We(ee,J,yl(ee,ne),oe);_l(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(s(ee,J.sibling),oe=h(J,ne),oe.return=ee,ee=oe):(s(ee,J),oe=Au(ne,ee.mode,oe),oe.return=ee,ee=oe),_(ee)):s(ee,J)}return function(ee,J,ne,oe){try{es=0;var we=We(ee,J,ne,oe);return Ji=null,we}catch(ve){if(ve===Xi||ve===bl)throw ve;var qe=dn(29,ve,null,ee.mode);return qe.lanes=oe,qe.return=ee,qe}finally{}}}var pi=om(!0),um=om(!1),Dr=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pu(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,r,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=hl(e),Gh(e,null,s),r}return dl(e,u,r,s),hl(e)}function ns(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,s|=u,r.lanes=s,eh(e,s)}}function Hu(e,r){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?h=y=_:y=y.next=_,s=s.next}while(s!==null);y===null?h=y=r:y=y.next=r}else h=y=r;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var $u=!1;function rs(){if($u){var e=Qi;if(e!==null)throw e}}function is(e,r,s,u){$u=!1;var h=e.updateQueue;Dr=!1;var y=h.firstBaseUpdate,_=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var G=O,re=G.next;G.next=null,_===null?y=re:_.next=re,_=G;var le=e.alternate;le!==null&&(le=le.updateQueue,O=le.lastBaseUpdate,O!==_&&(O===null?le.firstBaseUpdate=re:O.next=re,le.lastBaseUpdate=G))}if(y!==null){var ue=h.baseState;_=0,le=re=G=null,O=y;do{var ie=O.lane&-536870913,ae=ie!==O.lane;if(ae?(Le&ie)===ie:(u&ie)===ie){ie!==0&&ie===Ki&&($u=!0),le!==null&&(le=le.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ye=e,_e=O;ie=r;var We=s;switch(_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){ue=ye.call(We,ue,ie);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,ie=typeof ye=="function"?ye.call(We,ue,ie):ye,ie==null)break e;ue=g({},ue,ie);break e;case 2:Dr=!0}}ie=O.callback,ie!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=h.callbacks,ae===null?h.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},le===null?(re=le=ae,G=ue):le=le.next=ae,_|=ie;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ae=O,O=ae.next,ae.next=null,h.lastBaseUpdate=ae,h.shared.pending=null}}while(!0);le===null&&(G=ue),h.baseState=G,h.firstBaseUpdate=re,h.lastBaseUpdate=le,y===null&&(h.shared.lanes=0),Pr|=_,e.lanes=_,e.memoizedState=ue}}function cm(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function fm(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)cm(s[e],r)}var Zi=q(null),Sl=q(0);function dm(e,r){e=wr,U(Sl,e),U(Zi,r),wr=e|r.baseLanes}function Fu(){U(Sl,wr),U(Zi,Zi.current)}function Vu(){wr=Sl.current,Q(Zi),Q(Sl)}var hn=q(null),Rn=null;function Mr(e){var r=e.alternate;U(_t,_t.current&1),U(hn,e),Rn===null&&(r===null||Zi.current!==null||r.memoizedState!==null)&&(Rn=e)}function Gu(e){U(_t,_t.current),U(hn,e),Rn===null&&(Rn=e)}function hm(e){e.tag===22?(U(_t,_t.current),U(hn,e),Rn===null&&(Rn=e)):Br()}function Br(){U(_t,_t.current),U(hn,hn.current)}function mn(e){Q(hn),Rn===e&&(Rn=null),Q(_t)}var _t=q(0);function El(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Zc(s)||Wc(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hr=0,Ce=null,Je=null,At=null,jl=!1,Wi=!1,gi=!1,kl=0,as=0,ea=null,Bx=0;function xt(){throw Error(a(321))}function Yu(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!fn(e[s],r[s]))return!1;return!0}function Ku(e,r,s,u,h,y){return hr=y,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=e===null||e.memoizedState===null?Xm:uc,gi=!1,y=s(u,h),gi=!1,Wi&&(y=pm(r,s,u,h)),mm(e),y}function mm(e){k.H=os;var r=Je!==null&&Je.next!==null;if(hr=0,At=Je=Ce=null,jl=!1,as=0,ea=null,r)throw Error(a(300));e===null||Tt||(e=e.dependencies,e!==null&&gl(e)&&(Tt=!0))}function pm(e,r,s,u){Ce=e;var h=0;do{if(Wi&&(ea=null),as=0,Wi=!1,25<=h)throw Error(a(301));if(h+=1,At=Je=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=Jm,y=r(s,u)}while(Wi);return y}function Ix(){var e=k.H,r=e.useState()[0];return r=typeof r.then=="function"?ss(r):r,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Ce.flags|=1024),r}function Qu(){var e=kl!==0;return kl=0,e}function Xu(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Ju(e){if(jl){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}jl=!1}hr=0,At=Je=Ce=null,Wi=!1,as=kl=0,ea=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ce.memoizedState=At=e:At=At.next=e,At}function St(){if(Je===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var r=At===null?Ce.memoizedState:At.next;if(r!==null)At=r,Je=e;else{if(e===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Ce.memoizedState=At=e:At=At.next=e}return At}function Al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(e){var r=as;return as+=1,ea===null&&(ea=[]),e=am(ea,e,r),r=Ce,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,k.H=r===null||r.memoizedState===null?Xm:uc),e}function Tl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===N)return qt(e)}throw Error(a(438,String(e)))}function Zu(e){var r=null,s=Ce.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Al(),Ce.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),u=0;u<e;u++)s[u]=F;return r.index++,s}function mr(e,r){return typeof r=="function"?r(e):r}function Nl(e){var r=St();return Wu(r,Je,e)}function Wu(e,r,s){var u=e.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=e.baseQueue,y=u.pending;if(y!==null){if(h!==null){var _=h.next;h.next=y.next,y.next=_}r.baseQueue=h=y,u.pending=null}if(y=e.baseState,h===null)e.memoizedState=y;else{r=h.next;var O=_=null,G=null,re=r,le=!1;do{var ue=re.lane&-536870913;if(ue!==re.lane?(Le&ue)===ue:(hr&ue)===ue){var ie=re.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ue===Ki&&(le=!0);else if((hr&ie)===ie){re=re.next,ie===Ki&&(le=!0);continue}else ue={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(O=G=ue,_=y):G=G.next=ue,Ce.lanes|=ie,Pr|=ie;ue=re.action,gi&&s(y,ue),y=re.hasEagerState?re.eagerState:s(y,ue)}else ie={lane:ue,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(O=G=ie,_=y):G=G.next=ie,Ce.lanes|=ue,Pr|=ue;re=re.next}while(re!==null&&re!==r);if(G===null?_=y:G.next=O,!fn(y,e.memoizedState)&&(Tt=!0,le&&(s=Qi,s!==null)))throw s;e.memoizedState=y,e.baseState=_,e.baseQueue=G,u.lastRenderedState=y}return h===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function ec(e){var r=St(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var u=s.dispatch,h=s.pending,y=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do y=e(y,_.action),_=_.next;while(_!==h);fn(y,r.memoizedState)||(Tt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),s.lastRenderedState=y}return[y,u]}function gm(e,r,s){var u=Ce,h=St(),y=Be;if(y){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!fn((Je||h).memoizedState,s);if(_&&(h.memoizedState=s,Tt=!0),h=h.queue,rc(bm.bind(null,u,h,e),[e]),h.getSnapshot!==r||_||At!==null&&At.memoizedState.tag&1){if(u.flags|=2048,ta(9,{destroy:void 0},vm.bind(null,u,h,s,r),null),et===null)throw Error(a(349));y||(hr&127)!==0||ym(u,r,s)}return s}function ym(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ce.updateQueue,r===null?(r=Al(),Ce.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function vm(e,r,s,u){r.value=s,r.getSnapshot=u,xm(r)&&wm(e)}function bm(e,r,s){return s(function(){xm(r)&&wm(e)})}function xm(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!fn(e,s)}catch{return!0}}function wm(e){var r=li(e,2);r!==null&&rn(r,e,2)}function tc(e){var r=Xt();if(typeof e=="function"){var s=e;if(e=s(),gi){bt(!0);try{s()}finally{bt(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e},r}function _m(e,r,s,u){return e.baseState=s,Wu(e,Je,typeof u=="function"?u:mr)}function qx(e,r,s,u,h){if(Ol(e))throw Error(a(485));if(e=r.action,e!==null){var y={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};k.T!==null?s(!0):y.isTransition=!1,u(y),s=r.pending,s===null?(y.next=r.pending=y,Sm(r,y)):(y.next=s.next,r.pending=s.next=y)}}function Sm(e,r){var s=r.action,u=r.payload,h=e.state;if(r.isTransition){var y=k.T,_={};k.T=_;try{var O=s(h,u),G=k.S;G!==null&&G(_,O),Em(e,r,O)}catch(re){nc(e,r,re)}finally{y!==null&&_.types!==null&&(y.types=_.types),k.T=y}}else try{y=s(h,u),Em(e,r,y)}catch(re){nc(e,r,re)}}function Em(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){jm(e,r,u)},function(u){return nc(e,r,u)}):jm(e,r,s)}function jm(e,r,s){r.status="fulfilled",r.value=s,km(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,Sm(e,s)))}function nc(e,r,s){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,km(r),r=r.next;while(r!==u)}e.action=null}function km(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Am(e,r){return r}function Tm(e,r){if(Be){var s=et.formState;if(s!==null){e:{var u=Ce;if(Be){if(lt){t:{for(var h=lt,y=Cn;h.nodeType!==8;){if(!y){h=null;break t}if(h=On(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){lt=On(h.nextSibling),u=h.data==="F!";break e}}Or(u)}u=!1}u&&(r=s[0])}}return s=Xt(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:r},s.queue=u,s=Ym.bind(null,Ce,u),u.dispatch=s,u=tc(!1),y=oc.bind(null,Ce,!1,u.queue),u=Xt(),h={state:r,dispatch:null,action:e,pending:null},u.queue=h,s=qx.bind(null,Ce,h,y,s),h.dispatch=s,u.memoizedState=e,[r,s,!1]}function Nm(e){var r=St();return Cm(r,Je,e)}function Cm(e,r,s){if(r=Wu(e,r,Am)[0],e=Nl(mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ss(r)}catch(_){throw _===Xi?bl:_}else u=r;r=St();var h=r.queue,y=h.dispatch;return s!==r.memoizedState&&(Ce.flags|=2048,ta(9,{destroy:void 0},Px.bind(null,h,s),null)),[u,y,e]}function Px(e,r){e.action=r}function Rm(e){var r=St(),s=Je;if(s!==null)return Cm(r,s,e);St(),r=r.memoizedState,s=St();var u=s.queue.dispatch;return s.memoizedState=e,[r,u,!1]}function ta(e,r,s,u){return e={tag:e,create:s,deps:u,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Al(),Ce.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,r.lastEffect=e),e}function Om(){return St().memoizedState}function Cl(e,r,s,u){var h=Xt();Ce.flags|=e,h.memoizedState=ta(1|r,{destroy:void 0},s,u===void 0?null:u)}function Rl(e,r,s,u){var h=St();u=u===void 0?null:u;var y=h.memoizedState.inst;Je!==null&&u!==null&&Yu(u,Je.memoizedState.deps)?h.memoizedState=ta(r,y,s,u):(Ce.flags|=e,h.memoizedState=ta(1|r,y,s,u))}function Um(e,r){Cl(8390656,8,e,r)}function rc(e,r){Rl(2048,8,e,r)}function Hx(e){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=Al(),Ce.updateQueue=r,r.events=[e];else{var s=r.events;s===null?r.events=[e]:s.push(e)}}function Dm(e){var r=St().memoizedState;return Hx({ref:r,nextImpl:e}),function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function zm(e,r){return Rl(4,2,e,r)}function Lm(e,r){return Rl(4,4,e,r)}function Mm(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Bm(e,r,s){s=s!=null?s.concat([e]):null,Rl(4,4,Mm.bind(null,r,e),s)}function ic(){}function Im(e,r){var s=St();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&Yu(r,u[1])?u[0]:(s.memoizedState=[e,r],e)}function qm(e,r){var s=St();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&Yu(r,u[1]))return u[0];if(u=e(),gi){bt(!0);try{e()}finally{bt(!1)}}return s.memoizedState=[u,r],u}function ac(e,r,s){return s===void 0||(hr&1073741824)!==0&&(Le&261930)===0?e.memoizedState=r:(e.memoizedState=s,e=Pp(),Ce.lanes|=e,Pr|=e,s)}function Pm(e,r,s,u){return fn(s,r)?s:Zi.current!==null?(e=ac(e,s,u),fn(e,r)||(Tt=!0),e):(hr&42)===0||(hr&1073741824)!==0&&(Le&261930)===0?(Tt=!0,e.memoizedState=s):(e=Pp(),Ce.lanes|=e,Pr|=e,r)}function Hm(e,r,s,u,h){var y=A.p;A.p=y!==0&&8>y?y:8;var _=k.T,O={};k.T=O,oc(e,!1,r,s);try{var G=h(),re=k.S;if(re!==null&&re(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=Mx(G,u);ls(e,r,le,yn(e))}else ls(e,r,u,yn(e))}catch(ue){ls(e,r,{then:function(){},status:"rejected",reason:ue},yn())}finally{A.p=y,_!==null&&O.types!==null&&(_.types=O.types),k.T=_}}function $x(){}function sc(e,r,s,u){if(e.tag!==5)throw Error(a(476));var h=$m(e).queue;Hm(e,h,r,te,s===null?$x:function(){return Fm(e),s(u)})}function $m(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:te},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Fm(e){var r=$m(e);r.next===null&&(r=e.alternate.memoizedState),ls(e,r.next.queue,{},yn())}function lc(){return qt(Es)}function Vm(){return St().memoizedState}function Gm(){return St().memoizedState}function Fx(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=yn();e=zr(s);var u=Lr(r,e,s);u!==null&&(rn(u,r,s),ns(u,r,s)),r={cache:Lu()},e.payload=r;return}r=r.return}}function Vx(e,r,s){var u=yn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ol(e)?Km(r,s):(s=ju(e,r,s,u),s!==null&&(rn(s,e,u),Qm(s,r,u)))}function Ym(e,r,s){var u=yn();ls(e,r,s,u)}function ls(e,r,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ol(e))Km(r,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,O=y(_,s);if(h.hasEagerState=!0,h.eagerState=O,fn(O,_))return dl(e,r,h,0),et===null&&fl(),!1}catch{}finally{}if(s=ju(e,r,h,u),s!==null)return rn(s,e,u),Qm(s,r,u),!0}return!1}function oc(e,r,s,u){if(u={lane:2,revertLane:qc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ol(e)){if(r)throw Error(a(479))}else r=ju(e,s,u,2),r!==null&&rn(r,e,2)}function Ol(e){var r=e.alternate;return e===Ce||r!==null&&r===Ce}function Km(e,r){Wi=jl=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Qm(e,r,s){if((s&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,s|=u,r.lanes=s,eh(e,s)}}var os={readContext:qt,use:Tl,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};os.useEffectEvent=xt;var Xm={readContext:qt,use:Tl,useCallback:function(e,r){return Xt().memoizedState=[e,r===void 0?null:r],e},useContext:qt,useEffect:Um,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,Cl(4194308,4,Mm.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Cl(4194308,4,e,r)},useInsertionEffect:function(e,r){Cl(4,2,e,r)},useMemo:function(e,r){var s=Xt();r=r===void 0?null:r;var u=e();if(gi){bt(!0);try{e()}finally{bt(!1)}}return s.memoizedState=[u,r],u},useReducer:function(e,r,s){var u=Xt();if(s!==void 0){var h=s(r);if(gi){bt(!0);try{s(r)}finally{bt(!1)}}}else h=r;return u.memoizedState=u.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},u.queue=e,e=e.dispatch=Vx.bind(null,Ce,e),[u.memoizedState,e]},useRef:function(e){var r=Xt();return e={current:e},r.memoizedState=e},useState:function(e){e=tc(e);var r=e.queue,s=Ym.bind(null,Ce,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(e,r){var s=Xt();return ac(s,e,r)},useTransition:function(){var e=tc(!1);return e=Hm.bind(null,Ce,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var u=Ce,h=Xt();if(Be){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),et===null)throw Error(a(349));(Le&127)!==0||ym(u,r,s)}h.memoizedState=s;var y={value:s,getSnapshot:r};return h.queue=y,Um(bm.bind(null,u,y,e),[e]),u.flags|=2048,ta(9,{destroy:void 0},vm.bind(null,u,y,s,r),null),s},useId:function(){var e=Xt(),r=et.identifierPrefix;if(Be){var s=Zn,u=Jn;s=(u&~(1<<32-He(u)-1)).toString(32)+s,r="_"+r+"R_"+s,s=kl++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=Bx++,r="_"+r+"r_"+s.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:lc,useFormState:Tm,useActionState:Tm,useOptimistic:function(e){var r=Xt();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=oc.bind(null,Ce,!0,s),s.dispatch=r,[e,r]},useMemoCache:Zu,useCacheRefresh:function(){return Xt().memoizedState=Fx.bind(null,Ce)},useEffectEvent:function(e){var r=Xt(),s={impl:e};return r.memoizedState=s,function(){if(($e&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},uc={readContext:qt,use:Tl,useCallback:Im,useContext:qt,useEffect:rc,useImperativeHandle:Bm,useInsertionEffect:zm,useLayoutEffect:Lm,useMemo:qm,useReducer:Nl,useRef:Om,useState:function(){return Nl(mr)},useDebugValue:ic,useDeferredValue:function(e,r){var s=St();return Pm(s,Je.memoizedState,e,r)},useTransition:function(){var e=Nl(mr)[0],r=St().memoizedState;return[typeof e=="boolean"?e:ss(e),r]},useSyncExternalStore:gm,useId:Vm,useHostTransitionStatus:lc,useFormState:Nm,useActionState:Nm,useOptimistic:function(e,r){var s=St();return _m(s,Je,e,r)},useMemoCache:Zu,useCacheRefresh:Gm};uc.useEffectEvent=Dm;var Jm={readContext:qt,use:Tl,useCallback:Im,useContext:qt,useEffect:rc,useImperativeHandle:Bm,useInsertionEffect:zm,useLayoutEffect:Lm,useMemo:qm,useReducer:ec,useRef:Om,useState:function(){return ec(mr)},useDebugValue:ic,useDeferredValue:function(e,r){var s=St();return Je===null?ac(s,e,r):Pm(s,Je.memoizedState,e,r)},useTransition:function(){var e=ec(mr)[0],r=St().memoizedState;return[typeof e=="boolean"?e:ss(e),r]},useSyncExternalStore:gm,useId:Vm,useHostTransitionStatus:lc,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,r){var s=St();return Je!==null?_m(s,Je,e,r):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:Gm};Jm.useEffectEvent=Dm;function cc(e,r,s,u){r=e.memoizedState,s=s(u,r),s=s==null?r:g({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fc={enqueueSetState:function(e,r,s){e=e._reactInternals;var u=yn(),h=zr(u);h.payload=r,s!=null&&(h.callback=s),r=Lr(e,h,u),r!==null&&(rn(r,e,u),ns(r,e,u))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var u=yn(),h=zr(u);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Lr(e,h,u),r!==null&&(rn(r,e,u),ns(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=yn(),u=zr(s);u.tag=2,r!=null&&(u.callback=r),r=Lr(e,u,s),r!==null&&(rn(r,e,s),ns(r,e,s))}};function Zm(e,r,s,u,h,y,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!Ka(s,u)||!Ka(h,y):!0}function Wm(e,r,s,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==e&&fc.enqueueReplaceState(r,r.state,null)}function yi(e,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(e=e.defaultProps){s===r&&(s=g({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function ep(e){cl(e)}function tp(e){console.error(e)}function np(e){cl(e)}function Ul(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function rp(e,r,s){try{var u=e.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dc(e,r,s){return s=zr(s),s.tag=3,s.payload={element:null},s.callback=function(){Ul(e,r)},s}function ip(e){return e=zr(e),e.tag=3,e}function ap(e,r,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;e.payload=function(){return h(y)},e.callback=function(){rp(r,s,u)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){rp(r,s,u),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function Gx(e,r,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&Yi(r,s,h,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return Rn===null?Vl():s.alternate===null&&wt===0&&(wt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===xl?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),Mc(e,u,h)),!1;case 22:return s.flags|=65536,u===xl?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),Mc(e,u,h)),!1}throw Error(a(435,s.tag))}return Mc(e,u,h),Vl(),!1}if(Be)return r=hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Ru&&(e=Error(a(422),{cause:u}),Ja(An(e,s)))):(u!==Ru&&(r=Error(a(423),{cause:u}),Ja(An(r,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,u=An(u,s),h=dc(e.stateNode,u,h),Hu(e,h),wt!==4&&(wt=2)),!1;var y=Error(a(520),{cause:u});if(y=An(y,s),gs===null?gs=[y]:gs.push(y),wt!==4&&(wt=2),r===null)return!0;u=An(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=dc(s.stateNode,u,e),Hu(s,e),!1;case 1:if(r=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hr===null||!Hr.has(y))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ip(h),ap(h,e,s,u),Hu(s,h),!1}s=s.return}while(s!==null);return!1}var hc=Error(a(461)),Tt=!1;function Pt(e,r,s,u){r.child=e===null?um(r,null,s,u):pi(r,e.child,s,u)}function sp(e,r,s,u,h){s=s.render;var y=r.ref;if("ref"in u){var _={};for(var O in u)O!=="ref"&&(_[O]=u[O])}else _=u;return fi(r),u=Ku(e,r,s,_,y,h),O=Qu(),e!==null&&!Tt?(Xu(e,r,h),pr(e,r,h)):(Be&&O&&Nu(r),r.flags|=1,Pt(e,r,u,h),r.child)}function lp(e,r,s,u,h){if(e===null){var y=s.type;return typeof y=="function"&&!ku(y)&&y.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=y,op(e,r,y,u,h)):(e=ml(s.type,null,u,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(y=e.child,!wc(e,h)){var _=y.memoizedProps;if(s=s.compare,s=s!==null?s:Ka,s(_,u)&&e.ref===r.ref)return pr(e,r,h)}return r.flags|=1,e=ur(y,u),e.ref=r.ref,e.return=r,r.child=e}function op(e,r,s,u,h){if(e!==null){var y=e.memoizedProps;if(Ka(y,u)&&e.ref===r.ref)if(Tt=!1,r.pendingProps=u=y,wc(e,h))(e.flags&131072)!==0&&(Tt=!0);else return r.lanes=e.lanes,pr(e,r,h)}return mc(e,r,s,u,h)}function up(e,r,s,u){var h=u.children,y=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,e!==null){for(u=r.child=e.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~y}else u=0,r.child=null;return cp(e,r,y,s,u)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(r,y!==null?y.cachePool:null),y!==null?dm(r,y):Fu(),hm(r);else return u=r.lanes=536870912,cp(e,r,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(vl(r,y.cachePool),dm(r,y),Br(),r.memoizedState=null):(e!==null&&vl(r,null),Fu(),Br());return Pt(e,r,h,s),r.child}function us(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cp(e,r,s,u,h){var y=Bu();return y=y===null?null:{parent:kt._currentValue,pool:y},r.memoizedState={baseLanes:s,cachePool:y},e!==null&&vl(r,null),Fu(),hm(r),e!==null&&Yi(e,r,u,!0),r.childLanes=h,null}function Dl(e,r){return r=Ll({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function fp(e,r,s){return pi(r,e.child,null,s),e=Dl(r,r.pendingProps),e.flags|=2,mn(r),r.memoizedState=null,e}function Yx(e,r,s){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Be){if(u.mode==="hidden")return e=Dl(r,u),r.lanes=536870912,us(null,e);if(Gu(r),(e=lt)?(e=Sg(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=Kh(e),s.return=r,r.child=s,It=r,lt=null)):e=null,e===null)throw Or(r);return r.lanes=536870912,null}return Dl(r,u)}var y=e.memoizedState;if(y!==null){var _=y.dehydrated;if(Gu(r),h)if(r.flags&256)r.flags&=-257,r=fp(e,r,s);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(a(558));else if(Tt||Yi(e,r,s,!1),h=(s&e.childLanes)!==0,Tt||h){if(u=et,u!==null&&(_=th(u,s),_!==0&&_!==y.retryLane))throw y.retryLane=_,li(e,_),rn(u,e,_),hc;Vl(),r=fp(e,r,s)}else e=y.treeContext,lt=On(_.nextSibling),It=r,Be=!0,Rr=null,Cn=!1,e!==null&&Jh(r,e),r=Dl(r,u),r.flags|=4096;return r}return e=ur(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function zl(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=4194816)}}function mc(e,r,s,u,h){return fi(r),s=Ku(e,r,s,u,void 0,h),u=Qu(),e!==null&&!Tt?(Xu(e,r,h),pr(e,r,h)):(Be&&u&&Nu(r),r.flags|=1,Pt(e,r,s,h),r.child)}function dp(e,r,s,u,h,y){return fi(r),r.updateQueue=null,s=pm(r,u,s,h),mm(e),u=Qu(),e!==null&&!Tt?(Xu(e,r,y),pr(e,r,y)):(Be&&u&&Nu(r),r.flags|=1,Pt(e,r,s,y),r.child)}function hp(e,r,s,u,h){if(fi(r),r.stateNode===null){var y=$i,_=s.contextType;typeof _=="object"&&_!==null&&(y=qt(_)),y=new s(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fc,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},qu(r),_=s.contextType,y.context=typeof _=="object"&&_!==null?qt(_):$i,y.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(cc(r,s,_,u),y.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&fc.enqueueReplaceState(y,y.state,null),is(r,u,y,h),rs(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){y=r.stateNode;var O=r.memoizedProps,G=yi(s,O);y.props=G;var re=y.context,le=s.contextType;_=$i,typeof le=="object"&&le!==null&&(_=qt(le));var ue=s.getDerivedStateFromProps;le=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||re!==_)&&Wm(r,y,u,_),Dr=!1;var ie=r.memoizedState;y.state=ie,is(r,u,y,h),rs(),re=r.memoizedState,O||ie!==re||Dr?(typeof ue=="function"&&(cc(r,s,ue,u),re=r.memoizedState),(G=Dr||Zm(r,s,G,u,ie,re,_))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=re),y.props=u,y.state=re,y.context=_,u=G):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Pu(e,r),_=r.memoizedProps,le=yi(s,_),y.props=le,ue=r.pendingProps,ie=y.context,re=s.contextType,G=$i,typeof re=="object"&&re!==null&&(G=qt(re)),O=s.getDerivedStateFromProps,(re=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ue||ie!==G)&&Wm(r,y,u,G),Dr=!1,ie=r.memoizedState,y.state=ie,is(r,u,y,h),rs();var ae=r.memoizedState;_!==ue||ie!==ae||Dr||e!==null&&e.dependencies!==null&&gl(e.dependencies)?(typeof O=="function"&&(cc(r,s,O,u),ae=r.memoizedState),(le=Dr||Zm(r,s,le,u,ie,ae,G)||e!==null&&e.dependencies!==null&&gl(e.dependencies))?(re||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ae,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ae,G)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),y.props=u,y.state=ae,y.context=G,u=le):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=1024),u=!1)}return y=u,zl(e,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,e!==null&&u?(r.child=pi(r,e.child,null,h),r.child=pi(r,null,s,h)):Pt(e,r,s,h),r.memoizedState=y.state,e=r.child):e=pr(e,r,h),e}function mp(e,r,s,u){return ui(),r.flags|=256,Pt(e,r,s,u),r.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:rm()}}function yc(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=gn),e}function pp(e,r,s){var u=r.pendingProps,h=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Be){if(h?Mr(r):Br(),(e=lt)?(e=Sg(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=Kh(e),s.return=r,r.child=s,It=r,lt=null)):e=null,e===null)throw Or(r);return Wc(e)?r.lanes=32:r.lanes=536870912,null}var O=u.children;return u=u.fallback,h?(Br(),h=r.mode,O=Ll({mode:"hidden",children:O},h),u=oi(u,h,s,null),O.return=r,u.return=r,O.sibling=u,r.child=O,u=r.child,u.memoizedState=gc(s),u.childLanes=yc(e,_,s),r.memoizedState=pc,us(null,u)):(Mr(r),vc(r,O))}var G=e.memoizedState;if(G!==null&&(O=G.dehydrated,O!==null)){if(y)r.flags&256?(Mr(r),r.flags&=-257,r=bc(e,r,s)):r.memoizedState!==null?(Br(),r.child=e.child,r.flags|=128,r=null):(Br(),O=u.fallback,h=r.mode,u=Ll({mode:"visible",children:u.children},h),O=oi(O,h,s,null),O.flags|=2,u.return=r,O.return=r,u.sibling=O,r.child=u,pi(r,e.child,null,s),u=r.child,u.memoizedState=gc(s),u.childLanes=yc(e,_,s),r.memoizedState=pc,r=us(null,u));else if(Mr(r),Wc(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var re=_.dgst;_=re,u=Error(a(419)),u.stack="",u.digest=_,Ja({value:u,source:null,stack:null}),r=bc(e,r,s)}else if(Tt||Yi(e,r,s,!1),_=(s&e.childLanes)!==0,Tt||_){if(_=et,_!==null&&(u=th(_,s),u!==0&&u!==G.retryLane))throw G.retryLane=u,li(e,u),rn(_,e,u),hc;Zc(O)||Vl(),r=bc(e,r,s)}else Zc(O)?(r.flags|=192,r.child=e.child,r=null):(e=G.treeContext,lt=On(O.nextSibling),It=r,Be=!0,Rr=null,Cn=!1,e!==null&&Jh(r,e),r=vc(r,u.children),r.flags|=4096);return r}return h?(Br(),O=u.fallback,h=r.mode,G=e.child,re=G.sibling,u=ur(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,re!==null?O=ur(re,O):(O=oi(O,h,s,null),O.flags|=2),O.return=r,u.return=r,u.sibling=O,r.child=u,us(null,u),u=r.child,O=e.child.memoizedState,O===null?O=gc(s):(h=O.cachePool,h!==null?(G=kt._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=rm(),O={baseLanes:O.baseLanes|s,cachePool:h}),u.memoizedState=O,u.childLanes=yc(e,_,s),r.memoizedState=pc,us(e.child,u)):(Mr(r),s=e.child,e=s.sibling,s=ur(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=s,r.memoizedState=null,s)}function vc(e,r){return r=Ll({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ll(e,r){return e=dn(22,e,null,r),e.lanes=0,e}function bc(e,r,s){return pi(r,e.child,null,s),e=vc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function gp(e,r,s){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Du(e.return,r,s)}function xc(e,r,s,u,h,y){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=s,_.tailMode=h,_.treeForkCount=y)}function yp(e,r,s){var u=r.pendingProps,h=u.revealOrder,y=u.tail;u=u.children;var _=_t.current,O=(_&2)!==0;if(O?(_=_&1|2,r.flags|=128):_&=1,U(_t,_),Pt(e,r,u,s),u=Be?Xa:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gp(e,s,r);else if(e.tag===19)gp(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=r.child,h=null;s!==null;)e=s.alternate,e!==null&&El(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),xc(r,!1,h,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&El(e)===null){r.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}xc(r,!0,s,null,y,u);break;case"together":xc(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function pr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Pr|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(Yi(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=ur(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=ur(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function wc(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&gl(e)))}function Kx(e,r,s){switch(r.tag){case 3:fe(r,r.stateNode.containerInfo),Ur(r,kt,e.memoizedState.cache),ui();break;case 27:case 5:Ae(r);break;case 4:fe(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gu(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Mr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?pp(e,r,s):(Mr(r),e=pr(e,r,s),e!==null?e.sibling:null);Mr(r);break;case 19:var h=(e.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(Yi(e,r,s,!1),u=(s&r.childLanes)!==0),h){if(u)return yp(e,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),U(_t,_t.current),u)break;return null;case 22:return r.lanes=0,up(e,r,s,r.pendingProps);case 24:Ur(r,kt,e.memoizedState.cache)}return pr(e,r,s)}function vp(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Tt=!0;else{if(!wc(e,s)&&(r.flags&128)===0)return Tt=!1,Kx(e,r,s);Tt=(e.flags&131072)!==0}else Tt=!1,Be&&(r.flags&1048576)!==0&&Xh(r,Xa,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(e=hi(r.elementType),r.type=e,typeof e=="function")ku(e)?(u=yi(e,u),r.tag=1,r=hp(null,r,e,u,s)):(r.tag=0,r=mc(null,r,e,u,s));else{if(e!=null){var h=e.$$typeof;if(h===M){r.tag=11,r=sp(null,r,e,u,s);break e}else if(h===H){r.tag=14,r=lp(null,r,e,u,s);break e}}throw r=P(e)||e,Error(a(306,r,""))}}return r;case 0:return mc(e,r,r.type,r.pendingProps,s);case 1:return u=r.type,h=yi(u,r.pendingProps),hp(e,r,u,h,s);case 3:e:{if(fe(r,r.stateNode.containerInfo),e===null)throw Error(a(387));u=r.pendingProps;var y=r.memoizedState;h=y.element,Pu(e,r),is(r,u,null,s);var _=r.memoizedState;if(u=_.cache,Ur(r,kt,u),u!==y.cache&&zu(r,[kt],s,!0),rs(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=mp(e,r,u,s);break e}else if(u!==h){h=An(Error(a(424)),r),Ja(h),r=mp(e,r,u,s);break e}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=On(e.firstChild),It=r,Be=!0,Rr=null,Cn=!0,s=um(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ui(),u===h){r=pr(e,r,s);break e}Pt(e,r,u,s)}r=r.child}return r;case 26:return zl(e,r),e===null?(s=Ng(r.type,null,r.pendingProps,null))?r.memoizedState=s:Be||(s=r.type,e=r.pendingProps,u=Zl(W.current).createElement(s),u[Bt]=r,u[Jt]=e,Ht(u,s,e),Dt(u),r.stateNode=u):r.memoizedState=Ng(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Ae(r),e===null&&Be&&(u=r.stateNode=kg(r.type,r.pendingProps,W.current),It=r,Cn=!0,h=lt,Gr(r.type)?(ef=h,lt=On(u.firstChild)):lt=h),Pt(e,r,r.pendingProps.children,s),zl(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Be&&((h=u=lt)&&(u=Ew(u,r.type,r.pendingProps,Cn),u!==null?(r.stateNode=u,It=r,lt=On(u.firstChild),Cn=!1,h=!0):h=!1),h||Or(r)),Ae(r),h=r.type,y=r.pendingProps,_=e!==null?e.memoizedProps:null,u=y.children,Qc(h,y)?u=null:_!==null&&Qc(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Ku(e,r,Ix,null,null,s),Es._currentValue=h),zl(e,r),Pt(e,r,u,s),r.child;case 6:return e===null&&Be&&((e=s=lt)&&(s=jw(s,r.pendingProps,Cn),s!==null?(r.stateNode=s,It=r,lt=null,e=!0):e=!1),e||Or(r)),null;case 13:return pp(e,r,s);case 4:return fe(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=pi(r,null,u,s):Pt(e,r,u,s),r.child;case 11:return sp(e,r,r.type,r.pendingProps,s);case 7:return Pt(e,r,r.pendingProps,s),r.child;case 8:return Pt(e,r,r.pendingProps.children,s),r.child;case 12:return Pt(e,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Ur(r,r.type,u.value),Pt(e,r,u.children,s),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,fi(r),h=qt(h),u=u(h),r.flags|=1,Pt(e,r,u,s),r.child;case 14:return lp(e,r,r.type,r.pendingProps,s);case 15:return op(e,r,r.type,r.pendingProps,s);case 19:return yp(e,r,s);case 31:return Yx(e,r,s);case 22:return up(e,r,s,r.pendingProps);case 24:return fi(r),u=qt(kt),e===null?(h=Bu(),h===null&&(h=et,y=Lu(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=s),h=y),r.memoizedState={parent:u,cache:h},qu(r),Ur(r,kt,h)):((e.lanes&s)!==0&&(Pu(e,r),is(r,null,null,s),rs()),h=e.memoizedState,y=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ur(r,kt,u)):(u=y.cache,Ur(r,kt,u),u!==h.cache&&zu(r,[kt],s,!0))),Pt(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function gr(e){e.flags|=4}function _c(e,r,s,u,h){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vp())e.flags|=8192;else throw mi=xl,Iu}else e.flags&=-16777217}function bp(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dg(r))if(Vp())e.flags|=8192;else throw mi=xl,Iu}function Ml(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Xn():536870912,e.lanes|=r,aa|=r)}function cs(e,r){if(!Be)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ot(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(r)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=s,r}function Qx(e,r,s){var u=r.pendingProps;switch(Cu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return s=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),dr(kt),pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gi(r)?gr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ou())),ot(r),null;case 26:var h=r.type,y=r.memoizedState;return e===null?(gr(r),y!==null?(ot(r),bp(r,y)):(ot(r),_c(r,h,null,u,s))):y?y!==e.memoizedState?(gr(r),ot(r),bp(r,y)):(ot(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&gr(r),ot(r),_c(r,h,e,u,s)),null;case 27:if(Ee(r),s=W.current,h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&gr(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return ot(r),null}e=X.current,Gi(r)?Zh(r):(e=kg(h,u,s),r.stateNode=e,gr(r))}return ot(r),null;case 5:if(Ee(r),h=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&gr(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return ot(r),null}if(y=X.current,Gi(r))Zh(r);else{var _=Zl(W.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(h,{is:u.is}):_.createElement(h)}}y[Bt]=r,y[Jt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(Ht(y,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gr(r)}}return ot(r),_c(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,s),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&gr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(e=W.current,Gi(r)){if(e=r.stateNode,s=r.memoizedProps,u=null,h=It,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}e[Bt]=r,e=!!(e.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||pg(e.nodeValue,s)),e||Or(r,!0)}else e=Zl(e).createTextNode(u),e[Bt]=r,r.stateNode=e}return ot(r),null;case 31:if(s=r.memoizedState,e===null||e.memoizedState!==null){if(u=Gi(r),s!==null){if(e===null){if(!u)throw Error(a(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Bt]=r}else ui(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),e=!1}else s=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return r.flags&256?(mn(r),r):(mn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ot(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Gi(r),u!==null&&u.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Bt]=r}else ui(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(mn(r),r):(mn(r),null)}return mn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=u!==null,e=e!==null&&e.memoizedState!==null,s&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)),s!==e&&s&&(r.child.flags|=8192),Ml(r,r.updateQueue),ot(r),null);case 4:return pe(),e===null&&Fc(r.stateNode.containerInfo),ot(r),null;case 10:return dr(r.type),ot(r),null;case 19:if(Q(_t),u=r.memoizedState,u===null)return ot(r),null;if(h=(r.flags&128)!==0,y=u.rendering,y===null)if(h)cs(u,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(y=El(e),y!==null){for(r.flags|=128,cs(u,!1),e=y.updateQueue,r.updateQueue=e,Ml(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)Yh(s,e),s=s.sibling;return U(_t,_t.current&1|2),Be&&cr(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&Re()>Hl&&(r.flags|=128,h=!0,cs(u,!1),r.lanes=4194304)}else{if(!h)if(e=El(y),e!==null){if(r.flags|=128,h=!0,e=e.updateQueue,r.updateQueue=e,Ml(r,e),cs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Be)return ot(r),null}else 2*Re()-u.renderingStartTime>Hl&&s!==536870912&&(r.flags|=128,h=!0,cs(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(e=u.last,e!==null?e.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=Re(),e.sibling=null,s=_t.current,U(_t,h?s&1|2:s&1),Be&&cr(r,u.treeForkCount),e):(ot(r),null);case 22:case 23:return mn(r),Vu(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),s=r.updateQueue,s!==null&&Ml(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),e!==null&&Q(di),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),dr(kt),ot(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Xx(e,r){switch(Cu(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return dr(kt),pe(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ee(r),null;case 31:if(r.memoizedState!==null){if(mn(r),r.alternate===null)throw Error(a(340));ui()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(mn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ui()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Q(_t),null;case 4:return pe(),null;case 10:return dr(r.type),null;case 22:case 23:return mn(r),Vu(),e!==null&&Q(di),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return dr(kt),null;case 25:return null;default:return null}}function xp(e,r){switch(Cu(r),r.tag){case 3:dr(kt),pe();break;case 26:case 27:case 5:Ee(r);break;case 4:pe();break;case 31:r.memoizedState!==null&&mn(r);break;case 13:mn(r);break;case 19:Q(_t);break;case 10:dr(r.type);break;case 22:case 23:mn(r),Vu(),e!==null&&Q(di);break;case 24:dr(kt)}}function fs(e,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&e)===e){u=void 0;var y=s.create,_=s.inst;u=y(),_.destroy=u}s=s.next}while(s!==h)}}catch(O){Xe(r,r.return,O)}}function Ir(e,r,s){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&e)===e){var _=u.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,h=r;var G=s,re=O;try{re()}catch(le){Xe(h,G,le)}}}u=u.next}while(u!==y)}}catch(le){Xe(r,r.return,le)}}function wp(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{fm(r,s)}catch(u){Xe(e,e.return,u)}}}function _p(e,r,s){s.props=yi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(u){Xe(e,r,u)}}function ds(e,r){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof s=="function"?e.refCleanup=s(u):s.current=u}}catch(h){Xe(e,r,h)}}function Wn(e,r){var s=e.ref,u=e.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Xe(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xe(e,r,h)}else s.current=null}function Sp(e){var r=e.type,s=e.memoizedProps,u=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Xe(e,e.return,h)}}function Sc(e,r,s){try{var u=e.stateNode;vw(u,e.type,s,r),u[Jt]=r}catch(h){Xe(e,e.return,h)}}function Ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gr(e.type)||e.tag===4}function Ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jc(e,r,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(e),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=lr));else if(u!==4&&(u===27&&Gr(e.type)&&(s=e.stateNode,r=null),e=e.child,e!==null))for(jc(e,r,s),e=e.sibling;e!==null;)jc(e,r,s),e=e.sibling}function Bl(e,r,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(u!==4&&(u===27&&Gr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Bl(e,r,s),e=e.sibling;e!==null;)Bl(e,r,s),e=e.sibling}function jp(e){var r=e.stateNode,s=e.memoizedProps;try{for(var u=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ht(r,u,s),r[Bt]=e,r[Jt]=s}catch(y){Xe(e,e.return,y)}}var yr=!1,Nt=!1,kc=!1,kp=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Jx(e,r){if(e=e.containerInfo,Yc=ao,e=Bh(e),bu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var _=0,O=-1,G=-1,re=0,le=0,ue=e,ie=null;t:for(;;){for(var ae;ue!==s||h!==0&&ue.nodeType!==3||(O=_+h),ue!==y||u!==0&&ue.nodeType!==3||(G=_+u),ue.nodeType===3&&(_+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ie=ue,ue=ae;for(;;){if(ue===e)break t;if(ie===s&&++re===h&&(O=_),ie===y&&++le===u&&(G=_),(ae=ue.nextSibling)!==null)break;ue=ie,ie=ue.parentNode}ue=ae}s=O===-1||G===-1?null:{start:O,end:G}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kc={focusedElem:e,selectionRange:s},ao=!1,zt=r;zt!==null;)if(r=zt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,zt=e;else for(;zt!==null;){switch(r=zt,y=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,s=r,h=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var ye=yi(s.type,h);e=u.getSnapshotBeforeUpdate(ye,y),u.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Xe(s,s.return,_e)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Jc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,zt=e;break}zt=r.return}}function Ap(e,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:br(e,s),u&4&&fs(5,s);break;case 1:if(br(e,s),u&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(_){Xe(s,s.return,_)}else{var h=yi(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(s,s.return,_)}}u&64&&wp(s),u&512&&ds(s,s.return);break;case 3:if(br(e,s),u&64&&(e=s.updateQueue,e!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{fm(e,r)}catch(_){Xe(s,s.return,_)}}break;case 27:r===null&&u&4&&jp(s);case 26:case 5:br(e,s),r===null&&u&4&&Sp(s),u&512&&ds(s,s.return);break;case 12:br(e,s);break;case 31:br(e,s),u&4&&Cp(e,s);break;case 13:br(e,s),u&4&&Rp(e,s),u&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=sw.bind(null,s),kw(e,s))));break;case 22:if(u=s.memoizedState!==null||yr,!u){r=r!==null&&r.memoizedState!==null||Nt,h=yr;var y=Nt;yr=u,(Nt=r)&&!y?xr(e,s,(s.subtreeFlags&8772)!==0):br(e,s),yr=h,Nt=y}break;case 30:break;default:br(e,s)}}function Tp(e){var r=e.alternate;r!==null&&(e.alternate=null,Tp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&nu(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,Wt=!1;function vr(e,r,s){for(s=s.child;s!==null;)Np(e,r,s),s=s.sibling}function Np(e,r,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(st,s)}catch{}switch(s.tag){case 26:Nt||Wn(s,r),vr(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||Wn(s,r);var u=ft,h=Wt;Gr(s.type)&&(ft=s.stateNode,Wt=!1),vr(e,r,s),ws(s.stateNode),ft=u,Wt=h;break;case 5:Nt||Wn(s,r);case 6:if(u=ft,h=Wt,ft=null,vr(e,r,s),ft=u,Wt=h,ft!==null)if(Wt)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(y){Xe(s,r,y)}else try{ft.removeChild(s.stateNode)}catch(y){Xe(s,r,y)}break;case 18:ft!==null&&(Wt?(e=ft,wg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ha(e)):wg(ft,s.stateNode));break;case 4:u=ft,h=Wt,ft=s.stateNode.containerInfo,Wt=!0,vr(e,r,s),ft=u,Wt=h;break;case 0:case 11:case 14:case 15:Ir(2,s,r),Nt||Ir(4,s,r),vr(e,r,s);break;case 1:Nt||(Wn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&_p(s,r,u)),vr(e,r,s);break;case 21:vr(e,r,s);break;case 22:Nt=(u=Nt)||s.memoizedState!==null,vr(e,r,s),Nt=u;break;default:vr(e,r,s)}}function Cp(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(s){Xe(r,r.return,s)}}}function Rp(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(s){Xe(r,r.return,s)}}function Zx(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new kp),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new kp),r;default:throw Error(a(435,e.tag))}}function Il(e,r){var s=Zx(e);r.forEach(function(u){if(!s.has(u)){s.add(u);var h=lw.bind(null,e,u);u.then(h,h)}})}function en(e,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],y=e,_=r,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(Gr(O.type)){ft=O.stateNode,Wt=!1;break e}break;case 5:ft=O.stateNode,Wt=!1;break e;case 3:case 4:ft=O.stateNode.containerInfo,Wt=!0;break e}O=O.return}if(ft===null)throw Error(a(160));Np(y,_,h),ft=null,Wt=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Op(r,e),r=r.sibling}var Hn=null;function Op(e,r){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(r,e),tn(e),u&4&&(Ir(3,e,e.return),fs(3,e),Ir(5,e,e.return));break;case 1:en(r,e),tn(e),u&512&&(Nt||s===null||Wn(s,s.return)),u&64&&yr&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=Hn;if(en(r,e),tn(e),u&512&&(Nt||s===null||Wn(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=e.memoizedState,s===null)if(u===null)if(e.stateNode===null){e:{u=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Ia]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),Ht(y,u,s),y[Bt]=e,Dt(y),u=y;break e;case"link":var _=Og("link","href",h).get(u+(s.href||""));if(_){for(var O=0;O<_.length;O++)if(y=_[O],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(O,1);break t}}y=h.createElement(u),Ht(y,u,s),h.head.appendChild(y);break;case"meta":if(_=Og("meta","content",h).get(u+(s.content||""))){for(O=0;O<_.length;O++)if(y=_[O],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(O,1);break t}}y=h.createElement(u),Ht(y,u,s),h.head.appendChild(y);break;default:throw Error(a(468,u))}y[Bt]=e,Dt(y),u=y}e.stateNode=u}else Ug(h,e.type,e.stateNode);else e.stateNode=Rg(h,u,e.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?Ug(h,e.type,e.stateNode):Rg(h,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Sc(e,e.memoizedProps,s.memoizedProps)}break;case 27:en(r,e),tn(e),u&512&&(Nt||s===null||Wn(s,s.return)),s!==null&&u&4&&Sc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(en(r,e),tn(e),u&512&&(Nt||s===null||Wn(s,s.return)),e.flags&32){h=e.stateNode;try{Li(h,"")}catch(ye){Xe(e,e.return,ye)}}u&4&&e.stateNode!=null&&(h=e.memoizedProps,Sc(e,h,s!==null?s.memoizedProps:h)),u&1024&&(kc=!0);break;case 6:if(en(r,e),tn(e),u&4){if(e.stateNode===null)throw Error(a(162));u=e.memoizedProps,s=e.stateNode;try{s.nodeValue=u}catch(ye){Xe(e,e.return,ye)}}break;case 3:if(to=null,h=Hn,Hn=Wl(r.containerInfo),en(r,e),Hn=h,tn(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{ha(r.containerInfo)}catch(ye){Xe(e,e.return,ye)}kc&&(kc=!1,Up(e));break;case 4:u=Hn,Hn=Wl(e.stateNode.containerInfo),en(r,e),tn(e),Hn=u;break;case 12:en(r,e),tn(e);break;case 31:en(r,e),tn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Il(e,u)));break;case 13:en(r,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pl=Re()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Il(e,u)));break;case 22:h=e.memoizedState!==null;var G=s!==null&&s.memoizedState!==null,re=yr,le=Nt;if(yr=re||h,Nt=le||G,en(r,e),Nt=le,yr=re,tn(e),u&8192)e:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||G||yr||Nt||vi(e)),s=null,r=e;;){if(r.tag===5||r.tag===26){if(s===null){G=s=r;try{if(y=G.stateNode,h)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=G.stateNode;var ue=G.memoizedProps.style,ie=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ye){Xe(G,G.return,ye)}}}else if(r.tag===6){if(s===null){G=r;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(ye){Xe(G,G.return,ye)}}}else if(r.tag===18){if(s===null){G=r;try{var ae=G.stateNode;h?_g(ae,!0):_g(G.stateNode,!1)}catch(ye){Xe(G,G.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Il(e,s))));break;case 19:en(r,e),tn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Il(e,u)));break;case 30:break;case 21:break;default:en(r,e),tn(e)}}function tn(e){var r=e.flags;if(r&2){try{for(var s,u=e.return;u!==null;){if(Ep(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,y=Ec(e);Bl(e,y,h);break;case 5:var _=s.stateNode;s.flags&32&&(Li(_,""),s.flags&=-33);var O=Ec(e);Bl(e,O,_);break;case 3:case 4:var G=s.stateNode.containerInfo,re=Ec(e);jc(e,re,G);break;default:throw Error(a(161))}}catch(le){Xe(e,e.return,le)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Up(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function br(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ap(e,r.alternate,r),r=r.sibling}function vi(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Ir(4,r,r.return),vi(r);break;case 1:Wn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&_p(r,r.return,s),vi(r);break;case 27:ws(r.stateNode);case 26:case 5:Wn(r,r.return),vi(r);break;case 22:r.memoizedState===null&&vi(r);break;case 30:vi(r);break;default:vi(r)}e=e.sibling}}function xr(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=e,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:xr(h,y,s),fs(4,y);break;case 1:if(xr(h,y,s),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(re){Xe(u,u.return,re)}if(u=y,h=u.updateQueue,h!==null){var O=u.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)cm(G[h],O)}catch(re){Xe(u,u.return,re)}}s&&_&64&&wp(y),ds(y,y.return);break;case 27:jp(y);case 26:case 5:xr(h,y,s),s&&u===null&&_&4&&Sp(y),ds(y,y.return);break;case 12:xr(h,y,s);break;case 31:xr(h,y,s),s&&_&4&&Cp(h,y);break;case 13:xr(h,y,s),s&&_&4&&Rp(h,y);break;case 22:y.memoizedState===null&&xr(h,y,s),ds(y,y.return);break;case 30:break;default:xr(h,y,s)}r=r.sibling}}function Ac(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Za(s))}function Tc(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Za(e))}function $n(e,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dp(e,r,s,u),r=r.sibling}function Dp(e,r,s,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:$n(e,r,s,u),h&2048&&fs(9,r);break;case 1:$n(e,r,s,u);break;case 3:$n(e,r,s,u),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Za(e)));break;case 12:if(h&2048){$n(e,r,s,u),e=r.stateNode;try{var y=r.memoizedProps,_=y.id,O=y.onPostCommit;typeof O=="function"&&O(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){Xe(r,r.return,G)}}else $n(e,r,s,u);break;case 31:$n(e,r,s,u);break;case 13:$n(e,r,s,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?$n(e,r,s,u):hs(e,r):y._visibility&2?$n(e,r,s,u):(y._visibility|=2,na(e,r,s,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Ac(_,r);break;case 24:$n(e,r,s,u),h&2048&&Tc(r.alternate,r);break;default:$n(e,r,s,u)}}function na(e,r,s,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=e,_=r,O=s,G=u,re=_.flags;switch(_.tag){case 0:case 11:case 15:na(y,_,O,G,h),fs(8,_);break;case 23:break;case 22:var le=_.stateNode;_.memoizedState!==null?le._visibility&2?na(y,_,O,G,h):hs(y,_):(le._visibility|=2,na(y,_,O,G,h)),h&&re&2048&&Ac(_.alternate,_);break;case 24:na(y,_,O,G,h),h&&re&2048&&Tc(_.alternate,_);break;default:na(y,_,O,G,h)}r=r.sibling}}function hs(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,u=r,h=u.flags;switch(u.tag){case 22:hs(s,u),h&2048&&Ac(u.alternate,u);break;case 24:hs(s,u),h&2048&&Tc(u.alternate,u);break;default:hs(s,u)}r=r.sibling}}var ms=8192;function ra(e,r,s){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)zp(e,r,s),e=e.sibling}function zp(e,r,s){switch(e.tag){case 26:ra(e,r,s),e.flags&ms&&e.memoizedState!==null&&Bw(s,Hn,e.memoizedState,e.memoizedProps);break;case 5:ra(e,r,s);break;case 3:case 4:var u=Hn;Hn=Wl(e.stateNode.containerInfo),ra(e,r,s),Hn=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=ms,ms=16777216,ra(e,r,s),ms=u):ra(e,r,s));break;default:ra(e,r,s)}}function Lp(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function ps(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];zt=u,Bp(u,e)}Lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mp(e),e=e.sibling}function Mp(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,ql(e)):ps(e);break;default:ps(e)}}function ql(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];zt=u,Bp(u,e)}Lp(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Ir(8,r,r.return),ql(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,ql(r));break;default:ql(r)}e=e.sibling}}function Bp(e,r){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Ir(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Za(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,zt=u;else e:for(s=e;zt!==null;){u=zt;var h=u.sibling,y=u.return;if(Tp(u),u===s){zt=null;break e}if(h!==null){h.return=y,zt=h;break e}zt=y}}}var Wx={getCacheForType:function(e){var r=qt(kt),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s},cacheSignal:function(){return qt(kt).controller.signal}},ew=typeof WeakMap=="function"?WeakMap:Map,$e=0,et=null,De=null,Le=0,Qe=0,pn=null,qr=!1,ia=!1,Nc=!1,wr=0,wt=0,Pr=0,bi=0,Cc=0,gn=0,aa=0,gs=null,nn=null,Rc=!1,Pl=0,Ip=0,Hl=1/0,$l=null,Hr=null,Ot=0,$r=null,sa=null,_r=0,Oc=0,Uc=null,qp=null,ys=0,Dc=null;function yn(){return($e&2)!==0&&Le!==0?Le&-Le:k.T!==null?qc():nh()}function Pp(){if(gn===0)if((Le&536870912)===0||Be){var e=Ni;Ni<<=1,(Ni&3932160)===0&&(Ni=262144),gn=e}else gn=536870912;return e=hn.current,e!==null&&(e.flags|=32),gn}function rn(e,r,s){(e===et&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(la(e,0),Fr(e,Le,gn,!1)),Ba(e,s),(($e&2)===0||e!==et)&&(e===et&&(($e&2)===0&&(bi|=s),wt===4&&Fr(e,Le,gn,!1)),er(e))}function Hp(e,r,s){if(($e&6)!==0)throw Error(a(327));var u=!s&&(r&127)===0&&(r&e.expiredLanes)===0||In(e,r),h=u?rw(e,r):Lc(e,r,!0),y=u;do{if(h===0){ia&&!u&&Fr(e,r,0,!1);break}else{if(s=e.current.alternate,y&&!tw(s)){h=Lc(e,r,!1),y=!1;continue}if(h===2){if(y=r,e.errorRecoveryDisabledLanes&y)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var O=e;h=gs;var G=O.current.memoizedState.isDehydrated;if(G&&(la(O,_).flags|=256),_=Lc(O,_,!1),_!==2){if(Nc&&!G){O.errorRecoveryDisabledLanes|=y,bi|=y,h=4;break e}y=nn,nn=h,y!==null&&(nn===null?nn=y:nn.push.apply(nn,y))}h=_}if(y=!1,h!==2)continue}}if(h===1){la(e,0),Fr(e,r,0,!0);break}e:{switch(u=e,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Fr(u,r,gn,!qr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=Pl+300-Re(),10<h)){if(Fr(u,r,gn,!qr),Bn(u,0,!0)!==0)break e;_r=r,u.timeoutHandle=bg($p.bind(null,u,s,nn,$l,Rc,r,gn,bi,aa,qr,y,"Throttled",-0,0),h);break e}$p(u,s,nn,$l,Rc,r,gn,bi,aa,qr,y,null,-0,0)}}break}while(!0);er(e)}function $p(e,r,s,u,h,y,_,O,G,re,le,ue,ie,ae){if(e.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lr},zp(r,y,ue);var ye=(y&62914560)===y?Pl-Re():(y&4194048)===y?Ip-Re():0;if(ye=Iw(ue,ye),ye!==null){_r=y,e.cancelPendingCommit=ye(Jp.bind(null,e,r,y,s,u,h,_,O,G,le,ue,null,ie,ae)),Fr(e,y,_,!re);return}}Jp(e,r,y,s,u,h,_,O,G)}function tw(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],y=h.getSnapshot;h=h.value;try{if(!fn(y(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(e,r,s,u){r&=~Cc,r&=~bi,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var h=r;0<h;){var y=31-He(h),_=1<<y;u[y]=-1,h&=~_}s!==0&&Wd(e,s,r)}function Fl(){return($e&6)===0?(vs(0),!1):!0}function zc(){if(De!==null){if(Qe===0)var e=De.return;else e=De,fr=ci=null,Ju(e),Ji=null,es=0,e=De;for(;e!==null;)xp(e.alternate,e),e=e.return;De=null}}function la(e,r){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,ww(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),_r=0,zc(),et=e,De=s=ur(e.current,null),Le=r,Qe=0,pn=null,qr=!1,ia=In(e,r),Nc=!1,aa=gn=Cc=bi=Pr=wt=0,nn=gs=null,Rc=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var h=31-He(u),y=1<<h;r|=e[h],u&=~y}return wr=r,fl(),s}function Fp(e,r){Ce=null,k.H=os,r===Xi||r===bl?(r=sm(),Qe=3):r===Iu?(r=sm(),Qe=4):Qe=r===hc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,De===null&&(wt=1,Ul(e,An(r,e.current)))}function Vp(){var e=hn.current;return e===null?!0:(Le&4194048)===Le?Rn===null:(Le&62914560)===Le||(Le&536870912)!==0?e===Rn:!1}function Gp(){var e=k.H;return k.H=os,e===null?os:e}function Yp(){var e=k.A;return k.A=Wx,e}function Vl(){wt=4,qr||(Le&4194048)!==Le&&hn.current!==null||(ia=!0),(Pr&134217727)===0&&(bi&134217727)===0||et===null||Fr(et,Le,gn,!1)}function Lc(e,r,s){var u=$e;$e|=2;var h=Gp(),y=Yp();(et!==e||Le!==r)&&($l=null,la(e,r)),r=!1;var _=wt;e:do try{if(Qe!==0&&De!==null){var O=De,G=pn;switch(Qe){case 8:zc(),_=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(r=!0);var re=Qe;if(Qe=0,pn=null,oa(e,O,G,re),s&&ia){_=0;break e}break;default:re=Qe,Qe=0,pn=null,oa(e,O,G,re)}}nw(),_=wt;break}catch(le){Fp(e,le)}while(!0);return r&&e.shellSuspendCounter++,fr=ci=null,$e=u,k.H=h,k.A=y,De===null&&(et=null,Le=0,fl()),_}function nw(){for(;De!==null;)Kp(De)}function rw(e,r){var s=$e;$e|=2;var u=Gp(),h=Yp();et!==e||Le!==r?($l=null,Hl=Re()+500,la(e,r)):ia=In(e,r);e:do try{if(Qe!==0&&De!==null){r=De;var y=pn;t:switch(Qe){case 1:Qe=0,pn=null,oa(e,r,y,1);break;case 2:case 9:if(im(y)){Qe=0,pn=null,Qp(r);break}r=function(){Qe!==2&&Qe!==9||et!==e||(Qe=7),er(e)},y.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:im(y)?(Qe=0,pn=null,Qp(r)):(Qe=0,pn=null,oa(e,r,y,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var O=De;if(_?Dg(_):O.stateNode.complete){Qe=0,pn=null;var G=O.sibling;if(G!==null)De=G;else{var re=O.return;re!==null?(De=re,Gl(re)):De=null}break t}}Qe=0,pn=null,oa(e,r,y,5);break;case 6:Qe=0,pn=null,oa(e,r,y,6);break;case 8:zc(),wt=6;break e;default:throw Error(a(462))}}iw();break}catch(le){Fp(e,le)}while(!0);return fr=ci=null,k.H=u,k.A=h,$e=s,De!==null?0:(et=null,Le=0,fl(),wt)}function iw(){for(;De!==null&&!Lt();)Kp(De)}function Kp(e){var r=vp(e.alternate,e,wr);e.memoizedProps=e.pendingProps,r===null?Gl(e):De=r}function Qp(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=dp(s,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=dp(s,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Ju(r);default:xp(s,r),r=De=Yh(r,wr),r=vp(s,r,wr)}e.memoizedProps=e.pendingProps,r===null?Gl(e):De=r}function oa(e,r,s,u){fr=ci=null,Ju(r),Ji=null,es=0;var h=r.return;try{if(Gx(e,h,r,s,Le)){wt=1,Ul(e,An(s,e.current)),De=null;return}}catch(y){if(h!==null)throw De=h,y;wt=1,Ul(e,An(s,e.current)),De=null;return}r.flags&32768?(Be||u===1?e=!0:ia||(Le&536870912)!==0?e=!1:(qr=e=!0,(u===2||u===9||u===3||u===6)&&(u=hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xp(r,e)):Gl(r)}function Gl(e){var r=e;do{if((r.flags&32768)!==0){Xp(r,qr);return}e=r.return;var s=Qx(r.alternate,r,wr);if(s!==null){De=s;return}if(r=r.sibling,r!==null){De=r;return}De=r=e}while(r!==null);wt===0&&(wt=5)}function Xp(e,r){do{var s=Xx(e.alternate,e);if(s!==null){s.flags&=32767,De=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){De=e;return}De=e=s}while(e!==null);wt=6,De=null}function Jp(e,r,s,u,h,y,_,O,G){e.cancelPendingCommit=null;do Yl();while(Ot!==0);if(($e&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(y=r.lanes|r.childLanes,y|=Eu,Mb(e,s,y,_,O,G),e===et&&(De=et=null,Le=0),sa=r,$r=e,_r=s,Oc=y,Uc=h,qp=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ow(ge,function(){return ng(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,h=A.p,A.p=2,_=$e,$e|=4;try{Jx(e,r,s)}finally{$e=_,A.p=h,k.T=u}}Ot=1,Zp(),Wp(),eg()}}function Zp(){if(Ot===1){Ot=0;var e=$r,r=sa,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var u=A.p;A.p=2;var h=$e;$e|=4;try{Op(r,e);var y=Kc,_=Bh(e.containerInfo),O=y.focusedElem,G=y.selectionRange;if(_!==O&&O&&O.ownerDocument&&Mh(O.ownerDocument.documentElement,O)){if(G!==null&&bu(O)){var re=G.start,le=G.end;if(le===void 0&&(le=re),"selectionStart"in O)O.selectionStart=re,O.selectionEnd=Math.min(le,O.value.length);else{var ue=O.ownerDocument||document,ie=ue&&ue.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),ye=O.textContent.length,_e=Math.min(G.start,ye),We=G.end===void 0?_e:Math.min(G.end,ye);!ae.extend&&_e>We&&(_=We,We=_e,_e=_);var ee=Lh(O,_e),J=Lh(O,We);if(ee&&J&&(ae.rangeCount!==1||ae.anchorNode!==ee.node||ae.anchorOffset!==ee.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var ne=ue.createRange();ne.setStart(ee.node,ee.offset),ae.removeAllRanges(),_e>We?(ae.addRange(ne),ae.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),ae.addRange(ne))}}}}for(ue=[],ae=O;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var oe=ue[O];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}ao=!!Yc,Kc=Yc=null}finally{$e=h,A.p=u,k.T=s}}e.current=r,Ot=2}}function Wp(){if(Ot===2){Ot=0;var e=$r,r=sa,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var u=A.p;A.p=2;var h=$e;$e|=4;try{Ap(e,r.alternate,r)}finally{$e=h,A.p=u,k.T=s}}Ot=3}}function eg(){if(Ot===4||Ot===3){Ot=0,ct();var e=$r,r=sa,s=_r,u=qp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ot=5:(Ot=0,sa=$r=null,tg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hr=null),eu(s),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(st,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=k.T,h=A.p,A.p=2,k.T=null;try{for(var y=e.onRecoverableError,_=0;_<u.length;_++){var O=u[_];y(O.value,{componentStack:O.stack})}}finally{k.T=r,A.p=h}}(_r&3)!==0&&Yl(),er(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Dc?ys++:(ys=0,Dc=e):ys=0,vs(0)}}function tg(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Za(r)))}function Yl(){return Zp(),Wp(),eg(),ng()}function ng(){if(Ot!==5)return!1;var e=$r,r=Oc;Oc=0;var s=eu(_r),u=k.T,h=A.p;try{A.p=32>s?32:s,k.T=null,s=Uc,Uc=null;var y=$r,_=_r;if(Ot=0,sa=$r=null,_r=0,($e&6)!==0)throw Error(a(331));var O=$e;if($e|=4,Mp(y.current),Dp(y,y.current,_,s),$e=O,vs(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(st,y)}catch{}return!0}finally{A.p=h,k.T=u,tg(e,r)}}function rg(e,r,s){r=An(s,r),r=dc(e.stateNode,r,2),e=Lr(e,r,2),e!==null&&(Ba(e,2),er(e))}function Xe(e,r,s){if(e.tag===3)rg(e,e,s);else for(;r!==null;){if(r.tag===3){rg(r,e,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hr===null||!Hr.has(u))){e=An(s,e),s=ip(2),u=Lr(r,s,2),u!==null&&(ap(s,u,r,e),Ba(u,2),er(u));break}}r=r.return}}function Mc(e,r,s){var u=e.pingCache;if(u===null){u=e.pingCache=new ew;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(s)||(Nc=!0,h.add(s),e=aw.bind(null,e,r,s),r.then(e,e))}function aw(e,r,s){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,et===e&&(Le&s)===s&&(wt===4||wt===3&&(Le&62914560)===Le&&300>Re()-Pl?($e&2)===0&&la(e,0):Cc|=s,aa===Le&&(aa=0)),er(e)}function ig(e,r){r===0&&(r=Xn()),e=li(e,r),e!==null&&(Ba(e,r),er(e))}function sw(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),ig(e,s)}function lw(e,r){var s=0;switch(e.tag){case 31:case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),ig(e,s)}function ow(e,r){return yt(e,r)}var Kl=null,ua=null,Bc=!1,Ql=!1,Ic=!1,Vr=0;function er(e){e!==ua&&e.next===null&&(ua===null?Kl=ua=e:ua=ua.next=e),Ql=!0,Bc||(Bc=!0,cw())}function vs(e,r){if(!Ic&&Ql){Ic=!0;do for(var s=!1,u=Kl;u!==null;){if(e!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var _=u.suspendedLanes,O=u.pingedLanes;y=(1<<31-He(42|e)+1)-1,y&=h&~(_&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,og(u,y))}else y=Le,y=Bn(u,u===et?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||In(u,y)||(s=!0,og(u,y));u=u.next}while(s);Ic=!1}}function uw(){ag()}function ag(){Ql=Bc=!1;var e=0;Vr!==0&&xw()&&(e=Vr);for(var r=Re(),s=null,u=Kl;u!==null;){var h=u.next,y=sg(u,r);y===0?(u.next=null,s===null?Kl=h:s.next=h,h===null&&(ua=s)):(s=u,(e!==0||(y&3)!==0)&&(Ql=!0)),u=h}Ot!==0&&Ot!==5||vs(e),Vr!==0&&(Vr=0)}function sg(e,r){for(var s=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var _=31-He(y),O=1<<_,G=h[_];G===-1?((O&s)===0||(O&u)!==0)&&(h[_]=Ws(O,r)):G<=r&&(e.expiredLanes|=O),y&=~O}if(r=et,s=Le,s=Bn(e,e===r?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,s===0||e===r&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&tt(u),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||In(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(u!==null&&tt(u),eu(s)){case 2:case 8:s=me;break;case 32:s=ge;break;case 268435456:s=ke;break;default:s=ge}return u=lg.bind(null,e),s=yt(s,u),e.callbackPriority=r,e.callbackNode=s,r}return u!==null&&u!==null&&tt(u),e.callbackPriority=2,e.callbackNode=null,2}function lg(e,r){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Yl()&&e.callbackNode!==s)return null;var u=Le;return u=Bn(e,e===et?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Hp(e,u,r),sg(e,Re()),e.callbackNode!=null&&e.callbackNode===s?lg.bind(null,e):null)}function og(e,r){if(Yl())return null;Hp(e,r,!0)}function cw(){_w(function(){($e&6)!==0?yt(se,uw):ag()})}function qc(){if(Vr===0){var e=Ki;e===0&&(e=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Vr=e}return Vr}function ug(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rl(""+e)}function cg(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function fw(e,r,s,u,h){if(r==="submit"&&s&&s.stateNode===h){var y=ug((h[Jt]||null).action),_=u.submitter;_&&(r=(r=_[Jt]||null)?ug(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var O=new ll("action","action",null,u,h);e.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vr!==0){var G=_?cg(h,_):new FormData(h);sc(s,{pending:!0,data:G,method:h.method,action:y},null,G)}}else typeof y=="function"&&(O.preventDefault(),G=_?cg(h,_):new FormData(h),sc(s,{pending:!0,data:G,method:h.method,action:y},y,G))},currentTarget:h}]})}}for(var Pc=0;Pc<Su.length;Pc++){var Hc=Su[Pc],dw=Hc.toLowerCase(),hw=Hc[0].toUpperCase()+Hc.slice(1);Pn(dw,"on"+hw)}Pn(Ph,"onAnimationEnd"),Pn(Hh,"onAnimationIteration"),Pn($h,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Nx,"onTransitionRun"),Pn(Cx,"onTransitionStart"),Pn(Rx,"onTransitionCancel"),Pn(Fh,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function fg(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],h=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var O=u[_],G=O.instance,re=O.currentTarget;if(O=O.listener,G!==y&&h.isPropagationStopped())break e;y=O,h.currentTarget=re;try{y(h)}catch(le){cl(le)}h.currentTarget=null,y=G}else for(_=0;_<u.length;_++){if(O=u[_],G=O.instance,re=O.currentTarget,O=O.listener,G!==y&&h.isPropagationStopped())break e;y=O,h.currentTarget=re;try{y(h)}catch(le){cl(le)}h.currentTarget=null,y=G}}}}function ze(e,r){var s=r[tu];s===void 0&&(s=r[tu]=new Set);var u=e+"__bubble";s.has(u)||(dg(r,e,2,!1),s.add(u))}function $c(e,r,s){var u=0;r&&(u|=4),dg(s,e,u,r)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Fc(e){if(!e[Xl]){e[Xl]=!0,ah.forEach(function(s){s!=="selectionchange"&&(mw.has(s)||$c(s,!1,e),$c(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Xl]||(r[Xl]=!0,$c("selectionchange",!1,r))}}function dg(e,r,s,u){switch(Pg(r)){case 2:var h=Hw;break;case 8:h=$w;break;default:h=sf}s=h.bind(null,r,s,e),h=void 0,!cu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(r,s,{capture:!0,passive:h}):e.addEventListener(r,s,!0):h!==void 0?e.addEventListener(r,s,{passive:h}):e.addEventListener(r,s,!1)}function Vc(e,r,s,u,h){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var O=u.stateNode.containerInfo;if(O===h)break;if(_===4)for(_=u.return;_!==null;){var G=_.tag;if((G===3||G===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;O!==null;){if(_=Ri(O),_===null)return;if(G=_.tag,G===5||G===6||G===26||G===27){u=y=_;continue e}O=O.parentNode}}u=u.return}yh(function(){var re=y,le=ou(s),ue=[];e:{var ie=Vh.get(e);if(ie!==void 0){var ae=ll,ye=e;switch(e){case"keypress":if(al(s)===0)break e;case"keydown":case"keyup":ae=lx;break;case"focusin":ye="focus",ae=mu;break;case"focusout":ye="blur",ae=mu;break;case"beforeblur":case"afterblur":ae=mu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=cx;break;case Ph:case Hh:case $h:ae=Zb;break;case Fh:ae=dx;break;case"scroll":case"scrollend":ae=Yb;break;case"wheel":ae=mx;break;case"copy":case"cut":case"paste":ae=ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=_h;break;case"toggle":case"beforetoggle":ae=gx}var _e=(r&4)!==0,We=!_e&&(e==="scroll"||e==="scrollend"),ee=_e?ie!==null?ie+"Capture":null:ie;_e=[];for(var J=re,ne;J!==null;){var oe=J;if(ne=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||ne===null||ee===null||(oe=Pa(J,ee),oe!=null&&_e.push(xs(J,oe,ne))),We)break;J=J.return}0<_e.length&&(ie=new ae(ie,ye,null,s,le),ue.push({event:ie,listeners:_e}))}}if((r&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ie&&s!==lu&&(ye=s.relatedTarget||s.fromElement)&&(Ri(ye)||ye[Ci]))break e;if((ae||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(ye=s.relatedTarget||s.toElement,ae=re,ye=ye?Ri(ye):null,ye!==null&&(We=o(ye),_e=ye.tag,ye!==We||_e!==5&&_e!==27&&_e!==6)&&(ye=null)):(ae=null,ye=re),ae!==ye)){if(_e=xh,oe="onMouseLeave",ee="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(_e=_h,oe="onPointerLeave",ee="onPointerEnter",J="pointer"),We=ae==null?ie:qa(ae),ne=ye==null?ie:qa(ye),ie=new _e(oe,J+"leave",ae,s,le),ie.target=We,ie.relatedTarget=ne,oe=null,Ri(le)===re&&(_e=new _e(ee,J+"enter",ye,s,le),_e.target=ne,_e.relatedTarget=We,oe=_e),We=oe,ae&&ye)t:{for(_e=pw,ee=ae,J=ye,ne=0,oe=ee;oe;oe=_e(oe))ne++;oe=0;for(var we=J;we;we=_e(we))oe++;for(;0<ne-oe;)ee=_e(ee),ne--;for(;0<oe-ne;)J=_e(J),oe--;for(;ne--;){if(ee===J||J!==null&&ee===J.alternate){_e=ee;break t}ee=_e(ee),J=_e(J)}_e=null}else _e=null;ae!==null&&hg(ue,ie,ae,_e,!1),ye!==null&&We!==null&&hg(ue,We,ye,_e,!0)}}e:{if(ie=re?qa(re):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var qe=Ch;else if(Th(ie))if(Rh)qe=kx;else{qe=Ex;var ve=Sx}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&su(re.elementType)&&(qe=Ch):qe=jx;if(qe&&(qe=qe(e,re))){Nh(ue,qe,s,le);break e}ve&&ve(e,ie,re),e==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&au(ie,"number",ie.value)}switch(ve=re?qa(re):window,e){case"focusin":(Th(ve)||ve.contentEditable==="true")&&(qi=ve,xu=re,Qa=null);break;case"focusout":Qa=xu=qi=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Ih(ue,s,le);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":Ih(ue,s,le)}var Oe;if(gu)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ii?kh(e,s)&&(Me="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(Sh&&s.locale!=="ko"&&(Ii||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ii&&(Oe=vh()):(Nr=le,fu="value"in Nr?Nr.value:Nr.textContent,Ii=!0)),ve=Jl(re,Me),0<ve.length&&(Me=new wh(Me,e,null,s,le),ue.push({event:Me,listeners:ve}),Oe?Me.data=Oe:(Oe=Ah(s),Oe!==null&&(Me.data=Oe)))),(Oe=vx?bx(e,s):xx(e,s))&&(Me=Jl(re,"onBeforeInput"),0<Me.length&&(ve=new wh("onBeforeInput","beforeinput",null,s,le),ue.push({event:ve,listeners:Me}),ve.data=Oe)),fw(ue,e,re,s,le)}fg(ue,r)})}function xs(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Jl(e,r){for(var s=r+"Capture",u=[];e!==null;){var h=e,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Pa(e,s),h!=null&&u.unshift(xs(e,h,y)),h=Pa(e,r),h!=null&&u.push(xs(e,h,y))),e.tag===3)return u;e=e.return}return[]}function pw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hg(e,r,s,u,h){for(var y=r._reactName,_=[];s!==null&&s!==u;){var O=s,G=O.alternate,re=O.stateNode;if(O=O.tag,G!==null&&G===u)break;O!==5&&O!==26&&O!==27||re===null||(G=re,h?(re=Pa(s,y),re!=null&&_.unshift(xs(s,re,G))):h||(re=Pa(s,y),re!=null&&_.push(xs(s,re,G)))),s=s.return}_.length!==0&&e.push({event:r,listeners:_})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function mg(e){return(typeof e=="string"?e:""+e).replace(gw,`
`).replace(yw,"")}function pg(e,r){return r=mg(r),mg(e)===r}function Ze(e,r,s,u,h,y){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Li(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Li(e,""+u);break;case"className":tl(e,"class",u);break;case"tabIndex":tl(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(e,s,u);break;case"style":ph(e,u,y);break;case"data":if(r!=="object"){tl(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=rl(""+u),e.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(r!=="input"&&Ze(e,r,"name",h.name,h,null),Ze(e,r,"formEncType",h.formEncType,h,null),Ze(e,r,"formMethod",h.formMethod,h,null),Ze(e,r,"formTarget",h.formTarget,h,null)):(Ze(e,r,"encType",h.encType,h,null),Ze(e,r,"method",h.method,h,null),Ze(e,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=rl(""+u),e.setAttribute(s,u);break;case"onClick":u!=null&&(e.onclick=lr);break;case"onScroll":u!=null&&ze("scroll",e);break;case"onScrollEnd":u!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}s=rl(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""+u):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":u===!0?e.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,u):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(s,u):e.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(s):e.setAttribute(s,u);break;case"popover":ze("beforetoggle",e),ze("toggle",e),el(e,"popover",u);break;case"xlinkActuate":sr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":el(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vb.get(s)||s,el(e,s,u))}}function Gc(e,r,s,u,h,y){switch(s){case"style":ph(e,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof u=="string"?Li(e,u):(typeof u=="number"||typeof u=="bigint")&&Li(e,""+u);break;case"onScroll":u!=null&&ze("scroll",e);break;case"onScrollEnd":u!=null&&ze("scrollend",e);break;case"onClick":u!=null&&(e.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),y=e[Jt]||null,y=y!=null?y[s]:null,typeof y=="function"&&e.removeEventListener(r,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,u,h);break e}s in e?e[s]=u:u===!0?e.setAttribute(s,""):el(e,s,u)}}}function Ht(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var u=!1,h=!1,y;for(y in s)if(s.hasOwnProperty(y)){var _=s[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(e,r,y,_,s,null)}}h&&Ze(e,r,"srcSet",s.srcSet,s,null),u&&Ze(e,r,"src",s.src,s,null);return;case"input":ze("invalid",e);var O=y=_=h=null,G=null,re=null;for(u in s)if(s.hasOwnProperty(u)){var le=s[u];if(le!=null)switch(u){case"name":h=le;break;case"type":_=le;break;case"checked":G=le;break;case"defaultChecked":re=le;break;case"value":y=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,r));break;default:Ze(e,r,u,le,s,null)}}fh(e,y,O,G,re,_,h,!1);return;case"select":ze("invalid",e),u=_=y=null;for(h in s)if(s.hasOwnProperty(h)&&(O=s[h],O!=null))switch(h){case"value":y=O;break;case"defaultValue":_=O;break;case"multiple":u=O;default:Ze(e,r,h,O,s,null)}r=y,s=_,e.multiple=!!u,r!=null?zi(e,!!u,r,!1):s!=null&&zi(e,!!u,s,!0);return;case"textarea":ze("invalid",e),y=h=u=null;for(_ in s)if(s.hasOwnProperty(_)&&(O=s[_],O!=null))switch(_){case"value":u=O;break;case"defaultValue":h=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:Ze(e,r,_,O,s,null)}hh(e,u,h,y);return;case"option":for(G in s)if(s.hasOwnProperty(G)&&(u=s[G],u!=null))switch(G){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(e,r,G,u,s,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(u=0;u<bs.length;u++)ze(bs[u],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in s)if(s.hasOwnProperty(re)&&(u=s[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(e,r,re,u,s,null)}return;default:if(su(r)){for(le in s)s.hasOwnProperty(le)&&(u=s[le],u!==void 0&&Gc(e,r,le,u,s,void 0));return}}for(O in s)s.hasOwnProperty(O)&&(u=s[O],u!=null&&Ze(e,r,O,u,s,null))}function vw(e,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,_=null,O=null,G=null,re=null,le=null;for(ae in s){var ue=s[ae];if(s.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=ue;default:u.hasOwnProperty(ae)||Ze(e,r,ae,null,u,ue)}}for(var ie in u){var ae=u[ie];if(ue=s[ie],u.hasOwnProperty(ie)&&(ae!=null||ue!=null))switch(ie){case"type":y=ae;break;case"name":h=ae;break;case"checked":re=ae;break;case"defaultChecked":le=ae;break;case"value":_=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,r));break;default:ae!==ue&&Ze(e,r,ie,ae,u,ue)}}iu(e,_,O,G,re,le,y,h);return;case"select":ae=_=O=ie=null;for(y in s)if(G=s[y],s.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":ae=G;default:u.hasOwnProperty(y)||Ze(e,r,y,null,u,G)}for(h in u)if(y=u[h],G=s[h],u.hasOwnProperty(h)&&(y!=null||G!=null))switch(h){case"value":ie=y;break;case"defaultValue":O=y;break;case"multiple":_=y;default:y!==G&&Ze(e,r,h,y,u,G)}r=O,s=_,u=ae,ie!=null?zi(e,!!s,ie,!1):!!u!=!!s&&(r!=null?zi(e,!!s,r,!0):zi(e,!!s,s?[]:"",!1));return;case"textarea":ae=ie=null;for(O in s)if(h=s[O],s.hasOwnProperty(O)&&h!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ze(e,r,O,null,u,h)}for(_ in u)if(h=u[_],y=s[_],u.hasOwnProperty(_)&&(h!=null||y!=null))switch(_){case"value":ie=h;break;case"defaultValue":ae=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&Ze(e,r,_,h,u,y)}dh(e,ie,ae);return;case"option":for(var ye in s)if(ie=s[ye],s.hasOwnProperty(ye)&&ie!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Ze(e,r,ye,null,u,ie)}for(G in u)if(ie=u[G],ae=s[G],u.hasOwnProperty(G)&&ie!==ae&&(ie!=null||ae!=null))switch(G){case"selected":e.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Ze(e,r,G,ie,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)ie=s[_e],s.hasOwnProperty(_e)&&ie!=null&&!u.hasOwnProperty(_e)&&Ze(e,r,_e,null,u,ie);for(re in u)if(ie=u[re],ae=s[re],u.hasOwnProperty(re)&&ie!==ae&&(ie!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,r));break;default:Ze(e,r,re,ie,u,ae)}return;default:if(su(r)){for(var We in s)ie=s[We],s.hasOwnProperty(We)&&ie!==void 0&&!u.hasOwnProperty(We)&&Gc(e,r,We,void 0,u,ie);for(le in u)ie=u[le],ae=s[le],!u.hasOwnProperty(le)||ie===ae||ie===void 0&&ae===void 0||Gc(e,r,le,ie,u,ae);return}}for(var ee in s)ie=s[ee],s.hasOwnProperty(ee)&&ie!=null&&!u.hasOwnProperty(ee)&&Ze(e,r,ee,null,u,ie);for(ue in u)ie=u[ue],ae=s[ue],!u.hasOwnProperty(ue)||ie===ae||ie==null&&ae==null||Ze(e,r,ue,ie,u,ae)}function gg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],y=h.transferSize,_=h.initiatorType,O=h.duration;if(y&&O&&gg(_)){for(_=0,O=h.responseEnd,u+=1;u<s.length;u++){var G=s[u],re=G.startTime;if(re>O)break;var le=G.transferSize,ue=G.initiatorType;le&&gg(ue)&&(G=G.responseEnd,_+=le*(G<O?1:(O-re)/(G-re)))}if(--u,r+=8*(y+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yc=null,Kc=null;function Zl(e){return e.nodeType===9?e:e.ownerDocument}function yg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vg(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Qc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xc=null;function xw(){var e=window.event;return e&&e.type==="popstate"?e===Xc?!1:(Xc=e,!0):(Xc=null,!1)}var bg=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(Sw)}:bg;function Sw(e){setTimeout(function(){throw e})}function Gr(e){return e==="head"}function wg(e,r){var s=r,u=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){e.removeChild(h),ha(r);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")ws(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ws(s);for(var y=s.firstChild;y;){var _=y.nextSibling,O=y.nodeName;y[Ia]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=_}}else s==="body"&&ws(e.ownerDocument.body);s=h}while(s);ha(r)}function _g(e,r){var s=e;e=0;do{var u=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=u}while(s)}function Jc(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Jc(s),nu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Ew(e,r,s,u){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ia])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function jw(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function Sg(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function Zc(e){return e.data==="$?"||e.data==="$~"}function Wc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kw(e,r){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||s.readyState!=="loading")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function On(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var ef=null;function Eg(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(r===0)return On(e.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}e=e.nextSibling}return null}function jg(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return e;r--}else s!=="/$"&&s!=="/&"||r++}e=e.previousSibling}return null}function kg(e,r,s){switch(r=Zl(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ws(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);nu(e)}var Un=new Map,Ag=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sr=A.d;A.d={f:Aw,r:Tw,D:Nw,C:Cw,L:Rw,m:Ow,X:Dw,S:Uw,M:zw};function Aw(){var e=Sr.f(),r=Fl();return e||r}function Tw(e){var r=Oi(e);r!==null&&r.tag===5&&r.type==="form"?Fm(r):Sr.r(e)}var ca=typeof document>"u"?null:document;function Tg(e,r,s){var u=ca;if(u&&typeof r=="string"&&r){var h=jn(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ag.has(h)||(Ag.add(h),e={rel:e,crossOrigin:s,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),Ht(r,"link",e),Dt(r),u.head.appendChild(r)))}}function Nw(e){Sr.D(e),Tg("dns-prefetch",e,null)}function Cw(e,r){Sr.C(e,r),Tg("preconnect",e,r)}function Rw(e,r,s){Sr.L(e,r,s);var u=ca;if(u&&e&&r){var h='link[rel="preload"][as="'+jn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+jn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+jn(s.imageSizes)+'"]')):h+='[href="'+jn(e)+'"]';var y=h;switch(r){case"style":y=fa(e);break;case"script":y=da(e)}Un.has(y)||(e=g({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),Un.set(y,e),u.querySelector(h)!==null||r==="style"&&u.querySelector(_s(y))||r==="script"&&u.querySelector(Ss(y))||(r=u.createElement("link"),Ht(r,"link",e),Dt(r),u.head.appendChild(r)))}}function Ow(e,r){Sr.m(e,r);var s=ca;if(s&&e){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+jn(u)+'"][href="'+jn(e)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=da(e)}if(!Un.has(y)&&(e=g({rel:"modulepreload",href:e},r),Un.set(y,e),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ss(y)))return}u=s.createElement("link"),Ht(u,"link",e),Dt(u),s.head.appendChild(u)}}}function Uw(e,r,s){Sr.S(e,r,s);var u=ca;if(u&&e){var h=Ui(u).hoistableStyles,y=fa(e);r=r||"default";var _=h.get(y);if(!_){var O={loading:0,preload:null};if(_=u.querySelector(_s(y)))O.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":r},s),(s=Un.get(y))&&tf(e,s);var G=_=u.createElement("link");Dt(G),Ht(G,"link",e),G._p=new Promise(function(re,le){G.onload=re,G.onerror=le}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,eo(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:O},h.set(y,_)}}}function Dw(e,r){Sr.X(e,r);var s=ca;if(s&&e){var u=Ui(s).hoistableScripts,h=da(e),y=u.get(h);y||(y=s.querySelector(Ss(h)),y||(e=g({src:e,async:!0},r),(r=Un.get(h))&&nf(e,r),y=s.createElement("script"),Dt(y),Ht(y,"link",e),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function zw(e,r){Sr.M(e,r);var s=ca;if(s&&e){var u=Ui(s).hoistableScripts,h=da(e),y=u.get(h);y||(y=s.querySelector(Ss(h)),y||(e=g({src:e,async:!0,type:"module"},r),(r=Un.get(h))&&nf(e,r),y=s.createElement("script"),Dt(y),Ht(y,"link",e),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Ng(e,r,s,u){var h=(h=W.current)?Wl(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=fa(s.href),s=Ui(h).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=fa(s.href);var y=Ui(h).hoistableStyles,_=y.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,_),(y=h.querySelector(_s(e)))&&!y._p&&(_.instance=y,_.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),y||Lw(h,e,s,_.state))),r&&u===null)throw Error(a(528,""));return _}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=da(s),s=Ui(h).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function fa(e){return'href="'+jn(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function Cg(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Lw(e,r,s,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ht(r,"link",s),Dt(r),e.head.appendChild(r))}function da(e){return'[src="'+jn(e)+'"]'}function Ss(e){return"script[async]"+e}function Rg(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+jn(s.href)+'"]');if(u)return r.instance=u,Dt(u),u;var h=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Dt(u),Ht(u,"style",h),eo(u,s.precedence,e),r.instance=u;case"stylesheet":h=fa(s.href);var y=e.querySelector(_s(h));if(y)return r.state.loading|=4,r.instance=y,Dt(y),y;u=Cg(s),(h=Un.get(h))&&tf(u,h),y=(e.ownerDocument||e).createElement("link"),Dt(y);var _=y;return _._p=new Promise(function(O,G){_.onload=O,_.onerror=G}),Ht(y,"link",u),r.state.loading|=4,eo(y,s.precedence,e),r.instance=y;case"script":return y=da(s.src),(h=e.querySelector(Ss(y)))?(r.instance=h,Dt(h),h):(u=s,(h=Un.get(y))&&(u=g({},s),nf(u,h)),e=e.ownerDocument||e,h=e.createElement("script"),Dt(h),Ht(h,"link",u),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,eo(u,s.precedence,e));return r.instance}function eo(e,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,_=0;_<u.length;_++){var O=u[_];if(O.dataset.precedence===r)y=O;else if(y!==h)break}y?y.parentNode.insertBefore(e,y.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function tf(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function nf(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var to=null;function Og(e,r,s){if(to===null){var u=new Map,h=to=new Map;h.set(s,u)}else h=to,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(e))return u;for(u.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var y=s[h];if(!(y[Ia]||y[Bt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=e+_;var O=u.get(_);O?O.push(y):u.set(_,[y])}}return u}function Ug(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function Mw(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bw(e,r,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=fa(u.href),y=r.querySelector(_s(h));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=no.bind(e),r.then(e,e)),s.state.loading|=4,s.instance=y,Dt(y);return}y=r.ownerDocument||r,u=Cg(u),(h=Un.get(h))&&tf(u,h),y=y.createElement("link"),Dt(y);var _=y;_._p=new Promise(function(O,G){_.onload=O,_.onerror=G}),Ht(y,"link",u),s.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=no.bind(e),r.addEventListener("load",s),r.addEventListener("error",s))}}var rf=0;function Iw(e,r){return e.stylesheets&&e.count===0&&io(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var u=setTimeout(function(){if(e.stylesheets&&io(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+r);0<e.imgBytes&&rf===0&&(rf=62500*bw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&io(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>rf?50:800)+r);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function no(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ro=null;function io(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ro=new Map,r.forEach(qw,e),ro=null,no.call(e))}function qw(e,r){if(!(r.state.loading&4)){var s=ro.get(e);if(s)var u=s.get(null);else{s=new Map,ro.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var _=h[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),u=_)}u&&s.set(null,u)}h=r.instance,_=h.getAttribute("data-precedence"),y=s.get(_)||u,y===u&&s.set(null,h),s.set(_,h),this.count++,u=no.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Es={$$typeof:N,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Pw(e,r,s,u,h,y,_,O,G){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function zg(e,r,s,u,h,y,_,O,G,re,le,ue){return e=new Pw(e,r,s,_,G,re,le,ue,O),r=1,y===!0&&(r|=24),y=dn(3,null,null,r),e.current=y,y.stateNode=e,r=Lu(),r.refCount++,e.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:r},qu(y),e}function Lg(e){return e?(e=$i,e):$i}function Mg(e,r,s,u,h,y){h=Lg(h),u.context===null?u.context=h:u.pendingContext=h,u=zr(r),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Lr(e,u,r),s!==null&&(rn(s,e,r),ns(s,e,r))}function Bg(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function af(e,r){Bg(e,r),(e=e.alternate)&&Bg(e,r)}function Ig(e){if(e.tag===13||e.tag===31){var r=li(e,67108864);r!==null&&rn(r,e,67108864),af(e,67108864)}}function qg(e){if(e.tag===13||e.tag===31){var r=yn();r=Wo(r);var s=li(e,r);s!==null&&rn(s,e,r),af(e,r)}}var ao=!0;function Hw(e,r,s,u){var h=k.T;k.T=null;var y=A.p;try{A.p=2,sf(e,r,s,u)}finally{A.p=y,k.T=h}}function $w(e,r,s,u){var h=k.T;k.T=null;var y=A.p;try{A.p=8,sf(e,r,s,u)}finally{A.p=y,k.T=h}}function sf(e,r,s,u){if(ao){var h=lf(u);if(h===null)Vc(e,r,u,so,s),Hg(e,u);else if(Vw(h,e,r,s,u))u.stopPropagation();else if(Hg(e,u),r&4&&-1<Fw.indexOf(e)){for(;h!==null;){var y=Oi(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Ft(y.pendingLanes);if(_!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var G=1<<31-He(_);O.entanglements[1]|=G,_&=~G}er(y),($e&6)===0&&(Hl=Re()+500,vs(0))}}break;case 31:case 13:O=li(y,2),O!==null&&rn(O,y,2),Fl(),af(y,2)}if(y=lf(u),y===null&&Vc(e,r,u,so,s),y===h)break;h=y}h!==null&&u.stopPropagation()}else Vc(e,r,u,null,s)}}function lf(e){return e=ou(e),of(e)}var so=null;function of(e){if(so=null,e=Ri(e),e!==null){var r=o(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=c(r),e!==null)return e;e=null}else if(s===31){if(e=f(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return so=e,null}function Pg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case se:return 2;case me:return 8;case ge:case Te:return 32;case ke:return 268435456;default:return 32}default:return 32}}var uf=!1,Yr=null,Kr=null,Qr=null,js=new Map,ks=new Map,Xr=[],Fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hg(e,r){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":js.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(r.pointerId)}}function As(e,r,s,u,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},r!==null&&(r=Oi(r),r!==null&&Ig(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function Vw(e,r,s,u,h){switch(r){case"focusin":return Yr=As(Yr,e,r,s,u,h),!0;case"dragenter":return Kr=As(Kr,e,r,s,u,h),!0;case"mouseover":return Qr=As(Qr,e,r,s,u,h),!0;case"pointerover":var y=h.pointerId;return js.set(y,As(js.get(y)||null,e,r,s,u,h)),!0;case"gotpointercapture":return y=h.pointerId,ks.set(y,As(ks.get(y)||null,e,r,s,u,h)),!0}return!1}function $g(e){var r=Ri(e.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){e.blockedOn=r,rh(e.priority,function(){qg(s)});return}}else if(r===31){if(r=f(s),r!==null){e.blockedOn=r,rh(e.priority,function(){qg(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=lf(e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);lu=u,s.target.dispatchEvent(u),lu=null}else return r=Oi(s),r!==null&&Ig(r),e.blockedOn=s,!1;r.shift()}return!0}function Fg(e,r,s){lo(e)&&s.delete(r)}function Gw(){uf=!1,Yr!==null&&lo(Yr)&&(Yr=null),Kr!==null&&lo(Kr)&&(Kr=null),Qr!==null&&lo(Qr)&&(Qr=null),js.forEach(Fg),ks.forEach(Fg)}function oo(e,r){e.blockedOn===r&&(e.blockedOn=null,uf||(uf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gw)))}var uo=null;function Vg(e){uo!==e&&(uo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var r=0;r<e.length;r+=3){var s=e[r],u=e[r+1],h=e[r+2];if(typeof u!="function"){if(of(u||s)===null)continue;break}var y=Oi(s);y!==null&&(e.splice(r,3),r-=3,sc(y,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function ha(e){function r(G){return oo(G,e)}Yr!==null&&oo(Yr,e),Kr!==null&&oo(Kr,e),Qr!==null&&oo(Qr,e),js.forEach(r),ks.forEach(r);for(var s=0;s<Xr.length;s++){var u=Xr[s];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Xr.length&&(s=Xr[0],s.blockedOn===null);)$g(s),s.blockedOn===null&&Xr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],y=s[u+1],_=h[Jt]||null;if(typeof y=="function")_||Vg(s);else if(_){var O=null;if(y&&y.hasAttribute("formAction")){if(h=y,_=y[Jt]||null)O=_.formAction;else if(of(h)!==null)continue}else O=_.action;typeof O=="function"?s[u+1]=O:(s.splice(u,3),u-=3),Vg(s)}}}function Gg(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function cf(e){this._internalRoot=e}co.prototype.render=cf.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,u=yn();Mg(s,u,e,r,null,null)},co.prototype.unmount=cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Mg(e.current,2,null,e,null,null),Fl(),r[Ci]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var r=nh();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Xr.length&&r!==0&&r<Xr[s].priority;s++);Xr.splice(s,0,e),s===0&&$g(e)}};var Yg=t.version;if(Yg!=="19.2.0")throw Error(a(527,Yg,"19.2.0"));A.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(r),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Yw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{st=fo.inject(Yw),Ge=fo}catch{}}return Ns.createRoot=function(e,r){if(!l(e))throw Error(a(299));var s=!1,u="",h=ep,y=tp,_=np;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=zg(e,1,!1,null,null,s,u,null,h,y,_,Gg),e[Ci]=r.current,Fc(e),new cf(r)},Ns.hydrateRoot=function(e,r,s){if(!l(e))throw Error(a(299));var u=!1,h="",y=ep,_=tp,O=np,G=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError),s.formState!==void 0&&(G=s.formState)),r=zg(e,1,!0,r,s??null,u,h,G,y,_,O,Gg),r.context=Lg(null),s=r.current,u=yn(),u=Wo(u),h=zr(u),h.callback=null,Lr(s,h,u),s=u,r.current.lanes=s,Ba(r,s),er(r),e[Ci]=r.current,Fc(e),new co(r)},Ns.version="19.2.0",Ns}var ry;function s1(){if(ry)return hf.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hf.exports=a1(),hf.exports}var l1=s1();const o1=Gs(l1);var iy="popstate";function u1(n={}){function t(a,l){let{pathname:o,search:c,hash:f}=a.location;return Vf("",{pathname:o,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:Ps(l)}return f1(t,i,null,n)}function dt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Sn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c1(){return Math.random().toString(36).substring(2,10)}function ay(n,t){return{usr:n.state,key:n.key,idx:t}}function Vf(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ca(t):t,state:i,key:t&&t.key||a||c1()}}function Ps({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Ca(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function f1(n,t,i,a={}){let{window:l=document.defaultView,v5Compat:o=!1}=a,c=l.history,f="POP",d=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function g(){f="POP";let E=m(),j=E==null?null:E-p;p=E,d&&d({action:f,location:S.location,delta:j})}function v(E,j){f="PUSH";let z=Vf(S.location,E,j);p=m()+1;let N=ay(z,p),M=S.createHref(z);try{c.pushState(N,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(M)}o&&d&&d({action:f,location:S.location,delta:1})}function x(E,j){f="REPLACE";let z=Vf(S.location,E,j);p=m();let N=ay(z,p),M=S.createHref(z);c.replaceState(N,"",M),o&&d&&d({action:f,location:S.location,delta:0})}function w(E){return d1(E)}let S={get action(){return f},get location(){return n(l,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(iy,g),d=E,()=>{l.removeEventListener(iy,g),d=null}},createHref(E){return t(l,E)},createURL:w,encodeLocation(E){let j=w(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:x,go(E){return c.go(E)}};return S}function d1(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),dt(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ps(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function T0(n,t,i="/"){return h1(n,t,i,!1)}function h1(n,t,i,a){let l=typeof t=="string"?Ca(t):t,o=Ar(l.pathname||"/",i);if(o==null)return null;let c=N0(n);m1(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=j1(o);f=S1(c[d],p,a)}return f}function N0(n,t=[],i=[],a="",l=!1){let o=(c,f,d=l,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&d)return;dt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let g=jr([a,m.relativePath]),v=i.concat(m);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),N0(c.children,t,v,g,d)),!(c.path==null&&!c.index)&&t.push({path:g,score:w1(g,c.index),routesMeta:v})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let d of C0(c.path))o(c,f,!0,d)}),t}function C0(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,l=i.endsWith("?"),o=i.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let c=C0(a.join("/")),f=[];return f.push(...c.map(d=>d===""?o:[o,d].join("/"))),l&&f.push(...c),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function m1(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:_1(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var p1=/^:[\w-]+$/,g1=3,y1=2,v1=1,b1=10,x1=-2,sy=n=>n==="*";function w1(n,t){let i=n.split("/"),a=i.length;return i.some(sy)&&(a+=x1),t&&(a+=y1),i.filter(l=>!sy(l)).reduce((l,o)=>l+(p1.test(o)?g1:o===""?v1:b1),a)}function _1(n,t){return n.length===t.length&&n.slice(0,-1).every((a,l)=>a===t[l])?n[n.length-1]-t[t.length-1]:0}function S1(n,t,i=!1){let{routesMeta:a}=n,l={},o="/",c=[];for(let f=0;f<a.length;++f){let d=a[f],p=f===a.length-1,m=o==="/"?t:t.slice(o.length)||"/",g=Ro({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!g&&p&&i&&!a[a.length-1].route.index&&(g=Ro({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(l,g.params),c.push({params:l,pathname:jr([o,g.pathname]),pathnameBase:C1(jr([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=jr([o,g.pathnameBase]))}return c}function Ro(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=E1(n.path,n.caseSensitive,n.end),l=t.match(i);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((p,{paramName:m,isOptional:g},v)=>{if(m==="*"){let w=f[v]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=f[v];return g&&!x?p[m]=void 0:p[m]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function E1(n,t=!1,i=!0){Sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(a.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function j1(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ar(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}var k1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A1=n=>k1.test(n);function T1(n,t="/"){let{pathname:i,search:a="",hash:l=""}=typeof n=="string"?Ca(n):n,o;if(i)if(A1(i))o=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?o=ly(i.substring(1),"/"):o=ly(i,t)}else o=t;return{pathname:o,search:R1(a),hash:O1(l)}}function ly(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function yf(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function vd(n){let t=N1(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function bd(n,t,i,a=!1){let l;typeof n=="string"?l=Ca(n):(l={...n},dt(!l.pathname||!l.pathname.includes("?"),yf("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),yf("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),yf("#","search","hash",l)));let o=n===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=i;else{let g=t.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;l.pathname=v.join("/")}f=g>=0?t[g]:"/"}let d=T1(l,f),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),C1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),R1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function U1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R0=["POST","PUT","PATCH","DELETE"];new Set(R0);var D1=["GET",...R0];new Set(D1);var Ra=L.createContext(null);Ra.displayName="DataRouter";var Fo=L.createContext(null);Fo.displayName="DataRouterState";L.createContext(!1);var O0=L.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var z1=L.createContext(new Map);z1.displayName="Fetchers";var L1=L.createContext(null);L1.displayName="Await";var Yn=L.createContext(null);Yn.displayName="Navigation";var Ys=L.createContext(null);Ys.displayName="Location";var Ln=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var xd=L.createContext(null);xd.displayName="RouteError";function M1(n,{relative:t}={}){dt(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=L.useContext(Yn),{hash:l,pathname:o,search:c}=Ks(n,{relative:t}),f=o;return i!=="/"&&(f=o==="/"?i:jr([i,o])),a.createHref({pathname:f,search:c,hash:l})}function Oa(){return L.useContext(Ys)!=null}function Mn(){return dt(Oa(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ys).location}var U0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(n){L.useContext(Yn).static||L.useLayoutEffect(n)}function on(){let{isDataRoute:n}=L.useContext(Ln);return n?Z1():B1()}function B1(){dt(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Ra),{basename:t,navigator:i}=L.useContext(Yn),{matches:a}=L.useContext(Ln),{pathname:l}=Mn(),o=JSON.stringify(vd(a)),c=L.useRef(!1);return D0(()=>{c.current=!0}),L.useCallback((d,p={})=>{if(Sn(c.current,U0),!c.current)return;if(typeof d=="number"){i.go(d);return}let m=bd(d,JSON.parse(o),l,p.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:jr([t,m.pathname])),(p.replace?i.replace:i.push)(m,p.state,p)},[t,i,o,l,n])}var I1=L.createContext(null);function q1(n){let t=L.useContext(Ln).outlet;return L.useMemo(()=>t&&L.createElement(I1.Provider,{value:n},t),[t,n])}function Vo(){let{matches:n}=L.useContext(Ln),t=n[n.length-1];return t?t.params:{}}function Ks(n,{relative:t}={}){let{matches:i}=L.useContext(Ln),{pathname:a}=Mn(),l=JSON.stringify(vd(i));return L.useMemo(()=>bd(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function P1(n,t){return z0(n,t)}function z0(n,t,i,a,l){dt(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Yn),{matches:c}=L.useContext(Ln),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",g=f&&f.route;{let z=g&&g.path||"";L0(p,!g||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=Mn(),x;if(t){let z=typeof t=="string"?Ca(t):t;dt(m==="/"||z.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=v;let w=x.pathname||"/",S=w;if(m!=="/"){let z=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(z.length).join("/")}let E=T0(n,{pathname:S});Sn(g||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Sn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=G1(E&&E.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:jr([m,o.encodeLocation?o.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:jr([m,o.encodeLocation?o.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,i,a,l);return t&&j?L.createElement(Ys.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function H1(){let n=J1(),t=U1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:l},i):null,c)}var $1=L.createElement(H1,null),F1=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(Ln.Provider,{value:this.props.routeContext},L.createElement(xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V1({routeContext:n,match:t,children:i}){let a=L.useContext(Ra);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Ln.Provider,{value:n},i)}function G1(n,t=[],i=null,a=null,l=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let o=n,c=i?.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,d=-1;if(i)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:x}=i,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||w){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=i&&a?(m,g)=>{a(m,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:g})}:void 0;return o.reduceRight((m,g,v)=>{let x,w=!1,S=null,E=null;i&&(x=c&&g.route.id?c[g.route.id]:void 0,S=g.route.errorElement||$1,f&&(d<0&&v===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):d===v&&(w=!0,E=g.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,v+1)),z=()=>{let N;return x?N=S:w?N=E:g.route.Component?N=L.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=m,L.createElement(V1,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:i!=null},children:N})};return i&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?L.createElement(F1,{location:i.location,revalidation:i.revalidation,component:S,error:x,children:z(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):z()},null)}function wd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y1(n){let t=L.useContext(Ra);return dt(t,wd(n)),t}function K1(n){let t=L.useContext(Fo);return dt(t,wd(n)),t}function Q1(n){let t=L.useContext(Ln);return dt(t,wd(n)),t}function _d(n){let t=Q1(n),i=t.matches[t.matches.length-1];return dt(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function X1(){return _d("useRouteId")}function J1(){let n=L.useContext(xd),t=K1("useRouteError"),i=_d("useRouteError");return n!==void 0?n:t.errors?.[i]}function Z1(){let{router:n}=Y1("useNavigate"),t=_d("useNavigate"),i=L.useRef(!1);return D0(()=>{i.current=!0}),L.useCallback(async(l,o={})=>{Sn(i.current,U0),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:t,...o}))},[n,t])}var oy={};function L0(n,t,i){!t&&!oy[n]&&(oy[n]=!0,Sn(!1,i))}L.memo(W1);function W1({routes:n,future:t,state:i,unstable_onError:a}){return z0(n,void 0,i,a,t)}function e_({to:n,replace:t,state:i,relative:a}){dt(Oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(Yn);Sn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=L.useContext(Ln),{pathname:c}=Mn(),f=on(),d=bd(n,vd(o),c,a==="path"),p=JSON.stringify(d);return L.useEffect(()=>{f(JSON.parse(p),{replace:t,state:i,relative:a})},[f,p,a,t,i]),null}function M0(n){return q1(n.context)}function Et(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t_({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:l,static:o=!1}){dt(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:c,navigator:l,static:o,future:{}}),[c,l,o]);typeof i=="string"&&(i=Ca(i));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,x=L.useMemo(()=>{let w=Ar(d,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:g,key:v},navigationType:a}},[c,d,p,m,g,v,a]);return Sn(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Yn.Provider,{value:f},L.createElement(Ys.Provider,{children:t,value:x}))}function n_({children:n,location:t}){return P1(Gf(n),t)}function Gf(n,t=[]){let i=[];return L.Children.forEach(n,(a,l)=>{if(!L.isValidElement(a))return;let o=[...t,l];if(a.type===L.Fragment){i.push.apply(i,Gf(a.props.children,o));return}dt(a.type===Et,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Gf(a.props.children,o)),i.push(c)}),i}var Ao="get",To="application/x-www-form-urlencoded";function Go(n){return n!=null&&typeof n.tagName=="string"}function r_(n){return Go(n)&&n.tagName.toLowerCase()==="button"}function i_(n){return Go(n)&&n.tagName.toLowerCase()==="form"}function a_(n){return Go(n)&&n.tagName.toLowerCase()==="input"}function s_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l_(n,t){return n.button===0&&(!t||t==="_self")&&!s_(n)}function Yf(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,i)=>{let a=n[i];return t.concat(Array.isArray(a)?a.map(l=>[i,l]):[[i,a]])},[]))}function o_(n,t){let i=Yf(n);return t&&t.forEach((a,l)=>{i.has(l)||t.getAll(l).forEach(o=>{i.append(l,o)})}),i}var ho=null;function u_(){if(ho===null)try{new FormData(document.createElement("form"),0),ho=!1}catch{ho=!0}return ho}var c_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vf(n){return n!=null&&!c_.has(n)?(Sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${To}"`),null):n}function f_(n,t){let i,a,l,o,c;if(i_(n)){let f=n.getAttribute("action");a=f?Ar(f,t):null,i=n.getAttribute("method")||Ao,l=vf(n.getAttribute("enctype"))||To,o=new FormData(n)}else if(r_(n)||a_(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(a=d?Ar(d,t):null,i=n.getAttribute("formmethod")||f.getAttribute("method")||Ao,l=vf(n.getAttribute("formenctype"))||vf(f.getAttribute("enctype"))||To,o=new FormData(f,n),!u_()){let{name:p,type:m,value:g}=n;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,g)}}else{if(Go(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ao,a=null,l=To,c=n}return o&&l==="text/plain"&&(c=o,o=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sd(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function d_(n,t,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&Ar(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function h_(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function p_(n,t,i){let a=await Promise.all(n.map(async l=>{let o=t.routes[l.route.id];if(o){let c=await h_(o,i);return c.links?c.links():[]}return[]}));return b_(a.flat(1).filter(m_).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function uy(n,t,i,a,l,o){let c=(d,p)=>i[p]?d.route.id!==i[p].route.id:!0,f=(d,p)=>i[p].pathname!==d.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,p)=>c(d,p)||f(d,p)):o==="data"?t.filter((d,p)=>{let m=a.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function g_(n,t,{includeHydrateFallback:i}={}){return y_(n.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function y_(n){return[...new Set(n)]}function v_(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function b_(n,t){let i=new Set;return new Set(t),n.reduce((a,l)=>{let o=JSON.stringify(v_(l));return i.has(o)||(i.add(o),a.push({key:o,link:l})),a},[])}function B0(){let n=L.useContext(Ra);return Sd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x_(){let n=L.useContext(Fo);return Sd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ed=L.createContext(void 0);Ed.displayName="FrameworkContext";function I0(){let n=L.useContext(Ed);return Sd(n,"You must render this element inside a <HydratedRouter> element"),n}function w_(n,t){let i=L.useContext(Ed),[a,l]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:g}=t,v=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let S=j=>{j.forEach(z=>{c(z.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[n]),L.useEffect(()=>{if(a){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[a]);let x=()=>{l(!0)},w=()=>{l(!1),c(!1)};return i?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Cs(f,x),onBlur:Cs(d,w),onMouseEnter:Cs(p,x),onMouseLeave:Cs(m,w),onTouchStart:Cs(g,x)}]:[!1,v,{}]}function Cs(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function __({page:n,...t}){let{router:i}=B0(),a=L.useMemo(()=>T0(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?L.createElement(E_,{page:n,matches:a,...t}):null}function S_(n){let{manifest:t,routeModules:i}=I0(),[a,l]=L.useState([]);return L.useEffect(()=>{let o=!1;return p_(n,t,i).then(c=>{o||l(c)}),()=>{o=!0}},[n,t,i]),a}function E_({page:n,matches:t,...i}){let a=Mn(),{manifest:l,routeModules:o}=I0(),{basename:c}=B0(),{loaderData:f,matches:d}=x_(),p=L.useMemo(()=>uy(n,t,d,l,a,"data"),[n,t,d,l,a]),m=L.useMemo(()=>uy(n,t,d,l,a,"assets"),[n,t,d,l,a]),g=L.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let w=new Set,S=!1;if(t.forEach(j=>{let z=l.routes[j.route.id];!z||!z.hasLoader||(!p.some(N=>N.route.id===j.route.id)&&j.route.id in f&&o[j.route.id]?.shouldRevalidate||z.hasClientLoader?S=!0:w.add(j.route.id))}),w.size===0)return[];let E=d_(n,c,"data");return S&&w.size>0&&E.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[E.pathname+E.search]},[c,f,a,l,p,t,n,o]),v=L.useMemo(()=>g_(m,l),[m,l]),x=S_(m);return L.createElement(L.Fragment,null,g.map(w=>L.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),v.map(w=>L.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),x.map(({key:w,link:S})=>L.createElement("link",{key:w,nonce:i.nonce,...S})))}function j_(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q0&&(window.__reactRouterVersion="7.9.6")}catch{}function k_({basename:n,children:t,window:i}){let a=L.useRef();a.current==null&&(a.current=u1({window:i,v5Compat:!0}));let l=a.current,[o,c]=L.useState({action:l.action,location:l.location}),f=L.useCallback(d=>{L.startTransition(()=>c(d))},[c]);return L.useLayoutEffect(()=>l.listen(f),[l,f]),L.createElement(t_,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:l})}var P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=L.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:l,reloadDocument:o,replace:c,state:f,target:d,to:p,preventScrollReset:m,viewTransition:g,...v},x){let{basename:w}=L.useContext(Yn),S=typeof p=="string"&&P0.test(p),E,j=!1;if(typeof p=="string"&&S&&(E=p,q0))try{let D=new URL(window.location.href),F=p.startsWith("//")?new URL(D.protocol+p):new URL(p),B=Ar(F.pathname,w);F.origin===D.origin&&B!=null?p=B+F.search+F.hash:j=!0}catch{Sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=M1(p,{relative:l}),[N,M,$]=w_(a,v),T=N_(p,{replace:c,state:f,target:d,preventScrollReset:m,relative:l,viewTransition:g});function H(D){t&&t(D),D.defaultPrevented||T(D)}let C=L.createElement("a",{...v,...$,href:E||z,onClick:j||o?t:H,ref:j_(x,M),target:d,"data-discover":!S&&i==="render"?"true":void 0});return N&&!S?L.createElement(L.Fragment,null,C,L.createElement(__,{page:z})):C});pt.displayName="Link";var Oo=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:f,children:d,...p},m){let g=Ks(c,{relative:p.relative}),v=Mn(),x=L.useContext(Fo),{navigator:w,basename:S}=L.useContext(Yn),E=x!=null&&D_(g)&&f===!0,j=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,z=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(z=z.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&S&&(N=Ar(N,S)||N);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let $=z===j||!l&&z.startsWith(j)&&z.charAt(M)==="/",T=N!=null&&(N===j||!l&&N.startsWith(j)&&N.charAt(j.length)==="/"),H={isActive:$,isPending:T,isTransitioning:E},C=$?t:void 0,D;typeof a=="function"?D=a(H):D=[a,$?"active":null,T?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(H):o;return L.createElement(pt,{...p,"aria-current":C,className:D,ref:m,style:F,to:c,viewTransition:f},typeof d=="function"?d(H):d)});Oo.displayName="NavLink";var A_=L.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:l,state:o,method:c=Ao,action:f,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:g,...v},x)=>{let w=O_(),S=U_(f,{relative:p}),E=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&P0.test(f),z=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let M=N.nativeEvent.submitter,$=M?.getAttribute("formmethod")||c;w(M||N.currentTarget,{fetcherKey:t,method:$,navigate:i,replace:l,state:o,relative:p,preventScrollReset:m,viewTransition:g})};return L.createElement("form",{ref:x,method:E,action:S,onSubmit:a?d:z,...v,"data-discover":!j&&n==="render"?"true":void 0})});A_.displayName="Form";function T_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H0(n){let t=L.useContext(Ra);return dt(t,T_(n)),t}function N_(n,{target:t,replace:i,state:a,preventScrollReset:l,relative:o,viewTransition:c}={}){let f=on(),d=Mn(),p=Ks(n,{relative:o});return L.useCallback(m=>{if(l_(m,t)){m.preventDefault();let g=i!==void 0?i:Ps(d)===Ps(p);f(n,{replace:g,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[d,f,p,i,a,t,n,l,o,c])}function $0(n){Sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=L.useRef(Yf(n)),i=L.useRef(!1),a=Mn(),l=L.useMemo(()=>o_(a.search,i.current?null:t.current),[a.search]),o=on(),c=L.useCallback((f,d)=>{const p=Yf(typeof f=="function"?f(new URLSearchParams(l)):f);i.current=!0,o("?"+p,d)},[o,l]);return[l,c]}var C_=0,R_=()=>`__${String(++C_)}__`;function O_(){let{router:n}=H0("useSubmit"),{basename:t}=L.useContext(Yn),i=X1();return L.useCallback(async(a,l={})=>{let{action:o,method:c,encType:f,formData:d,body:p}=f_(a,t);if(l.navigate===!1){let m=l.fetcherKey||R_();await n.fetch(m,i,l.action||o,{preventScrollReset:l.preventScrollReset,formData:d,body:p,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await n.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:d,body:p,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,t,i])}function U_(n,{relative:t}={}){let{basename:i}=L.useContext(Yn),a=L.useContext(Ln);dt(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o={...Ks(n||".",{relative:t})},c=Mn();if(n==null){o.search=c.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(m=>m==="")){f.delete("index"),d.filter(g=>g).forEach(g=>f.append("index",g));let m=f.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(o.pathname=o.pathname==="/"?i:jr([i,o.pathname])),Ps(o)}function D_(n,{relative:t}={}){let i=L.useContext(O0);dt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=H0("useViewTransitionState"),l=Ks(n,{relative:t});if(!i.isTransitioning)return!1;let o=Ar(i.currentLocation.pathname,a)||i.currentLocation.pathname,c=Ar(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Ro(l.pathname,c)!=null||Ro(l.pathname,o)!=null}var Kf=function(n,t){return Kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},Kf(n,t)};function F0(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kf(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var Uo=function(){return Uo=Object.assign||function(t){for(var i,a=1,l=arguments.length;a<l;a++){i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Uo.apply(this,arguments)};function Ua(n,t){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(i[a[l]]=n[a[l]]);return i}function V0(n,t,i,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,i):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,i,a);else for(var f=n.length-1;f>=0;f--)(c=n[f])&&(o=(l<3?c(o):l>3?c(t,i,o):c(t,i))||o);return l>3&&o&&Object.defineProperty(t,i,o),o}function G0(n,t){return function(i,a){t(i,a,n)}}function Y0(n,t,i,a,l,o){function c(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var f=a.kind,d=f==="getter"?"get":f==="setter"?"set":"value",p=!t&&n?a.static?n:n.prototype:null,m=t||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),g,v=!1,x=i.length-1;x>=0;x--){var w={};for(var S in a)w[S]=S==="access"?{}:a[S];for(var S in a.access)w.access[S]=a.access[S];w.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(j||null))};var E=(0,i[x])(f==="accessor"?{get:m.get,set:m.set}:m[d],w);if(f==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(g=c(E.get))&&(m.get=g),(g=c(E.set))&&(m.set=g),(g=c(E.init))&&l.unshift(g)}else(g=c(E))&&(f==="field"?l.unshift(g):m[d]=g)}p&&Object.defineProperty(p,a.name,m),v=!0}function K0(n,t,i){for(var a=arguments.length>2,l=0;l<t.length;l++)i=a?t[l].call(n,i):t[l].call(n);return a?i:void 0}function Q0(n){return typeof n=="symbol"?n:"".concat(n)}function X0(n,t,i){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function J0(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function be(n,t,i,a){function l(o){return o instanceof i?o:new i(function(c){c(o)})}return new(i||(i=Promise))(function(o,c){function f(m){try{p(a.next(m))}catch(g){c(g)}}function d(m){try{p(a.throw(m))}catch(g){c(g)}}function p(m){m.done?o(m.value):l(m.value).then(f,d)}p((a=a.apply(n,t||[])).next())})}function Z0(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,l,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(m){return d([p,m])}}function d(p){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(i=0)),i;)try{if(a=1,l&&(o=p[0]&2?l.return:p[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,p[1])).done)return o;switch(l=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,l=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){i.label=p[1];break}if(p[0]===6&&i.label<o[1]){i.label=o[1],o=p;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(p);break}o[2]&&i.ops.pop(),i.trys.pop();continue}p=t.call(n,i)}catch(m){p=[6,m],l=0}finally{a=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Yo=Object.create?(function(n,t,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(n,a,l)}):(function(n,t,i,a){a===void 0&&(a=i),n[a]=t[i]});function W0(n,t){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Yo(t,n,i)}function Do(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jd(n,t){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),l,o=[],c;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)o.push(l.value)}catch(f){c={error:f}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return o}function ev(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(jd(arguments[t]));return n}function tv(){for(var n=0,t=0,i=arguments.length;t<i;t++)n+=arguments[t].length;for(var a=Array(n),l=0,t=0;t<i;t++)for(var o=arguments[t],c=0,f=o.length;c<f;c++,l++)a[l]=o[c];return a}function nv(n,t,i){if(i||arguments.length===2)for(var a=0,l=t.length,o;a<l;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return n.concat(o||Array.prototype.slice.call(t))}function Na(n){return this instanceof Na?(this.v=n,this):new Na(n)}function rv(n,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,t||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(x){return function(w){return Promise.resolve(w).then(x,g)}}function f(x,w){a[x]&&(l[x]=function(S){return new Promise(function(E,j){o.push([x,S,E,j])>1||d(x,S)})},w&&(l[x]=w(l[x])))}function d(x,w){try{p(a[x](w))}catch(S){v(o[0][3],S)}}function p(x){x.value instanceof Na?Promise.resolve(x.value.v).then(m,g):v(o[0][2],x)}function m(x){d("next",x)}function g(x){d("throw",x)}function v(x,w){x(w),o.shift(),o.length&&d(o[0][0],o[0][1])}}function iv(n){var t,i;return t={},a("next"),a("throw",function(l){throw l}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(l,o){t[l]=n[l]?function(c){return(i=!i)?{value:Na(n[l](c)),done:!1}:o?o(c):c}:o}}function av(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],i;return t?t.call(n):(n=typeof Do=="function"?Do(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(o){i[o]=n[o]&&function(c){return new Promise(function(f,d){c=n[o](c),l(f,d,c.done,c.value)})}}function l(o,c,f,d){Promise.resolve(d).then(function(p){o({value:p,done:f})},c)}}function sv(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var z_=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},Qf=function(n){return Qf=Object.getOwnPropertyNames||function(t){var i=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[i.length]=a);return i},Qf(n)};function lv(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var i=Qf(n),a=0;a<i.length;a++)i[a]!=="default"&&Yo(t,n,i[a]);return z_(t,n),t}function ov(n){return n&&n.__esModule?n:{default:n}}function uv(n,t,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!a:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(n):a?a.value:t.get(n)}function cv(n,t,i,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!l:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(n,i):l?l.value=i:t.set(n,i),i}function fv(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function dv(n,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,l;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],i&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:t,dispose:a,async:i})}else i&&n.stack.push({async:!0});return t}var L_=typeof SuppressedError=="function"?SuppressedError:function(n,t,i){var a=new Error(i);return a.name="SuppressedError",a.error=n,a.suppressed=t,a};function hv(n){function t(o){n.error=n.hasError?new L_(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var i,a=0;function l(){for(;i=n.stack.pop();)try{if(!i.async&&a===1)return a=0,n.stack.push(i),Promise.resolve().then(l);if(i.dispose){var o=i.dispose.call(i.value);if(i.async)return a|=2,Promise.resolve(o).then(l,function(c){return t(c),l()})}else a|=1}catch(c){t(c)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function mv(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,a,l,o,c){return a?t?".jsx":".js":l&&(!o||!c)?i:l+o+"."+c.toLowerCase()+"js"}):n}const M_={__extends:F0,__assign:Uo,__rest:Ua,__decorate:V0,__param:G0,__esDecorate:Y0,__runInitializers:K0,__propKey:Q0,__setFunctionName:X0,__metadata:J0,__awaiter:be,__generator:Z0,__createBinding:Yo,__exportStar:W0,__values:Do,__read:jd,__spread:ev,__spreadArrays:tv,__spreadArray:nv,__await:Na,__asyncGenerator:rv,__asyncDelegator:iv,__asyncValues:av,__makeTemplateObject:sv,__importStar:lv,__importDefault:ov,__classPrivateFieldGet:uv,__classPrivateFieldSet:cv,__classPrivateFieldIn:fv,__addDisposableResource:dv,__disposeResources:hv,__rewriteRelativeImportExtension:mv},B_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dv,get __assign(){return Uo},__asyncDelegator:iv,__asyncGenerator:rv,__asyncValues:av,__await:Na,__awaiter:be,__classPrivateFieldGet:uv,__classPrivateFieldIn:fv,__classPrivateFieldSet:cv,__createBinding:Yo,__decorate:V0,__disposeResources:hv,__esDecorate:Y0,__exportStar:W0,__extends:F0,__generator:Z0,__importDefault:ov,__importStar:lv,__makeTemplateObject:sv,__metadata:J0,__param:G0,__propKey:Q0,__read:jd,__rest:Ua,__rewriteRelativeImportExtension:mv,__runInitializers:K0,__setFunctionName:X0,__spread:ev,__spreadArray:nv,__spreadArrays:tv,__values:Do,default:M_},Symbol.toStringTag,{value:"Module"})),I_=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class kd extends Error{constructor(t,i="FunctionsError",a){super(t),this.name=i,this.context=a}}class q_ extends kd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cy extends kd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fy extends kd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xf;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Xf||(Xf={}));class P_{constructor(t,{headers:i={},customFetch:a,region:l=Xf.Any}={}){this.url=t,this.headers=i,this.region=l,this.fetch=I_(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return be(this,arguments,void 0,function*(i,a={}){var l;let o,c;try{const{headers:f,method:d,body:p,signal:m,timeout:g}=a;let v={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${i}`);x&&x!=="any"&&(v["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let S;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(v["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(v["Content-Type"]="application/json",S=JSON.stringify(p)):S=p;let E=m;g&&(c=new AbortController,o=setTimeout(()=>c.abort(),g),m?(E=c.signal,m.addEventListener("abort",()=>c.abort())):E=c.signal);const j=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),f),body:S,signal:E}).catch($=>{throw new q_($)}),z=j.headers.get("x-relay-error");if(z&&z==="true")throw new cy(j);if(!j.ok)throw new fy(j);let N=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return N==="application/json"?M=yield j.json():N==="application/octet-stream"||N==="application/pdf"?M=yield j.blob():N==="text/event-stream"?M=j:N==="multipart/form-data"?M=yield j.formData():M=yield j.text(),{data:M,error:null,response:j}}catch(f){return{data:null,error:f,response:f instanceof fy||f instanceof cy?f.context:void 0}}finally{o&&clearTimeout(o)}})}}var Gt={};const Da=Xw(B_);var mo={},po={},go={},yo={},vo={},bo={},dy;function pv(){if(dy)return bo;dy=1,Object.defineProperty(bo,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return bo.default=n,bo}var hy;function gv(){if(hy)return vo;hy=1,Object.defineProperty(vo,"__esModule",{value:!0});const t=Da.__importDefault(pv());class i{constructor(l){var o,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(o=l.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,o){return this.headers=new Headers(this.headers),this.headers.set(l,o),this}then(l,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var p,m,g,v;let x=null,w=null,S=null,E=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const $=await d.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?w=$:w=JSON.parse($))}const N=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),M=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");N&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,E=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const N=await d.text();try{x=JSON.parse(N),Array.isArray(x)&&d.status===404&&(w=[],x=null,E=200,j="OK")}catch{d.status===404&&N===""?(E=204,j="No Content"):x={message:N}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,E=200,j="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:w,count:S,status:E,statusText:j}});return this.shouldThrowOnError||(f=f.catch(d=>{var p,m,g,v,x,w;let S="";const E=d?.cause;if(E){const j=(p=E?.message)!==null&&p!==void 0?p:"",z=(m=E?.code)!==null&&m!==void 0?m:"";S=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,S+=`

Caused by: ${(v=E?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,z&&(S+=` (${z})`),E?.stack&&(S+=`
${E.stack}`)}else S=(x=d?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,o)}returns(){return this}overrideTypes(){return this}}return vo.default=i,vo}var my;function yv(){if(my)return yo;my=1,Object.defineProperty(yo,"__esModule",{value:!0});const t=Da.__importDefault(gv());class i extends t.default{select(l){let o=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:d=f}={}){const p=d?`${d}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${l}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:c,referencedTable:f=c}={}){const d=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(p,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:d=!1,format:p="text"}={}){var m;const g=[l?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return yo.default=i,yo}var py;function Ad(){if(py)return go;py=1,Object.defineProperty(go,"__esModule",{value:!0});const t=Da.__importDefault(yv()),i=new RegExp("[,()]");class a extends t.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const f=Array.from(new Set(c)).map(d=>typeof d=="string"&&i.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:f,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${p}fts${m}.${c}`),this}match(o){return Object.entries(o).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(o,c,f){return this.url.searchParams.append(o,`not.${c}.${f}`),this}or(o,{foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,f){return this.url.searchParams.append(o,`${c}.${f}`),this}}return go.default=a,go}var gy;function vv(){if(gy)return po;gy=1,Object.defineProperty(po,"__esModule",{value:!0});const t=Da.__importDefault(Ad());class i{constructor(l,{headers:o={},schema:c,fetch:f}){this.url=l,this.headers=new Headers(o),this.schema=c,this.fetch=f}select(l,o){const{head:c=!1,count:f}=o??{},d=c?"HEAD":"GET";let p=!1;const m=(l??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:o,defaultToNull:c=!0}={}){var f;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:d=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),f&&this.headers.append("Prefer",`count=${f}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:o}={}){var c;const f="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var o;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return po.default=i,po}var yy;function H_(){if(yy)return mo;yy=1,Object.defineProperty(mo,"__esModule",{value:!0});const n=Da,t=n.__importDefault(vv()),i=n.__importDefault(Ad());class a{constructor(o,{headers:c={},schema:f,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=f,this.fetch=d}from(o){const c=new URL(`${this.url}/${o}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:f=!1,get:d=!1,count:p}={}){var m;let g;const v=new URL(`${this.url}/rpc/${o}`);let x;f||d?(g=f?"HEAD":"GET",Object.entries(c).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{v.searchParams.append(S,E)})):(g="POST",x=c);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new i.default({method:g,url:v,headers:w,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return mo.default=a,mo}var vy;function $_(){if(vy)return Gt;vy=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const n=Da,t=n.__importDefault(H_());Gt.PostgrestClient=t.default;const i=n.__importDefault(vv());Gt.PostgrestQueryBuilder=i.default;const a=n.__importDefault(Ad());Gt.PostgrestFilterBuilder=a.default;const l=n.__importDefault(yv());Gt.PostgrestTransformBuilder=l.default;const o=n.__importDefault(gv());Gt.PostgrestBuilder=o.default;const c=n.__importDefault(pv());return Gt.PostgrestError=c.default,Gt.default={PostgrestClient:t.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:c.default},Gt}var bv=$_();const xv=Gs(bv),F_=Qw({__proto__:null,default:xv},[bv]),{PostgrestClient:V_,PostgrestQueryBuilder:BN,PostgrestFilterBuilder:IN,PostgrestTransformBuilder:qN,PostgrestBuilder:PN,PostgrestError:HN}=xv||F_;class G_{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const a=i.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const a=this.getWebSocketConstructor();return new a(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Y_="2.83.0",K_=`realtime-js/${Y_}`,wv="1.0.0",Q_="2.0.0",by=wv,Jf=1e4,X_=1e3,J_=100;var Si;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Si||(Si={}));var Ut;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ut||(Ut={}));var Dn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Dn||(Dn={}));var Zf;(function(n){n.websocket="websocket"})(Zf||(Zf={}));var Ei;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ei||(Ei={}));class Z_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,i){if(this._isArrayBuffer(t.payload))return i(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return i(JSON.stringify(a))}_binaryEncodePush(t){var i,a;const{event:l,topic:o,payload:c}=t,f=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",p=this.META_LENGTH+d.length+f.length+o.length+l.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(m),v=0;g.setUint8(v++,this.KINDS.push),g.setUint8(v++,d.length),g.setUint8(v++,f.length),g.setUint8(v++,o.length),g.setUint8(v++,l.length),Array.from(d,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(f,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(l,w=>g.setUint8(v++,w.charCodeAt(0)));var x=new Uint8Array(m.byteLength+c.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(c),m.byteLength),x.buffer}_binaryEncodeUserBroadcastPush(t){var i;return this._isArrayBuffer((i=t.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var i,a,l,o;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",p=t.payload.event,m=(o=(l=t.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),g=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+f.length+c.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(v),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,d.length),x.setUint8(w++,f.length),x.setUint8(w++,c.length),x.setUint8(w++,p.length),x.setUint8(w++,this.BINARY_ENCODING),Array.from(d,E=>x.setUint8(w++,E.charCodeAt(0))),Array.from(f,E=>x.setUint8(w++,E.charCodeAt(0))),Array.from(c,E=>x.setUint8(w++,E.charCodeAt(0))),Array.from(p,E=>x.setUint8(w++,E.charCodeAt(0)));var S=new Uint8Array(v.byteLength+m.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(m),v.byteLength),S.buffer}_encodeJsonUserBroadcastPush(t){var i,a,l,o;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",p=t.payload.event,m=(o=(l=t.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:{},v=new TextEncoder().encode(JSON.stringify(m)).buffer,x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+f.length+c.length+p.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(w),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,f.length),S.setUint8(E++,c.length),S.setUint8(E++,p.length),S.setUint8(E++,this.JSON_ENCODING),Array.from(d,z=>S.setUint8(E++,z.charCodeAt(0))),Array.from(f,z=>S.setUint8(E++,z.charCodeAt(0))),Array.from(c,z=>S.setUint8(E++,z.charCodeAt(0))),Array.from(p,z=>S.setUint8(E++,z.charCodeAt(0)));var j=new Uint8Array(w.byteLength+v.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(v),w.byteLength),j.buffer}decode(t,i){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return i(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,o,c,f,d]=a;return i({join_ref:l,ref:o,topic:c,event:f,payload:d})}return i({})}_binaryDecode(t){const i=new DataView(t),a=i.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,i,l);case this.KINDS.reply:return this._decodeReply(t,i,l);case this.KINDS.broadcast:return this._decodeBroadcast(t,i,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,i,l)}}_decodePush(t,i,a){const l=i.getUint8(1),o=i.getUint8(2),c=i.getUint8(3);let f=this.HEADER_LENGTH+this.META_LENGTH-1;const d=a.decode(t.slice(f,f+l));f=f+l;const p=a.decode(t.slice(f,f+o));f=f+o;const m=a.decode(t.slice(f,f+c));f=f+c;const g=JSON.parse(a.decode(t.slice(f,t.byteLength)));return{join_ref:d,ref:null,topic:p,event:m,payload:g}}_decodeReply(t,i,a){const l=i.getUint8(1),o=i.getUint8(2),c=i.getUint8(3),f=i.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const p=a.decode(t.slice(d,d+l));d=d+l;const m=a.decode(t.slice(d,d+o));d=d+o;const g=a.decode(t.slice(d,d+c));d=d+c;const v=a.decode(t.slice(d,d+f));d=d+f;const x=JSON.parse(a.decode(t.slice(d,t.byteLength))),w={status:v,response:x};return{join_ref:p,ref:m,topic:g,event:Dn.reply,payload:w}}_decodeBroadcast(t,i,a){const l=i.getUint8(1),o=i.getUint8(2);let c=this.HEADER_LENGTH+2;const f=a.decode(t.slice(c,c+l));c=c+l;const d=a.decode(t.slice(c,c+o));c=c+o;const p=JSON.parse(a.decode(t.slice(c,t.byteLength)));return{join_ref:null,ref:null,topic:f,event:d,payload:p}}_decodeUserBroadcast(t,i,a){const l=i.getUint8(1),o=i.getUint8(2),c=i.getUint8(3),f=i.getUint8(4);let d=this.HEADER_LENGTH+4;const p=a.decode(t.slice(d,d+l));d=d+l;const m=a.decode(t.slice(d,d+o));d=d+o;const g=a.decode(t.slice(d,d+c));d=d+c;const v=t.slice(d,t.byteLength),x=f===this.JSON_ENCODING?JSON.parse(a.decode(v)):v,w={type:this.BROADCAST,event:m,payload:x};return c>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:w}}_isArrayBuffer(t){var i;return t instanceof ArrayBuffer||((i=t?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class _v{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(nt||(nt={}));const xy=(n,t,i={})=>{var a;const l=(a=i.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((o,c)=>(o[c]=W_(c,n,t,l),o),{}):{}},W_=(n,t,i,a)=>{const l=t.find(f=>f.name===n),o=l?.type,c=i[n];return o&&!a.includes(o)?Sv(o,c):Wf(c)},Sv=(n,t)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return rS(t,i)}switch(n){case nt.bool:return eS(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return tS(t);case nt.json:case nt.jsonb:return nS(t);case nt.timestamp:return iS(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Wf(t);default:return Wf(t)}},Wf=n=>n,eS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},tS=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},nS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},rS=(n,t)=>{if(typeof n!="string")return n;const i=n.length-1,a=n[i];if(n[0]==="{"&&a==="}"){let o;const c=n.slice(1,i);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>Sv(t,f))}return n},iS=n=>typeof n=="string"?n.replace(" ","T"):n,Ev=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bf{constructor(t,i,a={},l=Jf){this.channel=t,this.event=i,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var a;return this._hasReceived(t)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wy;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(wy||(wy={}));class Ls{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,l,o,c),this.pendingDiffs.forEach(d=>{this.state=Ls.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ls.syncDiff(this.state,l,o,c),f())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,a,l){const o=this.cloneDeep(t),c=this.transformState(i),f={},d={};return this.map(o,(p,m)=>{c[p]||(d[p]=m)}),this.map(c,(p,m)=>{const g=o[p];if(g){const v=m.map(E=>E.presence_ref),x=g.map(E=>E.presence_ref),w=m.filter(E=>x.indexOf(E.presence_ref)<0),S=g.filter(E=>v.indexOf(E.presence_ref)<0);w.length>0&&(f[p]=w),S.length>0&&(d[p]=S)}else f[p]=m}),this.syncDiff(o,{joins:f,leaves:d},a,l)}static syncDiff(t,i,a,l){const{joins:o,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(o,(f,d)=>{var p;const m=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(d),m.length>0){const g=t[f].map(x=>x.presence_ref),v=m.filter(x=>g.indexOf(x.presence_ref)<0);t[f].unshift(...v)}a(f,m,d)}),this.map(c,(f,d)=>{let p=t[f];if(!p)return;const m=d.map(g=>g.presence_ref);p=p.filter(g=>m.indexOf(g.presence_ref)<0),t[f]=p,l(f,p,d),p.length===0&&delete t[f]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(a=>i(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,a)=>{const l=t[a];return"metas"in l?i[a]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[a]=l,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _y;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(_y||(_y={}));var Ms;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ms||(Ms={}));var Er;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class Td{constructor(t,i={config:{}},a){var l,o;if(this.topic=t,this.params=i,this.socket=a,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new bf(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new _v(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Ls(this),this.broadcastEndpointURL=Ev(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var a,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:c,presence:f,private:d}}=this.params,p=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[Ms.PRESENCE]&&this.bindings[Ms.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Er.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t?.(Er.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(w=S?.length)!==null&&w!==void 0?w:0,j=[];for(let z=0;z<E;z++){const N=S[z],{filter:{event:M,schema:$,table:T,filter:H}}=N,C=x&&x[z];if(C&&C.event===M&&C.schema===$&&C.table===T&&C.filter===H)j.push(Object.assign(Object.assign({},N),{id:C.id}));else{this.unsubscribe(),this.state=Ut.errored,t?.(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Er.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ut.errored,t?.(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,a){return this.state===Ut.joined&&t===Ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,i,a)}async httpSend(t,i,a={}){var l;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let d=f.statusText;try{const p=await f.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(t,i={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,d;const p=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ut.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new bf(this,Dn.leave,{},t),a.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ut.closed,this.bindings={}}async _fetchWithTimeout(t,i,a){const l=new AbortController,o=setTimeout(()=>l.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(o),c}_push(t,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new bf(this,t,i,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>J_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,a){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,a){var l,o;const c=t.toLocaleLowerCase(),{close:f,error:d,leave:p,join:m}=Dn;if(a&&[f,d,p,m].indexOf(c)>=0&&a!==this._joinRef())return;let v=this._onMessage(c,i,a);if(i&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(x=>{var w,S,E;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(S=x.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(x=>x.callback(v,a)):(o=this.bindings[c])===null||o===void 0||o.filter(x=>{var w,S,E,j,z,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const M=x.id,$=(w=x.filter)===null||w===void 0?void 0:w.event;return M&&((S=i.ids)===null||S===void 0?void 0:S.includes(M))&&($==="*"||$?.toLocaleLowerCase()===((E=i.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const M=(z=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return M==="*"||M===((N=i?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:E,commit_timestamp:j,type:z,errors:N}=w;v=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:j,eventType:z,new:{},old:{},errors:N}),this._getPayloadRecords(w))}x.callback(v,a)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,a){const l=t.toLocaleLowerCase(),o={type:l,filter:i,callback:a};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,i){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&Td.isEqual(l.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const a in t)if(t[a]!==i[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dn.close,{},t)}_onError(t){this._on(Dn.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=xy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=xy(t.columns,t.old_record)),i}}const xf=()=>{},xo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aS=[1e3,2e3,5e3,1e4],sS=1e4,lS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oS{constructor(t,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jf,this.transport=null,this.heartbeatIntervalMs=xo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xf,this.ref=0,this.reconnectTimer=null,this.vsn=by,this.logger=xf,this.conn=null,this.sendBuffer=[],this.serializer=new Z_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((a=i?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${Zf.websocket}`,this.httpEndpoint=Ev(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=G_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,a){this.logger(t,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Si.connecting:return Ei.Connecting;case Si.open:return Ei.Open;case Si.closing:return Ei.Closing;default:return Ei.Closed}}isConnected(){return this.connectionState()===Ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===a);if(l)return l;{const o=new Td(`realtime:${t}`,i,this);return this.channels.push(o),o}}push(t){const{topic:i,event:a,payload:l,ref:o}=t,c=()=>{this.encode(t,f=>{var d;(d=this.conn)===null||d===void 0||d.send(f)})};this.log("push",`${i} ${a} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(X_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},xo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:o,ref:c}=i,f=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${a} ${l} ${f}`.trim(),o),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,o,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Si.open||this.conn.readyState===Si.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dn.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${t}${a}${l}`}_workerObjectUrl(t){let i;if(t)i=t;else{const a=new Blob([lS],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i;t?i=t:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(a=>{const l={access_token:i,version:K_};i&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Dn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(i)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new _v(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,a,l,o,c,f,d,p,m,g,v,x;switch(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Jf,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:xo.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:xf,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:by,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>aS[w-1]||sS),this.vsn){case wv:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,S)=>S(JSON.stringify(w))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((w,S)=>S(JSON.parse(w)));break;case Q_:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Nd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function mt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class uS extends Nd{constructor(t,i,a){super(t),this.name="StorageApiError",this.status=i,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ed extends Nd{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}}const Cd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),cS=()=>Response,td=n=>{if(Array.isArray(n))return n.map(i=>td(i));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([i,a])=>{const l=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=td(a)}),t},fS=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wf=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},dS=(n,t,i)=>be(void 0,void 0,void 0,function*(){const a=yield cS();n instanceof a&&!i?.noResolveJson?n.json().then(l=>{const o=n.status||500,c=l?.statusCode||o+"";t(new uS(wf(l),o,c))}).catch(l=>{t(new ed(wf(l),l))}):t(new ed(wf(n),n))}),hS=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||!a?l:(fS(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),i))};function Qs(n,t,i,a,l,o){return be(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(i,hS(t,a,l,o)).then(d=>{if(!d.ok)throw d;return a?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>dS(d,f,a))})})}function Hs(n,t,i,a){return be(this,void 0,void 0,function*(){return Qs(n,"GET",t,i,a)})}function Gn(n,t,i,a,l){return be(this,void 0,void 0,function*(){return Qs(n,"POST",t,a,l,i)})}function nd(n,t,i,a,l){return be(this,void 0,void 0,function*(){return Qs(n,"PUT",t,a,l,i)})}function mS(n,t,i,a){return be(this,void 0,void 0,function*(){return Qs(n,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),a)})}function Rd(n,t,i,a,l){return be(this,void 0,void 0,function*(){return Qs(n,"DELETE",t,a,l,i)})}class pS{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i}then(t,i){return this.execute().then(t,i)}execute(){return be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}var jv;class gS{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i,this[jv]="BlobDownloadBuilder",this.promise=null}asStream(){return new pS(this.downloadFn,this.shouldThrowOnError)}then(t,i){return this.getPromise().then(t,i)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(mt(t))return{data:null,error:t};throw t}})}}jv=Symbol.toStringTag;const yS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vS{constructor(t,i={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=i,this.bucketId=a,this.fetch=Cd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,i,a,l){return be(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Sy),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=a,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,d&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const p=this._removeEmptyFolders(i),m=this._getFinalPath(p),g=yield(t=="PUT"?nd:Gn)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}upload(t,i,a){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,a)})}uploadToSignedUrl(t,i,a,l){return be(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",i);try{let d;const p=Object.assign({upsert:Sy.upsert},l),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",p.cacheControl)):(d=a,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const g=yield nd(this.fetch,f.toString(),d,{headers:m});return{data:{path:o,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(mt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,i){return be(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);i?.upsert&&(l["x-upsert"]="true");const o=yield Gn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new Nd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}update(t,i,a){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,a)})}move(t,i,a){return be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}copy(t,i,a){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}createSignedUrl(t,i,a){return be(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),o=yield Gn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}createSignedUrls(t,i,a){return be(this,void 0,void 0,function*(){try{const l=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),o=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}download(t,i){const l=typeof i?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(i?.transform||{}),c=o?`?${o}`:"",f=this._getFinalPath(t),d=()=>Hs(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new gS(d,this.shouldThrowOnError)}info(t){return be(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{const a=yield Hs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:td(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}exists(t){return be(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{return yield mS(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a)&&a instanceof ed){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,i){const a=this._getFinalPath(t),l=[],o=i?.download?`download=${i.download===!0?"":i.download}`:"";o!==""&&l.push(o);const f=typeof i?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(i?.transform||{});d!==""&&l.push(d);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${p}`)}}}remove(t){return be(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}list(t,i,a){return be(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},yS),i),{prefix:t||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}listV2(t,i){return be(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Gn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}}const kv="2.83.0",Av={"X-Client-Info":`storage-js/${kv}`};class bS{constructor(t,i={},a,l){this.shouldThrowOnError=!1;const o=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Av),i),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return be(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(t);return{data:yield Hs(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}getBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}createBucket(t){return be(this,arguments,void 0,function*(i,a={public:!1}){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(mt(l))return{data:null,error:l};throw l}})}updateBucket(t,i){return be(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}deleteBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(t){const i={};return t&&("limit"in t&&(i.limit=String(t.limit)),"offset"in t&&(i.offset=String(t.offset)),t.search&&(i.search=t.search),t.sortColumn&&(i.sortColumn=t.sortColumn),t.sortOrder&&(i.sortOrder=t.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class xS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Av),i),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}listBuckets(t){return be(this,void 0,void 0,function*(){try{const i=new URLSearchParams;t?.limit!==void 0&&i.set("limit",t.limit.toString()),t?.offset!==void 0&&i.set("offset",t.offset.toString()),t?.sortColumn&&i.set("sortColumn",t.sortColumn),t?.sortOrder&&i.set("sortOrder",t.sortOrder),t?.search&&i.set("search",t.search);const a=i.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Hs(this.fetch,l,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}deleteBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mt(i))return{data:null,error:i};throw i}})}}const Od={"X-Client-Info":`storage-js/${kv}`,"Content-Type":"application/json"};class Tv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class _f extends Tv{constructor(t,i,a){super(t),this.name="StorageVectorsApiError",this.status=i,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wS extends Tv{constructor(t,i){super(t),this.name="StorageVectorsUnknownError",this.originalError=i}}var Ey;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ey||(Ey={}));const Ud=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),_S=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},jy=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SS=(n,t,i)=>be(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const l=n.status||500,o=n;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||l+"";t(new _f(jy(c),l,f))}).catch(()=>{const c=l+"",f=o.statusText||`HTTP ${l} error`;t(new _f(f,l,c))});else{const c=l+"",f=o.statusText||`HTTP ${l} error`;t(new _f(f,l,c))}}else t(new wS(jy(n),n))}),ES=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return a?(_S(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),i)):l};function jS(n,t,i,a,l,o){return be(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(i,ES(t,a,l,o)).then(d=>{if(!d.ok)throw d;if(a?.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>SS(d,f,a))})})}function wn(n,t,i,a,l){return be(this,void 0,void 0,function*(){return jS(n,"POST",t,a,l,i)})}class kS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Od),i),this.fetch=Ud(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return be(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}getIndex(t,i){return be(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:i},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}listIndexes(t){return be(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}deleteIndex(t,i){return be(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:i},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}}class AS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Od),i),this.fetch=Ud(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}getVectors(t){return be(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}listVectors(t){return be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield wn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}queryVectors(t){return be(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}deleteVectors(t){return be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}}class TS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Od),i),this.fetch=Ud(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return be(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}getBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}listBuckets(){return be(this,arguments,void 0,function*(t={}){try{return{data:yield wn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}deleteBucket(t){return be(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}}class NS extends TS{constructor(t,i={}){super(t,i.headers||{},i.fetch)}from(t){return new CS(this.url,this.headers,t,this.fetch)}}class CS extends kS{constructor(t,i,a,l){super(t,i,l),this.vectorBucketName=a}createIndex(t){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return be(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return be(this,arguments,void 0,function*(i={}){return t.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return be(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return be(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new RS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class RS extends AS{constructor(t,i,a,l,o){super(t,i,o),this.vectorBucketName=a,this.indexName=l}putVectors(t){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return be(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return be(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return be(this,arguments,void 0,function*(i={}){return t.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return be(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return be(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class OS extends bS{constructor(t,i={},a,l){super(t,i,a,l)}from(t){return new vS(this.url,this.headers,t,this.fetch)}get vectors(){return new NS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xS(this.url+"/iceberg",this.headers,this.fetch)}}const US="2.83.0";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const DS={"X-Client-Info":`supabase-js-${zs}/${US}`},zS={headers:DS},LS={schema:"public"},MS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BS={},IS=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),qS=()=>Headers,PS=(n,t,i)=>{const a=IS(i),l=qS();return async(o,c)=>{var f;const d=(f=await t())!==null&&f!==void 0?f:n;let p=new l(c?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),a(o,Object.assign(Object.assign({},c),{headers:p}))}};function HS(n){return n.endsWith("/")?n:n+"/"}function $S(n,t){var i,a;const{db:l,auth:o,realtime:c,global:f}=n,{db:d,auth:p,realtime:m,global:g}=t,v={db:Object.assign(Object.assign({},d),l),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),f),{headers:Object.assign(Object.assign({},(i=g?.headers)!==null&&i!==void 0?i:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function FS(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nv="2.83.0",Sa=30*1e3,rd=3,Sf=rd*Sa,VS="http://localhost:9999",GS="supabase.auth.token",YS={"X-Client-Info":`gotrue-js/${Nv}`},id="X-Supabase-Api-Version",Cv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QS=600*1e3;class $s extends Error{constructor(t,i,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function xe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class XS extends $s{constructor(t,i,a){super(t,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function JS(n){return xe(n)&&n.name==="AuthApiError"}class ji extends $s{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class ti extends $s{constructor(t,i,a,l){super(t,a,l),this.name=i,this.status=a}}class vn extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZS(n){return xe(n)&&n.name==="AuthSessionMissingError"}class ma extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _o extends ti{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WS(n){return xe(n)&&n.name==="AuthImplicitGrantRedirectError"}class ky extends ti{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ad extends ti{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function Ef(n){return xe(n)&&n.name==="AuthRetryableFetchError"}class Ay extends ti{constructor(t,i,a){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class sd extends ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ty=` 	
\r=`.split(""),e2=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Ty.length;t+=1)n[Ty[t].charCodeAt(0)]=-2;for(let t=0;t<zo.length;t+=1)n[zo[t].charCodeAt(0)]=t;return n})();function Ny(n,t,i){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(zo[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(zo[a]),t.queuedBits-=6}}function Rv(n,t,i){const a=e2[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Cy(n){const t=[],i=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{r2(c,a,i)};for(let c=0;c<n.length;c+=1)Rv(n.charCodeAt(c),l,o);return t.join("")}function t2(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function n2(n,t){for(let i=0;i<n.length;i+=1){let a=n.charCodeAt(i);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}t2(a,t)}}function r2(n,t,i){if(t.utf8seq===0){if(n<=127){i(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function ka(n){const t=[],i={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)Rv(n.charCodeAt(l),i,a);return new Uint8Array(t)}function i2(n){const t=[];return n2(n,i=>t.push(i)),new Uint8Array(t)}function ki(n){const t=[],i={queue:0,queuedBits:0},a=l=>{t.push(l)};return n.forEach(l=>Ny(l,i,a)),Ny(null,i,a),t.join("")}function a2(n){return Math.round(Date.now()/1e3)+n}function s2(){return Symbol("auth-callback")}const $t=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},Ov=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function l2(n){const t={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return i.searchParams.forEach((a,l)=>{t[l]=a}),t}const Uv=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),o2=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ea=async(n,t,i)=>{await n.setItem(t,JSON.stringify(i))},wi=async(n,t)=>{const i=await n.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Zr=async(n,t)=>{await n.removeItem(t)};class Ko{constructor(){this.promise=new Ko.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}Ko.promiseConstructor=Promise;function jf(n){const t=n.split(".");if(t.length!==3)throw new sd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!KS.test(t[a]))throw new sd("JWT not in base64url format");return{header:JSON.parse(Cy(t[0])),payload:JSON.parse(Cy(t[1])),signature:ka(t[2]),raw:{header:t[0],payload:t[1]}}}async function u2(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function c2(n,t){return new Promise((a,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await n(o);if(!t(o,null,c)){a(c);return}}catch(c){if(!t(o,c)){l(c);return}}})()})}function f2(n){return("0"+n.toString(16)).substr(-2)}function d2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let l="";for(let o=0;o<56;o++)l+=i.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,f2).join("")}async function h2(n){const i=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(a);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function m2(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await h2(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pa(n,t,i=!1){const a=d2();let l=a;i&&(l+="/PASSWORD_RECOVERY"),await Ea(n,`${t}-code-verifier`,l);const o=await m2(a);return[o,a===o?"plain":"s256"]}const p2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g2(n){const t=n.headers.get(id);if(!t||!t.match(p2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function y2(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function v2(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ga(n){if(!b2.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kf(){const n={};return new Proxy(n,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x2(n,t){return new Proxy(n,{get:(i,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(i,a,l)}})}function Ry(n){return JSON.parse(JSON.stringify(n))}const _i=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),w2=[502,503,504];async function Oy(n){var t;if(!o2(n))throw new ad(_i(n),0);if(w2.includes(n.status))throw new ad(_i(n),n.status);let i;try{i=await n.json()}catch(o){throw new ji(_i(o),o)}let a;const l=g2(n);if(l&&l.getTime()>=Cv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new Ay(_i(i),n.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new vn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Ay(_i(i),n.status,i.weak_password.reasons);throw new XS(_i(i),n.status||500,a)}const _2=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),i))};async function Se(n,t,i,a){var l;const o=Object.assign({},a?.headers);o[id]||(o[id]=Cv["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await S2(n,t,i+f,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(d):{data:Object.assign({},d),error:null}}async function S2(n,t,i,a,l,o){const c=_2(t,a,l,o);let f;try{f=await n(i,Object.assign({},c))}catch(d){throw console.error(d),new ad(_i(d),0)}if(f.ok||await Oy(f),a?.noResolveJson)return f;try{return await f.json()}catch(d){await Oy(d)}}function Fn(n){var t;let i=null;k2(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=a2(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:i,user:a},error:null}}function Uy(n){const t=Fn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function ei(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function E2(n){return{data:n,error:null}}function j2(n){const{action_link:t,email_otp:i,hashed_token:a,redirect_to:l,verification_type:o}=n,c=Ua(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:i,hashed_token:a,redirect_to:l,verification_type:o},d=Object.assign({},c);return{data:{properties:f,user:d},error:null}}function Dy(n){return n}function k2(n){return n.access_token&&n.refresh_token&&n.expires_in}const Af=["global","local","others"];class A2{constructor({url:t="",headers:i={},fetch:a}){this.url=t,this.headers=i,this.fetch=Uv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=Af[0]){if(Af.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Af.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,i={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ei})}catch(a){if(xe(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:i}=t,a=Ua(t,["options"]),l=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:j2,redirectTo:i?.redirectTo})}catch(i){if(xe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ei})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,a,l,o,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},m=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Dy});if(m.error)throw m.error;const g=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(xe(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ga(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ei})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){ga(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:ei})}catch(a){if(xe(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,i=!1){ga(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:ei})}catch(a){if(xe(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ga(t.userId);try{const{data:i,error:a}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:a}}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _deleteFactor(t){ga(t.userId),ga(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,a,l,o,c,f,d;try{const p={nextPage:null,lastPage:0,total:0},m=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Dy});if(m.error)throw m.error;const g=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(xe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(t,i){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(xe(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(xe(i))return{data:null,error:i};throw i}}}function zy(n={}){return{getItem:t=>n[t]||null,setItem:(t,i)=>{n[t]=i},removeItem:t=>{delete n[t]}}}const ya={debug:!!(globalThis&&Ov()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class T2 extends Dv{}async function N2(n,t,i){ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ya.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await i()}finally{ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new T2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ya.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function C2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function R2(n){return parseInt(n,16)}function O2(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function U2(n){var t;const{chainId:i,domain:a,expirationTime:l,issuedAt:o=new Date,nonce:c,notBefore:f,requestId:d,resources:p,scheme:m,uri:g,version:v}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=zv(n.address),w=m?`${m}://${a}`:a,S=n.statement?`${n.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${x}

${S}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(l&&(j+=`
Expiration Time: ${l.toISOString()}`),f&&(j+=`
Not Before: ${f.toISOString()}`),d&&(j+=`
Request ID: ${d}`),p){let z=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);z+=`
- ${N}`}j+=z}return`${E}
${j}`}class Rt extends Error{constructor({message:t,code:i,cause:a,name:l}){var o;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=l??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=i}}class Lo extends Rt{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function D2({error:n,options:t}){var i,a,l;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Lv(c)){if(o.rp.id!==c)return new Rt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function z2({error:n,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Lv(a)){if(i.rpId!==a)return new Rt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class L2{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const M2=new L2;function B2(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:i,excludeCredentials:a}=n,l=Ua(n,["challenge","user","excludeCredentials"]),o=ka(t).buffer,c=Object.assign(Object.assign({},i),{id:ka(i.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:o,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const p=a[d];f.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:ka(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function I2(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:i}=n,a=Ua(n,["challenge","allowCredentials"]),l=ka(t).buffer,o=Object.assign(Object.assign({},a),{challenge:l});if(i&&i.length>0){o.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];o.allowCredentials[c]=Object.assign(Object.assign({},f),{id:ka(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function q2(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:ki(new Uint8Array(n.response.attestationObject)),clientDataJSON:ki(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function P2(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ki(new Uint8Array(l.authenticatorData)),clientDataJSON:ki(new Uint8Array(l.clientDataJSON)),signature:ki(new Uint8Array(l.signature)),userHandle:l.userHandle?ki(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ly(){var n,t;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function H2(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:D2({error:t,options:n})}}}async function $2(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:z2({error:t,options:n})}}}const F2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mo(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const o in l){const c=l[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(i(c))a[o]=c;else if(t(c)){const f=a[o];t(f)?a[o]=Mo(f,c):a[o]=Mo(c)}else a[o]=c}return a}function G2(n,t){return Mo(F2,n,t||{})}function Y2(n,t){return Mo(V2,n,t||{})}class K2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:a,signal:l},o){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!c)return{data:null,error:f};const d=l??M2.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=G2(c.webauthn.credential_options.publicKey,o?.create),{data:m,error:g}=await H2({publicKey:p,signal:d});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const p=Y2(c.webauthn.credential_options.publicKey,o?.request),{data:m,error:g}=await $2(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:d}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new ji("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new $s("rpId is required for WebAuthn authentication")};try{if(!Ly())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:a},signal:l},{request:o});if(!c)return{data:null,error:f};const{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:i,rpOrigins:a,credential_response:d.credential_response}})}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new ji("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new $s("rpId is required for WebAuthn registration")};try{if(!Ly())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:f};const{data:d,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:l},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:i,rpOrigins:a,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(c){return xe(c)?{data:null,error:c}:{data:null,error:new ji("Unexpected error in register",c)}}}}C2();const Q2={url:VS,storageKey:GS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function My(n,t,i){return await i()}const va={};class Fs{get jwks(){var t,i;return(i=(t=va[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=va[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{cachedAt:t})}constructor(t){var i,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Q2),t);if(this.storageKey=o.storageKey,this.instanceID=(i=Fs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&$t()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new A2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Uv(o.fetch),this.lock=o.lock||My,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:$t()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=N2:this.lock=My,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new K2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ov()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=zy(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let i={},a="none";if($t()&&(i=l2(window.location.href),this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce")),$t()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:o}=await this._getSessionFromURL(i,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),WS(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return xe(i)?this._returnResult({error:i}):this._returnResult({error:new ji("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,a,l;try{const o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Fn}),{data:c,error:f}=o;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var i,a,l;try{let o;if("email"in t){const{email:m,password:g,options:v}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await pa(this.storage,this.storageKey)),o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(i=v?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Fn})}else if("phone"in t){const{phone:m,password:g,options:v}=t;o=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(a=v?.data)!==null&&a!==void 0?a:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Fn})}else throw new wo("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const d=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let i;if("email"in t){const{email:o,password:c,options:f}=t;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Uy})}else if("phone"in t){const{phone:o,password:c,options:f}=t;i=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Uy})}else throw new wo("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const o=new ma;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(t){var i,a,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,a,l,o,c,f,d,p,m,g,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:S,wallet:E,statement:j,options:z}=t;let N;if($t())if(typeof E=="object")N=E;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")N=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const M=new URL((i=z?.url)!==null&&i!==void 0?i:window.location.href),$=await N.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=zv($[0]);let H=(a=z?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!H){const D=await N.request({method:"eth_chainId"});H=R2(D)}const C={domain:M.host,address:T,statement:j,uri:M.href,version:"1",chainId:H,nonce:(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=z?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(d=z?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=U2(C),w=await N.request({method:"personal_sign",params:[O2(x),T]})}try{const{data:S,error:E}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fn});if(E)throw E;if(!S||!S.session||!S.user){const j=new ma;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(xe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var i,a,l,o,c,f,d,p,m,g,v,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:E,wallet:j,statement:z,options:N}=t;let M;if($t())if(typeof j=="object")M=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))M=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const $=new URL((i=N?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in M&&M.signIn){const T=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),z?{statement:z}:null));let H;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")H=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)H=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)w=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),S=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(l=(a=N?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(m=N?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const T=await M.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=T}}try{const{data:E,error:j}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ki(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Fn});if(j)throw j;if(!E||!E.session||!E.user){const z=new ma;return this._returnResult({data:{user:null,session:null},error:z})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(xe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const i=await wi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(i??"").split("/");try{const{data:o,error:c}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Fn});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const f=new ma;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:i,provider:a,token:l,access_token:o,nonce:c}=t,f=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Fn}),{data:d,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const m=new ma;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(t){var i,a,l,o,c;try{if("email"in t){const{email:f,options:d}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await pa(this.storage,this.storageKey));const{error:g}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:f,options:d}=t,{data:p,error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=d?.data)!==null&&l!==void 0?l:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:m})}throw new wo("You must provide either an email or phone number.")}catch(f){if(xe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var i,a;try{let l,o;"options"in t&&(l=(i=t.options)===null||i===void 0?void 0:i.redirectTo,o=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Fn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,p=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(l){if(xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var i,a,l,o,c;try{let f=null,d=null;this.flowType==="pkce"&&([f,d]=await pa(this.storage,this.storageKey));const p=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:d}),headers:this.headers,xform:E2});return!((o=p.data)===null||o===void 0)&&o.url&&$t()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(xe(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;if(a)throw a;if(!i)throw new vn;const{error:l}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:o}=t,{error:c}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:l,options:o}=t,{data:c,error:f}=await Se(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new wo("You must provide either an email or phone number and a type")}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Sf:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await wi(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=kf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=x2(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ei}):await this._useSession(async i=>{var a,l,o;const{data:c,error:f}=i;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:ei})})}catch(i){if(xe(i))return ZS(i)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async a=>{const{data:l,error:o}=a;if(o)throw o;if(!l.session)throw new vn;const c=l.session;let f=null,d=null;this.flowType==="pkce"&&t.email!=null&&([f,d]=await pa(this.storage,this.storageKey));const{data:p,error:m}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:d}),jwt:c.access_token,xform:ei});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(xe(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vn;const i=Date.now()/1e3;let a=i,l=!0,o=null;const{payload:c}=jf(t.access_token);if(c.exp&&(a=c.exp,l=a<=i),l){const{data:f,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(i){if(xe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var a;if(!t){const{data:c,error:f}=i;if(f)throw f;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new vn;const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(t,i){try{if(!$t())throw new _o("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _o(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new ky("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _o("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ky("No code detected.");const{data:z,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:f,expires_at:d,token_type:p}=t;if(!o||!f||!c||!p)throw new _o("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(f);let v=m+g;d&&(v=parseInt(d));const x=v-m;x*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const w=v-g;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,m);const{data:S,error:E}=await this._getUser(o);if(E)throw E;const j={provider_token:a,provider_refresh_token:l,access_token:o,expires_in:g,expires_at:v,refresh_token:c,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(a){if(xe(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({error:o});const c=(a=l.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(JS(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const i=s2(),a={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async i=>{var a,l;try{const{data:{session:o},error:c}=i;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,i={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await pa(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(o){if(xe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:a,error:l}=await this._useSession(async o=>{var c,f,d,p,m;const{data:g,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return $t()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(xe(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var a;try{const{error:l,data:{session:o}}=i;if(l)throw l;const{options:c,provider:f,token:d,access_token:p,nonce:m}=t,g=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:d,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Fn}),{data:v,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ma}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(l){if(xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var a,l;const{data:o,error:c}=i;if(c)throw c;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await c2(async l=>(l>0&&await u2(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fn})),(l,o)=>{const c=200*Math.pow(2,l);return o&&Ef(o)&&Date.now()+c-a<Sa})}catch(a){if(this._debug(i,"error",a),xe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",a),$t()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await wi(this.storage,this.storageKey);if(l&&this.userStorage){let c=await wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Ea(this.userStorage,this.storageKey+"-user",c)),l.user=(t=c?.user)!==null&&t!==void 0?t:kf()}else if(l&&!l.user&&!l.user){const c=await wi(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await Zr(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,l)):l.user=kf()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const o=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Sf;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Sf}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),Ef(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var i,a;if(!t)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ko;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new vn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={data:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),xe(o)){const c={data:null,error:o};return Ef(o)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,i,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:i});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,i)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const i=Object.assign({},t),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const o=Ry(l);await Ea(this.storage,this.storageKey,o)}else{const l=Ry(i);await Ea(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sa}ms, refresh threshold is ${rd} ticks`),l<=rd&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await pa(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);l.push(o.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;return o?this._returnResult({data:null,error:o}):await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(t){try{return await this._useSession(async i=>{var a,l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:p}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&d.type==="totp"&&(!((l=d?.totp)===null||l===void 0)&&l.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?q2(t.webauthn.credential_response):P2(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:d}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:d}))})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const c=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:B2(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:I2(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(t){const{data:i,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=i?.factors)!==null&&t!==void 0?t:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,i;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jf(a.access_token);let c=null;o.aal&&(c=o.aal);let f=c;((i=(t=a.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const p=o.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new vn})})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new vn});const c=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&$t()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(xe(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new vn});const c=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&$t()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(xe(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new vn})})}catch(t){if(xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new vn})})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(t,i={keys:[]}){let a=i.keys.find(f=>f.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+QS>l)return a;const{data:o,error:c}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,a=o.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,i={}){try{let a=t;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:l,payload:o,signature:c,raw:{header:f,payload:d}}=jf(a);i?.allowExpired||y2(o.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:o,header:l,signature:c},error:null}}const m=v2(l.alg),g=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,i2(`${f}.${d}`)))throw new sd("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(a){if(xe(a))return this._returnResult({data:null,error:a});throw a}}}Fs.nextInstanceID={};const X2=Fs;class J2 extends X2{constructor(t){super(t)}}class Z2{constructor(t,i,a){var l,o,c;this.supabaseUrl=t,this.supabaseKey=i;const f=FS(t);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const d=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:LS,realtime:BS,auth:Object.assign(Object.assign({},MS),{storageKey:d}),global:zS},m=$S(a??{},p);this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=PS(i,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new V_(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new OS(this.storageUrl.href,this.headers,this.fetch,a?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new P_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,i,a)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,i;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(i=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:a,storage:l,userStorage:o,storageKey:c,flowType:f,lock:d,debug:p,throwOnError:m},g,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J2({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:c,autoRefreshToken:t,persistSession:i,detectSessionInUrl:a,storage:l,userStorage:o,flowType:f,lock:d,debug:p,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a?.access_token)})}_handleTokenChanged(t,i,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const W2=(n,t,i)=>new Z2(n,t,i);function eE(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tE="https://hnsnepnphitezzqdfnnv.supabase.co",nE="sb_publishable_CmZSVSk-y6DlBqYDS9ykPg_9_rjzg5a",he=W2(tE,nE),rE="/Tempero/assets/404-BBhLo5P6.png";function iE(){return b.jsx("footer",{className:"bg-secondary/5 mt-20",children:b.jsxs("div",{className:"max-w-6xl mx-auto py-10",children:[b.jsxs("div",{className:"text-center md:text-left flex flex-col sm:flex-row justify-between gap-10",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"font-heading-styled text-2xl text-secondary mb-2",children:"Tempero"}),b.jsx("p",{className:"font-body text-dark/70 text-sm max-w-xs text-center md:text-left mx-auto md:mx-0",children:"A community-driven platform to explore, share and enjoy delicious recipes."})]}),b.jsxs("div",{className:"flex gap-10 md:flex-row flex-col",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-heading text-main mb-2",children:"Explore"}),b.jsxs("ul",{className:"space-y-1 font-body text-sm text-dark/80",children:[b.jsx("li",{children:b.jsx(pt,{to:"/lists",className:"hover:text-main",children:"Lists"})}),b.jsx("li",{children:b.jsx(pt,{to:"/search",className:"hover:text-main",children:"Recipes"})}),b.jsx("li",{children:b.jsx(pt,{to:"/favorites",className:"hover:text-main",children:"Favorites"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-heading text-main mb-2",children:"Support"}),b.jsxs("ul",{className:"space-y-1 font-body text-sm text-dark/80",children:[b.jsx("li",{children:b.jsx(pt,{to:"/faq",className:"hover:text-main",children:"FAQ"})}),b.jsx("li",{children:b.jsx(pt,{to:"/about",className:"hover:text-main",children:"About Us"})})]})]})]})]}),b.jsx("div",{className:"border-t border-dark/20 my-8"}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[b.jsxs("p",{className:"font-body text-dark/60 text-sm",children:[" ",new Date().getFullYear()," Tempero  Built with love by the Tempero Team"]}),b.jsx("div",{className:"flex gap-4 mt-3 sm:mt-0",children:b.jsx("a",{href:"mailto:support@tempero.com",className:"text-dark/60 hover:text-main font-body text-sm",children:"tempero@support.com"})})]})]})})}function aE(){const n=Mn(),t=on(),[i,a]=L.useState(null),[l,o]=L.useState(""),[c,f]=L.useState(!1),[d,p]=L.useState(0),[m,g]=L.useState(1),[v,x]=L.useState("New Cook");if(L.useEffect(()=>{let M=!0;(async()=>{try{const{data:T}=await he.auth.getUser();if(!M)return;a(T?.user??null)}catch{}})();const{data:$}=he.auth.onAuthStateChange((T,H)=>{a(H?.user??null)});return()=>{M=!1,$.subscription.unsubscribe()}},[]),L.useEffect(()=>{if(!i)return;(async()=>{const{data:T,error:H}=await he.from("profiles").select("xp, level, chef_type").eq("auth_id",i.id).single();H||!T||(p(T.xp||0),g(T.level||1),x(T.chef_type||"New Cook"))})();const $=he.channel(`profile-${i.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`auth_id=eq.${i.id}`},T=>{const H=T.new;p(H.xp||0),g(H.level||1),x(H.chef_type||"New Cook")}).subscribe();return()=>{he.removeChannel($)}},[i]),L.useEffect(()=>{if(!i)return;(async()=>{const{data:$,error:T}=await he.from("profiles").select("xp, level, chef_type").eq("auth_id",i.id).single();T||!$||(p($.xp||0),g($.level||1),x($.chef_type||"New Cook"))})()},[n.pathname,i]),n.pathname==="/register"||n.pathname==="/login"||n.pathname==="/skill-assessment")return null;const w=i?.user_metadata?.username??null,S=w?`/profile/${w}`:i?"/profile":"/login",E=w??(i?"Profile":"Guest"),j="text-dark scale-110 border-b-1 border-dark/50 border-bright";async function z(){try{await he.auth.signOut(),a(null)}catch(M){console.error("Sign out error:",M)}}function N(M){M.preventDefault(),t("/search"),f(!1)}return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 navbar text-bright text-lg max-[500px]:text-sm font-heading flex flex-row justify-between bg-main px-4 py-3 shadow-lg items-center",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("h1",{className:"logo",children:b.jsx(pt,{to:"/home/",children:b.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-15 max-[500px]:h-10 min-h-5 min-w-9 min"})})}),b.jsx("button",{onClick:()=>t("/search"),className:"hidden min-[700px]:block text-bright/70 hover:text-bright p-2",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:b.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),b.jsx("button",{onClick:()=>t("/search"),className:"min-[700px]:hidden text-bright/70 hover:text-bright p-2",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:b.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),i&&b.jsxs("div",{className:"flex-1 max-w-xs mx-4",children:[b.jsxs("div",{className:"text-sm text-bright font-heading mb-1",children:["Level ",m,"  ",v]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"flex-1 h-4 bg-bright/20 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-bright rounded-full transition-all duration-300",style:{width:`${Math.min(100,d%1e3/10)}%`}})}),b.jsx("span",{className:"text-sm text-bright font-heading whitespace-nowrap",children:d})]})]}),b.jsxs("ul",{className:"flex gap-6 mr-4 items-center",children:[b.jsx("li",{className:"hover:scale-110 hover:-translate-y-1 hover:opacity-70 duration-100",children:b.jsx(Oo,{to:"/lists",className:({isActive:M})=>`${M?j:""} px-1`,children:"Lists"})}),b.jsx("li",{className:"hover:scale-110 hover:-translate-y-1 hover:opacity-70 duration-100",children:b.jsx(Oo,{to:"/favorites",className:({isActive:M})=>`${M?j:""} px-1`,children:"Favorites"})}),b.jsxs("div",{className:"usersection max-[500px]:flex-col max-[500px]:text-xs bg-bright/10 p-2 rounded-md gap-2 flex font-heading  ",children:[!i&&b.jsx("li",{children:b.jsx(pt,{to:"/login",children:"Log in"})}),b.jsx("li",{className:"border border-bright/20 bg-bright/20 rounded-md px-2 py-1 hover:-translate-y-1 transition-transform duration-200 ease-in-out text-sm",children:b.jsx(pt,{to:S,children:E})}),i&&b.jsx("button",{onClick:z,className:"text-bright/70 cursor-pointer text-xs hover:text-bright","aria-label":"Sign out",children:b.jsx(pt,{to:"/login",className:"max-[500px]:text-3xs",children:"Log out"})})]})]})]}),b.jsx("div",{className:"h-16 md:h-20"}),c&&b.jsx("div",{className:"min-[700px]:hidden fixed left-0 right-0 top-22 z-40 mx-2 rounded-lg bg-main px-4 py-3 shadow-lg",children:b.jsxs("form",{onSubmit:N,className:"relative",children:[b.jsx("input",{type:"search",value:l,onChange:M=>o(M.target.value),placeholder:"Search recipes...",className:"w-full pl-10 rounded-lg bg-bright/10 px-4 py-2 text-sm text-bright placeholder-bright/50 outline-none focus:ring-2 focus:ring-bright/30 transition-all","aria-label":"Search recipes",autoFocus:!0}),b.jsx("button",{type:"submit",className:"absolute left-2 top-1/2 -translate-y-1/2 text-bright/70 hover:text-bright","aria-label":"Submit search",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})})]})}function By(){return b.jsxs("div",{className:"w-full bg-bright text-dark",children:[b.jsxs("section",{className:"relative mx-auto max-w-6xl px-6 pt-20 pb-28",children:[b.jsx("h1",{className:`
          absolute left-0 top-24 
          text-[110px] font-heading-styled 
          text-dark/5 select-none tracking-tight
        `,children:"ABOUT"}),b.jsxs("div",{className:"max-w-lg",children:[b.jsx("h2",{className:"text-4xl font-heading text-secondary",children:"About Tempero"}),b.jsx("p",{className:"mt-3 text-dark/60 font-body",children:"Tempero is your space to cook, create, and share recipes that matter."})]}),b.jsx("div",{className:"absolute right-0 top-10 hidden md:block ",children:b.jsx("img",{src:"https://images.unsplash.com/photo-1702234883240-fb86c8087f3c?q=80&w=1172&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Tempero display",className:"w-[450px] opacity-90 rounded-xl"})})]}),b.jsxs("section",{className:"mx-auto max-w-6xl px-6 pb-24 grid gap-16 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-10",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1506368249639-73a05d6f6488?w=1000&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cmVjaXBlfGVufDB8fDB8fHww",className:"rounded-xl shadow-xl w-full h-72 object-cover"}),b.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1664640733870-15cb6a5b6ee6?w=1000&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8dG9tYXRhZGElMjByZWNpcGV8ZW58MHx8MHx8fDA%3D",className:"rounded-xl shadow-xl w-full h-72 object-cover"})]}),b.jsxs("div",{className:"flex flex-col justify-center",children:[b.jsx("h3",{className:"text-xl font-heading text-secondary",children:"Sharing is Caring"}),b.jsx("p",{className:"mt-4 text-dark/70 leading-relaxed font-body",children:"At Tempero, we believe in the power of food, creativity, and community. Our mission is simple: help cooks of all levels share their passion, learn from others, and build meaningful culinary experiences."}),b.jsx("p",{className:"mt-4 text-dark/70 leading-relaxed font-body",children:"Whether you're creating your first recipe or crafting gourmet masterpieces, Tempero gives you the tools to express, discover, and inspire."})]})]}),b.jsx("section",{className:"mx-auto max-w-6xl px-6 pb-28",children:b.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1728412897938-d70e9c5becd7?q=80&w=1222&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"rounded-[40px] w-full h-[380px] object-cover shadow-lg"})})]})}function sE(){const[n,t]=L.useState([]),[i,a]=L.useState({}),[l,o]=L.useState(!1),c=on();function f(m){const g=[...m];for(let v=g.length-1;v>0;v--){const x=Math.floor(Math.random()*(v+1));[g[v],g[x]]=[g[x],g[v]]}return g}L.useEffect(()=>{const g=f([{id:"q1",question:"How often do you cook at home?",options:[{text:"Rarely  maybe once a week or less.",score:1},{text:"A few times a week.",score:2},{text:"Almost every day.",score:3},{text:"Every day  I cook most of my meals.",score:4},{text:"Every day, and I experiment or try new dishes often.",score:5}]},{id:"q2",question:"How would you describe your kitchen setup?",options:[{text:"Just the basics  one pan, a knife, and a stove.",score:1},{text:"A few extras like a blender or baking tray.",score:2},{text:"A solid setup  sharp knives, a scale, and good cookware.",score:3},{text:"Well-equipped  I have tools for most cooking techniques.",score:4},{text:"Professional-style  quality knives, thermometers, and specialized gear.",score:5}]},{id:"q3",question:"How easy is it for you to find cooking ingredients?",options:[{text:"I mostly rely on basic supermarket items.",score:1},{text:"I can find most common ingredients easily.",score:2},{text:"I sometimes hunt for specific ones but manage.",score:3},{text:"I can access a wide range of ingredients when needed.",score:4},{text:"I have easy access to almost anything  including specialty items.",score:5}]},{id:"q4",question:"When you read 'reduce by half', you...",options:[{text:"Have no idea what that means.",score:1},{text:"Let it simmer and guess when it looks less.",score:2},{text:"Watch until it thickens and volume drops noticeably.",score:3},{text:"Judge reduction by consistency and flavor concentration.",score:4},{text:"Track volume and viscosity precisely for predictable sauces.",score:5}]},{id:"q5",question:"You're cooking chicken breast  what's your approach?",options:[{text:"I just cook until the inside looks white.",score:1},{text:"I flip occasionally to avoid burning.",score:2},{text:"I use a thermometer or timing to avoid drying.",score:3},{text:"I rest it and consider carry-over heat.",score:4},{text:"I control temperature zones or sous-vide for perfect juiciness.",score:5}]},{id:"q6",question:"When browning onions for flavor, you...",options:[{text:"Turn up the heat to get it done faster.",score:1},{text:"Stir constantly until they're dark.",score:2},{text:"Cook medium-low and let them soften slowly.",score:3},{text:"Cook patiently for deep caramelization without burning.",score:4},{text:"Adjust fat, salt, and deglazing for layered sweetness and color.",score:5}]},{id:"q7",question:"You're seasoning soup. What's your process?",options:[{text:"I just follow the recipe's measurements.",score:1},{text:"I add salt at the end.",score:2},{text:"I taste as I go.",score:3},{text:"I season progressively in layers.",score:4},{text:"I balance seasoning, acidity, and fat instinctively.",score:5}]},{id:"q8",question:"When a recipe calls for 'tempering eggs,' you...",options:[{text:"Don't know what that means.",score:1},{text:"Just mix hot liquid and eggs together.",score:2},{text:"Add a little hot liquid slowly while whisking.",score:3},{text:"Gradually equalize temperature to avoid curdling.",score:4},{text:"Temper intuitively and use it for custards or sauces confidently.",score:5}]},{id:"q9",question:"When you hear 'umami', what comes to mind?",options:[{text:"Never heard of it.",score:1},{text:"Something about savory taste.",score:2},{text:"Foods like soy sauce or mushrooms.",score:3},{text:"Deep flavor from glutamates and slow cooking.",score:4},{text:"Layering natural umami sources for depth and balance.",score:5}]},{id:"q10",question:"How do you feel improvising without a recipe?",options:[{text:"I can't  I need exact steps.",score:1},{text:"I can tweak a bit but stay close.",score:2},{text:"I can swap ingredients I know well.",score:3},{text:"I cook mostly by feel and tasting.",score:4},{text:"I create dishes from concepts and memory.",score:5}]}]).map(v=>({...v,options:f(v.options)}));t(g)},[]);async function d(m){m.preventDefault(),o(!0);try{const g=Object.values(i).reduce((S,E)=>S+E,0),{data:{user:v}}=await he.auth.getUser();if(!v)throw new Error("Not authenticated");console.log("Answers:",i),console.log("Total XP calculated:",g),console.log("User ID:",v.id);const{data:x,error:w}=await he.from("profiles").update({xp:g*100}).eq("auth_id",v.id).select();if(console.log("Update result:",{data:x,error:w}),w)throw w;c("/")}catch(g){console.error("Assessment submission error:",g),alert(`Failed to save assessment: ${g instanceof Error?g.message:"Unknown error"}`)}finally{o(!1)}}async function p(){if(window.confirm("Are you sure you want to skip? Youll start as a beginner (level 1).")){o(!0);try{const{data:{user:g}}=await he.auth.getUser();if(!g)throw new Error("Not authenticated");const{error:v}=await he.from("profiles").update({xp:1e3}).eq("auth_id",g.id);if(v)throw v;c("/")}catch(g){console.error("Skip error:",g),alert(`Failed to skip assessment: ${g instanceof Error?g.message:"Unknown error"}`)}finally{o(!1)}}}return b.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center bg-fixed",children:[b.jsx("div",{className:"absolute inset-0 backdrop-blur-xs pointer-events-none"}),b.jsx("div",{className:"relative z-10 mx-auto max-w-2xl w-full px-4 py-16",children:b.jsxs("div",{className:"rounded-xl bg-bright/90 p-8 shadow-sm",children:[b.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Cooking Skill Assessment"}),b.jsx("p",{className:"mb-8 text-sm text-gray-600 text-center",children:"Answer a few questions to find your starting chef level "}),b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("button",{type:"button",onClick:p,disabled:l,className:"w-1/2 rounded-lg bg-gray-500 px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150",children:"Skip"})}),b.jsxs("form",{onSubmit:d,className:"space-y-8",children:[n.map((m,g)=>b.jsxs("div",{className:"space-y-3",children:[b.jsxs("h2",{className:"text-lg font-heading text-dark",children:[g+1,". ",m.question]}),b.jsx("div",{className:"space-y-2",children:m.options.map((v,x)=>b.jsxs("label",{className:"flex items-center gap-3 rounded-lg bg-amber-50 hover:bg-amber-100 border-none px-3 py-2 shadow-sm cursor-pointer transition-all duration-150",children:[b.jsx("input",{type:"radio",name:m.id,value:x+1,onChange:()=>a(w=>({...w,[m.id]:v.score})),className:"text-main focus:ring-main",required:!0}),b.jsx("span",{className:"text-sm text-dark font-body",children:v.text})]},x))})]},m.id)),b.jsx("div",{className:"mt-8 space-y-3",children:b.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150",children:l?"Calculating...":"Submit Assessment"})})]})]})})]})}function lE(){const n=on(),[t,i]=L.useState(""),[a,l]=L.useState(""),[o,c]=L.useState("PUBLIC"),[f,d]=L.useState(!1),[p,m]=L.useState(null);async function g(v){v.preventDefault(),m(null),d(!0);const{data:x}=await he.auth.getUser();if(!x?.user){m("You must be logged in."),d(!1);return}const{error:w}=await he.from("lists").insert({title:t,description:a,visibility:o,user_id:x.user.id});if(d(!1),w){m(w.message);return}n("/lists")}return b.jsx("main",{className:"min-h-screen bg-bright flex justify-center py-10 px-4",children:b.jsxs("section",{className:"w-full max-w-xl bg-white rounded-xl shadow-md border border-secondary/20 p-6",children:[b.jsx("h1",{className:"font-heading-styled text-3xl text-secondary mb-6",children:"Create a New Thematic List"}),b.jsxs("form",{onSubmit:g,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"font-heading text-dark",children:"Title"}),b.jsx("input",{type:"text",required:!0,value:t,onChange:v=>i(v.target.value),className:"mt-1 w-full border border-dark/20 rounded-lg px-3 py-2 font-body",placeholder:"Example: Portuguese Classics"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"font-heading text-dark",children:"Description"}),b.jsx("textarea",{required:!0,value:a,onChange:v=>l(v.target.value),className:"mt-1 w-full border border-dark/20 rounded-lg px-3 py-2 font-body h-28",placeholder:"Describe this list..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"font-heading text-dark",children:"Visibility"}),b.jsxs("div",{className:"mt-2 flex gap-5 font-body text-dark",children:[b.jsxs("label",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"radio",value:"PUBLIC",checked:o==="PUBLIC",onChange:()=>c("PUBLIC")}),"Public"]}),b.jsxs("label",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"radio",value:"PRIVATE",checked:o==="PRIVATE",onChange:()=>c("PRIVATE")}),"Private"]})]})]}),p&&b.jsx("p",{className:"text-red-600 text-sm",children:p}),b.jsx("button",{type:"submit",disabled:f,className:"w-full bg-main hover:bg-secondary text-bright font-heading-styled py-2.5 rounded-lg transition",children:f?"Creating...":"Create List"})]})]})})}const oE="/Tempero/assets/tempro-BrFq3l-U.png";function ar({message:n}){return b.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[b.jsx("div",{className:"relative",children:b.jsx("div",{className:"h-20 w-20 rounded-2xl border-4 border-[#e57f22]/30 flex items-center justify-center animate-spin-slow",children:b.jsx("div",{className:"h-14 w-14 rounded-xl bg-[#e57f22]/10 flex items-center justify-center",children:b.jsx("img",{src:oE,alt:"Tempero logo",className:"h-10 w-10 object-contain drop-shadow-sm"})})})}),b.jsx("p",{className:"mt-4 text-[#e57f22] font-semibold tracking-wide text-base",children:n||"Loading..."})]})}function uE(n,t){return t.forEach((function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach((function(a){if(a!=="default"&&!(a in n)){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}}))})),Object.freeze(n)}function Mv(n,t){return new Promise((function(i,a){let l;return cE(n).then((function(o){try{return l=o,i(new Blob([t.slice(0,2),l,t.slice(2)],{type:"image/jpeg"}))}catch(c){return a(c)}}),a)}))}const cE=n=>new Promise(((t,i)=>{const a=new FileReader;a.addEventListener("load",(({target:{result:l}})=>{const o=new DataView(l);let c=0;if(o.getUint16(c)!==65496)return i("not a valid JPEG");for(c+=2;;){const f=o.getUint16(c);if(f===65498)break;const d=o.getUint16(c+2);if(f===65505&&o.getUint32(c+4)===1165519206){const p=c+10;let m;switch(o.getUint16(p)){case 18761:m=!0;break;case 19789:m=!1;break;default:return i("TIFF header contains invalid endian")}if(o.getUint16(p+2,m)!==42)return i("TIFF header contains invalid version");const g=o.getUint32(p+4,m),v=p+g+2+12*o.getUint16(p+g,m);for(let x=p+g+2;x<v;x+=12)if(o.getUint16(x,m)==274){if(o.getUint16(x+2,m)!==3)return i("Orientation data type is invalid");if(o.getUint32(x+4,m)!==1)return i("Orientation data count is invalid");o.setUint16(x+8,1,m);break}return t(l.slice(c,c+2+d))}c+=2+d}return t(new Blob)})),a.readAsArrayBuffer(n)}));var Bo={},fE={get exports(){return Bo},set exports(n){Bo=n}};(function(n){var t,i,a={};fE.exports=a,a.parse=function(l,o){for(var c=a.bin.readUshort,f=a.bin.readUint,d=0,p={},m=new Uint8Array(l),g=m.length-4;f(m,g)!=101010256;)g--;d=g,d+=4;var v=c(m,d+=4);c(m,d+=2);var x=f(m,d+=2),w=f(m,d+=4);d+=4,d=w;for(var S=0;S<v;S++){f(m,d),d+=4,d+=4,d+=4,f(m,d+=4),x=f(m,d+=4);var E=f(m,d+=4),j=c(m,d+=4),z=c(m,d+2),N=c(m,d+4);d+=6;var M=f(m,d+=8);d+=4,d+=j+z+N,a._readLocal(m,M,p,x,E,o)}return p},a._readLocal=function(l,o,c,f,d,p){var m=a.bin.readUshort,g=a.bin.readUint;g(l,o),m(l,o+=4),m(l,o+=2);var v=m(l,o+=2);g(l,o+=2),g(l,o+=4),o+=4;var x=m(l,o+=8),w=m(l,o+=2);o+=2;var S=a.bin.readUTF8(l,o,x);if(o+=x,o+=w,p)c[S]={size:d,csize:f};else{var E=new Uint8Array(l.buffer,o);if(v==0)c[S]=new Uint8Array(E.buffer.slice(o,o+f));else{if(v!=8)throw"unknown compression method: "+v;var j=new Uint8Array(d);a.inflateRaw(E,j),c[S]=j}}},a.inflateRaw=function(l,o){return a.F.inflate(l,o)},a.inflate=function(l,o){return l[0],l[1],a.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),o)},a.deflate=function(l,o){o==null&&(o={level:6});var c=0,f=new Uint8Array(50+Math.floor(1.1*l.length));f[c]=120,f[c+1]=156,c+=2,c=a.F.deflateRaw(l,f,c,o.level);var d=a.adler(l,0,l.length);return f[c+0]=d>>>24&255,f[c+1]=d>>>16&255,f[c+2]=d>>>8&255,f[c+3]=d>>>0&255,new Uint8Array(f.buffer,0,c+4)},a.deflateRaw=function(l,o){o==null&&(o={level:6});var c=new Uint8Array(50+Math.floor(1.1*l.length)),f=a.F.deflateRaw(l,c,f,o.level);return new Uint8Array(c.buffer,0,f)},a.encode=function(l,o){o==null&&(o=!1);var c=0,f=a.bin.writeUint,d=a.bin.writeUshort,p={};for(var m in l){var g=!a._noNeed(m)&&!o,v=l[m],x=a.crc.crc(v,0,v.length);p[m]={cpr:g,usize:v.length,crc:x,file:g?a.deflateRaw(v):v}}for(var m in p)c+=p[m].file.length+30+46+2*a.bin.sizeUTF8(m);c+=22;var w=new Uint8Array(c),S=0,E=[];for(var m in p){var j=p[m];E.push(S),S=a._writeHeader(w,S,m,j,0)}var z=0,N=S;for(var m in p)j=p[m],E.push(S),S=a._writeHeader(w,S,m,j,1,E[z++]);var M=S-N;return f(w,S,101010256),S+=4,d(w,S+=4,z),d(w,S+=2,z),f(w,S+=2,M),f(w,S+=4,N),S+=4,S+=2,w.buffer},a._noNeed=function(l){var o=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},a._writeHeader=function(l,o,c,f,d,p){var m=a.bin.writeUint,g=a.bin.writeUshort,v=f.file;return m(l,o,d==0?67324752:33639248),o+=4,d==1&&(o+=2),g(l,o,20),g(l,o+=2,0),g(l,o+=2,f.cpr?8:0),m(l,o+=2,0),m(l,o+=4,f.crc),m(l,o+=4,v.length),m(l,o+=4,f.usize),g(l,o+=4,a.bin.sizeUTF8(c)),g(l,o+=2,0),o+=2,d==1&&(o+=2,o+=2,m(l,o+=6,p),o+=4),o+=a.bin.writeUTF8(l,o,c),d==0&&(l.set(v,o),o+=v.length),o},a.crc={table:(function(){for(var l=new Uint32Array(256),o=0;o<256;o++){for(var c=o,f=0;f<8;f++)1&c?c=3988292384^c>>>1:c>>>=1;l[o]=c}return l})(),update:function(l,o,c,f){for(var d=0;d<f;d++)l=a.crc.table[255&(l^o[c+d])]^l>>>8;return l},crc:function(l,o,c){return 4294967295^a.crc.update(4294967295,l,o,c)}},a.adler=function(l,o,c){for(var f=1,d=0,p=o,m=o+c;p<m;){for(var g=Math.min(p+5552,m);p<g;)d+=f+=l[p++];f%=65521,d%=65521}return d<<16|f},a.bin={readUshort:function(l,o){return l[o]|l[o+1]<<8},writeUshort:function(l,o,c){l[o]=255&c,l[o+1]=c>>8&255},readUint:function(l,o){return 16777216*l[o+3]+(l[o+2]<<16|l[o+1]<<8|l[o])},writeUint:function(l,o,c){l[o]=255&c,l[o+1]=c>>8&255,l[o+2]=c>>16&255,l[o+3]=c>>24&255},readASCII:function(l,o,c){for(var f="",d=0;d<c;d++)f+=String.fromCharCode(l[o+d]);return f},writeASCII:function(l,o,c){for(var f=0;f<c.length;f++)l[o+f]=c.charCodeAt(f)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,o,c){for(var f,d="",p=0;p<c;p++)d+="%"+a.bin.pad(l[o+p].toString(16));try{f=decodeURIComponent(d)}catch{return a.bin.readASCII(l,o,c)}return f},writeUTF8:function(l,o,c){for(var f=c.length,d=0,p=0;p<f;p++){var m=c.charCodeAt(p);if((4294967168&m)==0)l[o+d]=m,d++;else if((4294965248&m)==0)l[o+d]=192|m>>6,l[o+d+1]=128|m>>0&63,d+=2;else if((4294901760&m)==0)l[o+d]=224|m>>12,l[o+d+1]=128|m>>6&63,l[o+d+2]=128|m>>0&63,d+=3;else{if((4292870144&m)!=0)throw"e";l[o+d]=240|m>>18,l[o+d+1]=128|m>>12&63,l[o+d+2]=128|m>>6&63,l[o+d+3]=128|m>>0&63,d+=4}}return d},sizeUTF8:function(l){for(var o=l.length,c=0,f=0;f<o;f++){var d=l.charCodeAt(f);if((4294967168&d)==0)c++;else if((4294965248&d)==0)c+=2;else if((4294901760&d)==0)c+=3;else{if((4292870144&d)!=0)throw"e";c+=4}}return c}},a.F={},a.F.deflateRaw=function(l,o,c,f){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],p=a.F.U,m=a.F._goodIndex;a.F._hash;var g=a.F._putsE,v=0,x=c<<3,w=0,S=l.length;if(f==0){for(;v<S;)g(o,x,v+(B=Math.min(65535,S-v))==S?1:0),x=a.F._copyExact(l,v,B,o,x+8),v+=B;return x>>>3}var E=p.lits,j=p.strt,z=p.prev,N=0,M=0,$=0,T=0,H=0,C=0;for(S>2&&(j[C=a.F._hash(l,0)]=0),v=0;v<S;v++){if(H=C,v+1<S-2){C=a.F._hash(l,v+1);var D=v+1&32767;z[D]=j[C],j[C]=D}if(w<=v){(N>14e3||M>26697)&&S-v>100&&(w<v&&(E[N]=v-w,N+=2,w=v),x=a.F._writeBlock(v==S-1||w==S?1:0,E,N,T,l,$,v-$,o,x),N=M=T=0,$=v);var F=0;v<S-2&&(F=a.F._bestMatch(l,v,z,H,Math.min(d[2],S-v),d[3]));var B=F>>>16,I=65535&F;if(F!=0){I=65535&F;var Y=m(B=F>>>16,p.of0);p.lhst[257+Y]++;var P=m(I,p.df0);p.dhst[P]++,T+=p.exb[Y]+p.dxb[P],E[N]=B<<23|v-w,E[N+1]=I<<16|Y<<8|P,N+=2,w=v+B}else p.lhst[l[v]]++;M++}}for($==v&&l.length!=0||(w<v&&(E[N]=v-w,N+=2,w=v),x=a.F._writeBlock(1,E,N,T,l,$,v-$,o,x),N=0,M=0,N=M=T=0,$=v);(7&x)!=0;)x++;return x>>>3},a.F._bestMatch=function(l,o,c,f,d,p){var m=32767&o,g=c[m],v=m-g+32768&32767;if(g==m||f!=a.F._hash(l,o-v))return 0;for(var x=0,w=0,S=Math.min(32767,o);v<=S&&--p!=0&&g!=m;){if(x==0||l[o+x]==l[o+x-v]){var E=a.F._howLong(l,o,v);if(E>x){if(w=v,(x=E)>=d)break;v+2<E&&(E=v+2);for(var j=0,z=0;z<E-2;z++){var N=o-v+z+32768&32767,M=N-c[N]+32768&32767;M>j&&(j=M,g=N)}}}v+=(m=g)-(g=c[m])+32768&32767}return x<<16|w},a.F._howLong=function(l,o,c){if(l[o]!=l[o-c]||l[o+1]!=l[o+1-c]||l[o+2]!=l[o+2-c])return 0;var f=o,d=Math.min(l.length,o+258);for(o+=3;o<d&&l[o]==l[o-c];)o++;return o-f},a.F._hash=function(l,o){return(l[o]<<8|l[o+1])+(l[o+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(l,o,c,f,d,p,m,g,v){var x,w,S,E,j,z,N,M,$,T=a.F.U,H=a.F._putsF,C=a.F._putsE;T.lhst[256]++,w=(x=a.F.getTrees())[0],S=x[1],E=x[2],j=x[3],z=x[4],N=x[5],M=x[6],$=x[7];var D=32+((v+3&7)==0?0:8-(v+3&7))+(m<<3),F=f+a.F.contSize(T.fltree,T.lhst)+a.F.contSize(T.fdtree,T.dhst),B=f+a.F.contSize(T.ltree,T.lhst)+a.F.contSize(T.dtree,T.dhst);B+=14+3*N+a.F.contSize(T.itree,T.ihst)+(2*T.ihst[16]+3*T.ihst[17]+7*T.ihst[18]);for(var I=0;I<286;I++)T.lhst[I]=0;for(I=0;I<30;I++)T.dhst[I]=0;for(I=0;I<19;I++)T.ihst[I]=0;var Y=D<F&&D<B?0:F<B?1:2;if(H(g,v,l),H(g,v+1,Y),v+=3,Y==0){for(;(7&v)!=0;)v++;v=a.F._copyExact(d,p,m,g,v)}else{var P,V;if(Y==1&&(P=T.fltree,V=T.fdtree),Y==2){a.F.makeCodes(T.ltree,w),a.F.revCodes(T.ltree,w),a.F.makeCodes(T.dtree,S),a.F.revCodes(T.dtree,S),a.F.makeCodes(T.itree,E),a.F.revCodes(T.itree,E),P=T.ltree,V=T.dtree,C(g,v,j-257),C(g,v+=5,z-1),C(g,v+=5,N-4),v+=4;for(var k=0;k<N;k++)C(g,v+3*k,T.itree[1+(T.ordr[k]<<1)]);v+=3*N,v=a.F._codeTiny(M,T.itree,g,v),v=a.F._codeTiny($,T.itree,g,v)}for(var A=p,te=0;te<c;te+=2){for(var Z=o[te],R=Z>>>23,q=A+(8388607&Z);A<q;)v=a.F._writeLit(d[A++],P,g,v);if(R!=0){var Q=o[te+1],U=Q>>16,X=Q>>8&255,K=255&Q;C(g,v=a.F._writeLit(257+X,P,g,v),R-T.of0[X]),v+=T.exb[X],H(g,v=a.F._writeLit(K,V,g,v),U-T.df0[K]),v+=T.dxb[K],A+=R}}v=a.F._writeLit(256,P,g,v)}return v},a.F._copyExact=function(l,o,c,f,d){var p=d>>>3;return f[p]=c,f[p+1]=c>>>8,f[p+2]=255-f[p],f[p+3]=255-f[p+1],p+=4,f.set(new Uint8Array(l.buffer,o,c),p),d+(c+4<<3)},a.F.getTrees=function(){for(var l=a.F.U,o=a.F._hufTree(l.lhst,l.ltree,15),c=a.F._hufTree(l.dhst,l.dtree,15),f=[],d=a.F._lenCodes(l.ltree,f),p=[],m=a.F._lenCodes(l.dtree,p),g=0;g<f.length;g+=2)l.ihst[f[g]]++;for(g=0;g<p.length;g+=2)l.ihst[p[g]]++;for(var v=a.F._hufTree(l.ihst,l.itree,7),x=19;x>4&&l.itree[1+(l.ordr[x-1]<<1)]==0;)x--;return[o,c,v,d,m,x,f,p]},a.F.getSecond=function(l){for(var o=[],c=0;c<l.length;c+=2)o.push(l[c+1]);return o},a.F.nonZero=function(l){for(var o="",c=0;c<l.length;c+=2)l[c+1]!=0&&(o+=(c>>1)+",");return o},a.F.contSize=function(l,o){for(var c=0,f=0;f<o.length;f++)c+=o[f]*l[1+(f<<1)];return c},a.F._codeTiny=function(l,o,c,f){for(var d=0;d<l.length;d+=2){var p=l[d],m=l[d+1];f=a.F._writeLit(p,o,c,f);var g=p==16?2:p==17?3:7;p>15&&(a.F._putsE(c,f,m,g),f+=g)}return f},a.F._lenCodes=function(l,o){for(var c=l.length;c!=2&&l[c-1]==0;)c-=2;for(var f=0;f<c;f+=2){var d=l[f+1],p=f+3<c?l[f+3]:-1,m=f+5<c?l[f+5]:-1,g=f==0?-1:l[f-1];if(d==0&&p==d&&m==d){for(var v=f+5;v+2<c&&l[v+2]==d;)v+=2;(x=Math.min(v+1-f>>>1,138))<11?o.push(17,x-3):o.push(18,x-11),f+=2*x-2}else if(d==g&&p==d&&m==d){for(v=f+5;v+2<c&&l[v+2]==d;)v+=2;var x=Math.min(v+1-f>>>1,6);o.push(16,x-3),f+=2*x-2}else o.push(d,0)}return c>>>1},a.F._hufTree=function(l,o,c){var f=[],d=l.length,p=o.length,m=0;for(m=0;m<p;m+=2)o[m]=0,o[m+1]=0;for(m=0;m<d;m++)l[m]!=0&&f.push({lit:m,f:l[m]});var g=f.length,v=f.slice(0);if(g==0)return 0;if(g==1){var x=f[0].lit;return v=x==0?1:0,o[1+(x<<1)]=1,o[1+(v<<1)]=1,1}f.sort((function(M,$){return M.f-$.f}));var w=f[0],S=f[1],E=0,j=1,z=2;for(f[0]={lit:-1,f:w.f+S.f,l:w,r:S,d:0};j!=g-1;)w=E!=j&&(z==g||f[E].f<f[z].f)?f[E++]:f[z++],S=E!=j&&(z==g||f[E].f<f[z].f)?f[E++]:f[z++],f[j++]={lit:-1,f:w.f+S.f,l:w,r:S};var N=a.F.setDepth(f[j-1],0);for(N>c&&(a.F.restrictDepth(v,c,N),N=c),m=0;m<g;m++)o[1+(v[m].lit<<1)]=v[m].d;return N},a.F.setDepth=function(l,o){return l.lit!=-1?(l.d=o,o):Math.max(a.F.setDepth(l.l,o+1),a.F.setDepth(l.r,o+1))},a.F.restrictDepth=function(l,o,c){var f=0,d=1<<c-o,p=0;for(l.sort((function(g,v){return v.d==g.d?g.f-v.f:v.d-g.d})),f=0;f<l.length&&l[f].d>o;f++){var m=l[f].d;l[f].d=o,p+=d-(1<<c-m)}for(p>>>=c-o;p>0;)(m=l[f].d)<o?(l[f].d++,p-=1<<o-m-1):f++;for(;f>=0;f--)l[f].d==o&&p<0&&(l[f].d--,p++);p!=0&&console.log("debt left")},a.F._goodIndex=function(l,o){var c=0;return o[16|c]<=l&&(c|=16),o[8|c]<=l&&(c|=8),o[4|c]<=l&&(c|=4),o[2|c]<=l&&(c|=2),o[1|c]<=l&&(c|=1),c},a.F._writeLit=function(l,o,c,f){return a.F._putsF(c,f,o[l<<1]),f+o[1+(l<<1)]},a.F.inflate=function(l,o){var c=Uint8Array;if(l[0]==3&&l[1]==0)return o||new c(0);var f=a.F,d=f._bitsF,p=f._bitsE,m=f._decodeTiny,g=f.makeCodes,v=f.codes2map,x=f._get17,w=f.U,S=o==null;S&&(o=new c(l.length>>>2<<3));for(var E,j,z=0,N=0,M=0,$=0,T=0,H=0,C=0,D=0,F=0;z==0;)if(z=d(l,F,1),N=d(l,F+1,2),F+=3,N!=0){if(S&&(o=a.F._check(o,D+(1<<17))),N==1&&(E=w.flmap,j=w.fdmap,H=511,C=31),N==2){M=p(l,F,5)+257,$=p(l,F+5,5)+1,T=p(l,F+10,4)+4,F+=14;for(var B=0;B<38;B+=2)w.itree[B]=0,w.itree[B+1]=0;var I=1;for(B=0;B<T;B++){var Y=p(l,F+3*B,3);w.itree[1+(w.ordr[B]<<1)]=Y,Y>I&&(I=Y)}F+=3*T,g(w.itree,I),v(w.itree,I,w.imap),E=w.lmap,j=w.dmap,F=m(w.imap,(1<<I)-1,M+$,l,F,w.ttree);var P=f._copyOut(w.ttree,0,M,w.ltree);H=(1<<P)-1;var V=f._copyOut(w.ttree,M,$,w.dtree);C=(1<<V)-1,g(w.ltree,P),v(w.ltree,P,E),g(w.dtree,V),v(w.dtree,V,j)}for(;;){var k=E[x(l,F)&H];F+=15&k;var A=k>>>4;if(!(A>>>8))o[D++]=A;else{if(A==256)break;var te=D+A-254;if(A>264){var Z=w.ldef[A-257];te=D+(Z>>>3)+p(l,F,7&Z),F+=7&Z}var R=j[x(l,F)&C];F+=15&R;var q=R>>>4,Q=w.ddef[q],U=(Q>>>4)+d(l,F,15&Q);for(F+=15&Q,S&&(o=a.F._check(o,D+(1<<17)));D<te;)o[D]=o[D++-U],o[D]=o[D++-U],o[D]=o[D++-U],o[D]=o[D++-U];D=te}}}else{(7&F)!=0&&(F+=8-(7&F));var X=4+(F>>>3),K=l[X-4]|l[X-3]<<8;S&&(o=a.F._check(o,D+K)),o.set(new c(l.buffer,l.byteOffset+X,K),D),F=X+K<<3,D+=K}return o.length==D?o:o.slice(0,D)},a.F._check=function(l,o){var c=l.length;if(o<=c)return l;var f=new Uint8Array(Math.max(c<<1,o));return f.set(l,0),f},a.F._decodeTiny=function(l,o,c,f,d,p){for(var m=a.F._bitsE,g=a.F._get17,v=0;v<c;){var x=l[g(f,d)&o];d+=15&x;var w=x>>>4;if(w<=15)p[v]=w,v++;else{var S=0,E=0;w==16?(E=3+m(f,d,2),d+=2,S=p[v-1]):w==17?(E=3+m(f,d,3),d+=3):w==18&&(E=11+m(f,d,7),d+=7);for(var j=v+E;v<j;)p[v]=S,v++}}return d},a.F._copyOut=function(l,o,c,f){for(var d=0,p=0,m=f.length>>>1;p<c;){var g=l[p+o];f[p<<1]=0,f[1+(p<<1)]=g,g>d&&(d=g),p++}for(;p<m;)f[p<<1]=0,f[1+(p<<1)]=0,p++;return d},a.F.makeCodes=function(l,o){for(var c,f,d,p,m=a.F.U,g=l.length,v=m.bl_count,x=0;x<=o;x++)v[x]=0;for(x=1;x<g;x+=2)v[l[x]]++;var w=m.next_code;for(c=0,v[0]=0,f=1;f<=o;f++)c=c+v[f-1]<<1,w[f]=c;for(d=0;d<g;d+=2)(p=l[d+1])!=0&&(l[d]=w[p],w[p]++)},a.F.codes2map=function(l,o,c){for(var f=l.length,d=a.F.U.rev15,p=0;p<f;p+=2)if(l[p+1]!=0)for(var m=p>>1,g=l[p+1],v=m<<4|g,x=o-g,w=l[p]<<x,S=w+(1<<x);w!=S;)c[d[w]>>>15-o]=v,w++},a.F.revCodes=function(l,o){for(var c=a.F.U.rev15,f=15-o,d=0;d<l.length;d+=2){var p=l[d]<<o-l[d+1];l[d]=c[p]>>>f}},a.F._putsE=function(l,o,c){c<<=7&o;var f=o>>>3;l[f]|=c,l[f+1]|=c>>>8},a.F._putsF=function(l,o,c){c<<=7&o;var f=o>>>3;l[f]|=c,l[f+1]|=c>>>8,l[f+2]|=c>>>16},a.F._bitsE=function(l,o,c){return(l[o>>>3]|l[1+(o>>>3)]<<8)>>>(7&o)&(1<<c)-1},a.F._bitsF=function(l,o,c){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)&(1<<c)-1},a.F._get17=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)},a.F._get25=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16|l[3+(o>>>3)]<<24)>>>(7&o)},a.F.U=(t=Uint16Array,i=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var l=a.F.U,o=0;o<32768;o++){var c=o;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,l.rev15[o]=(c>>>16|c<<16)>>>17}function f(d,p,m){for(;p--!=0;)d.push(0,m)}for(o=0;o<32;o++)l.ldef[o]=l.of0[o]<<3|l.exb[o],l.ddef[o]=l.df0[o]<<4|l.dxb[o];f(l.fltree,144,8),f(l.fltree,112,9),f(l.fltree,24,7),f(l.fltree,8,8),a.F.makeCodes(l.fltree,9),a.F.codes2map(l.fltree,9,l.flmap),a.F.revCodes(l.fltree,9),f(l.fdtree,32,5),a.F.makeCodes(l.fdtree,5),a.F.codes2map(l.fdtree,5,l.fdmap),a.F.revCodes(l.fdtree,5),f(l.itree,19,0),f(l.ltree,286,0),f(l.dtree,30,0),f(l.ttree,320,0)})()})();var dE=uE({__proto__:null,default:Bo},[Bo]);const Vn=(function(){var n={nextZero(m,g){for(;m[g]!=0;)g++;return g},readUshort:(m,g)=>m[g]<<8|m[g+1],writeUshort(m,g,v){m[g]=v>>8&255,m[g+1]=255&v},readUint:(m,g)=>16777216*m[g]+(m[g+1]<<16|m[g+2]<<8|m[g+3]),writeUint(m,g,v){m[g]=v>>24&255,m[g+1]=v>>16&255,m[g+2]=v>>8&255,m[g+3]=255&v},readASCII(m,g,v){let x="";for(let w=0;w<v;w++)x+=String.fromCharCode(m[g+w]);return x},writeASCII(m,g,v){for(let x=0;x<v.length;x++)m[g+x]=v.charCodeAt(x)},readBytes(m,g,v){const x=[];for(let w=0;w<v;w++)x.push(m[g+w]);return x},pad:m=>m.length<2?`0${m}`:m,readUTF8(m,g,v){let x,w="";for(let S=0;S<v;S++)w+=`%${n.pad(m[g+S].toString(16))}`;try{x=decodeURIComponent(w)}catch{return n.readASCII(m,g,v)}return x}};function t(m,g,v,x){const w=g*v,S=o(x),E=Math.ceil(g*S/8),j=new Uint8Array(4*w),z=new Uint32Array(j.buffer),{ctype:N}=x,{depth:M}=x,$=n.readUshort;if(N==6){const Z=w<<2;if(M==8)for(var T=0;T<Z;T+=4)j[T]=m[T],j[T+1]=m[T+1],j[T+2]=m[T+2],j[T+3]=m[T+3];if(M==16)for(T=0;T<Z;T++)j[T]=m[T<<1]}else if(N==2){const Z=x.tabs.tRNS;if(Z==null){if(M==8)for(T=0;T<w;T++){var H=3*T;z[T]=255<<24|m[H+2]<<16|m[H+1]<<8|m[H]}if(M==16)for(T=0;T<w;T++)H=6*T,z[T]=255<<24|m[H+4]<<16|m[H+2]<<8|m[H]}else{var C=Z[0];const R=Z[1],q=Z[2];if(M==8)for(T=0;T<w;T++){var D=T<<2;H=3*T,z[T]=255<<24|m[H+2]<<16|m[H+1]<<8|m[H],m[H]==C&&m[H+1]==R&&m[H+2]==q&&(j[D+3]=0)}if(M==16)for(T=0;T<w;T++)D=T<<2,H=6*T,z[T]=255<<24|m[H+4]<<16|m[H+2]<<8|m[H],$(m,H)==C&&$(m,H+2)==R&&$(m,H+4)==q&&(j[D+3]=0)}}else if(N==3){const Z=x.tabs.PLTE,R=x.tabs.tRNS,q=R?R.length:0;if(M==1)for(var F=0;F<v;F++){var B=F*E,I=F*g;for(T=0;T<g;T++){D=I+T<<2;var Y=3*(P=m[B+(T>>3)]>>7-((7&T)<<0)&1);j[D]=Z[Y],j[D+1]=Z[Y+1],j[D+2]=Z[Y+2],j[D+3]=P<q?R[P]:255}}if(M==2)for(F=0;F<v;F++)for(B=F*E,I=F*g,T=0;T<g;T++)D=I+T<<2,Y=3*(P=m[B+(T>>2)]>>6-((3&T)<<1)&3),j[D]=Z[Y],j[D+1]=Z[Y+1],j[D+2]=Z[Y+2],j[D+3]=P<q?R[P]:255;if(M==4)for(F=0;F<v;F++)for(B=F*E,I=F*g,T=0;T<g;T++)D=I+T<<2,Y=3*(P=m[B+(T>>1)]>>4-((1&T)<<2)&15),j[D]=Z[Y],j[D+1]=Z[Y+1],j[D+2]=Z[Y+2],j[D+3]=P<q?R[P]:255;if(M==8)for(T=0;T<w;T++){var P;D=T<<2,Y=3*(P=m[T]),j[D]=Z[Y],j[D+1]=Z[Y+1],j[D+2]=Z[Y+2],j[D+3]=P<q?R[P]:255}}else if(N==4){if(M==8)for(T=0;T<w;T++){D=T<<2;var V=m[k=T<<1];j[D]=V,j[D+1]=V,j[D+2]=V,j[D+3]=m[k+1]}if(M==16)for(T=0;T<w;T++){var k;D=T<<2,V=m[k=T<<2],j[D]=V,j[D+1]=V,j[D+2]=V,j[D+3]=m[k+2]}}else if(N==0)for(C=x.tabs.tRNS?x.tabs.tRNS:-1,F=0;F<v;F++){const Z=F*E,R=F*g;if(M==1)for(var A=0;A<g;A++){var te=(V=255*(m[Z+(A>>>3)]>>>7-(7&A)&1))==255*C?0:255;z[R+A]=te<<24|V<<16|V<<8|V}else if(M==2)for(A=0;A<g;A++)te=(V=85*(m[Z+(A>>>2)]>>>6-((3&A)<<1)&3))==85*C?0:255,z[R+A]=te<<24|V<<16|V<<8|V;else if(M==4)for(A=0;A<g;A++)te=(V=17*(m[Z+(A>>>1)]>>>4-((1&A)<<2)&15))==17*C?0:255,z[R+A]=te<<24|V<<16|V<<8|V;else if(M==8)for(A=0;A<g;A++)te=(V=m[Z+A])==C?0:255,z[R+A]=te<<24|V<<16|V<<8|V;else if(M==16)for(A=0;A<g;A++)V=m[Z+(A<<1)],te=$(m,Z+(A<<1))==C?0:255,z[R+A]=te<<24|V<<16|V<<8|V}return j}function i(m,g,v,x){const w=o(m),S=Math.ceil(v*w/8),E=new Uint8Array((S+1+m.interlace)*x);return g=m.tabs.CgBI?l(g,E):a(g,E),m.interlace==0?g=c(g,m,0,v,x):m.interlace==1&&(g=(function(z,N){const M=N.width,$=N.height,T=o(N),H=T>>3,C=Math.ceil(M*T/8),D=new Uint8Array($*C);let F=0;const B=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],Y=[8,8,8,4,4,2,2],P=[8,8,4,4,2,2,1];let V=0;for(;V<7;){const A=Y[V],te=P[V];let Z=0,R=0,q=B[V];for(;q<$;)q+=A,R++;let Q=I[V];for(;Q<M;)Q+=te,Z++;const U=Math.ceil(Z*T/8);c(z,N,F,Z,R);let X=0,K=B[V];for(;K<$;){let W=I[V],ce=F+X*U<<3;for(;W<M;){var k;if(T==1&&(k=(k=z[ce>>3])>>7-(7&ce)&1,D[K*C+(W>>3)]|=k<<7-((7&W)<<0)),T==2&&(k=(k=z[ce>>3])>>6-(7&ce)&3,D[K*C+(W>>2)]|=k<<6-((3&W)<<1)),T==4&&(k=(k=z[ce>>3])>>4-(7&ce)&15,D[K*C+(W>>1)]|=k<<4-((1&W)<<2)),T>=8){const fe=K*C+W*H;for(let pe=0;pe<H;pe++)D[fe+pe]=z[(ce>>3)+pe]}ce+=T,W+=te}X++,K+=A}Z*R!=0&&(F+=R*(1+U)),V+=1}return D})(g,m)),g}function a(m,g){return l(new Uint8Array(m.buffer,2,m.length-6),g)}var l=(function(){const m={H:{}};return m.H.N=function(g,v){const x=Uint8Array;let w,S,E=0,j=0,z=0,N=0,M=0,$=0,T=0,H=0,C=0;if(g[0]==3&&g[1]==0)return v||new x(0);const D=m.H,F=D.b,B=D.e,I=D.R,Y=D.n,P=D.A,V=D.Z,k=D.m,A=v==null;for(A&&(v=new x(g.length>>>2<<5));E==0;)if(E=F(g,C,1),j=F(g,C+1,2),C+=3,j!=0){if(A&&(v=m.H.W(v,H+(1<<17))),j==1&&(w=k.J,S=k.h,$=511,T=31),j==2){z=B(g,C,5)+257,N=B(g,C+5,5)+1,M=B(g,C+10,4)+4,C+=14;let Z=1;for(var te=0;te<38;te+=2)k.Q[te]=0,k.Q[te+1]=0;for(te=0;te<M;te++){const Q=B(g,C+3*te,3);k.Q[1+(k.X[te]<<1)]=Q,Q>Z&&(Z=Q)}C+=3*M,Y(k.Q,Z),P(k.Q,Z,k.u),w=k.w,S=k.d,C=I(k.u,(1<<Z)-1,z+N,g,C,k.v);const R=D.V(k.v,0,z,k.C);$=(1<<R)-1;const q=D.V(k.v,z,N,k.D);T=(1<<q)-1,Y(k.C,R),P(k.C,R,w),Y(k.D,q),P(k.D,q,S)}for(;;){const Z=w[V(g,C)&$];C+=15&Z;const R=Z>>>4;if(!(R>>>8))v[H++]=R;else{if(R==256)break;{let q=H+R-254;if(R>264){const W=k.q[R-257];q=H+(W>>>3)+B(g,C,7&W),C+=7&W}const Q=S[V(g,C)&T];C+=15&Q;const U=Q>>>4,X=k.c[U],K=(X>>>4)+F(g,C,15&X);for(C+=15&X;H<q;)v[H]=v[H++-K],v[H]=v[H++-K],v[H]=v[H++-K],v[H]=v[H++-K];H=q}}}}else{(7&C)!=0&&(C+=8-(7&C));const Z=4+(C>>>3),R=g[Z-4]|g[Z-3]<<8;A&&(v=m.H.W(v,H+R)),v.set(new x(g.buffer,g.byteOffset+Z,R),H),C=Z+R<<3,H+=R}return v.length==H?v:v.slice(0,H)},m.H.W=function(g,v){const x=g.length;if(v<=x)return g;const w=new Uint8Array(x<<1);return w.set(g,0),w},m.H.R=function(g,v,x,w,S,E){const j=m.H.e,z=m.H.Z;let N=0;for(;N<x;){const M=g[z(w,S)&v];S+=15&M;const $=M>>>4;if($<=15)E[N]=$,N++;else{let T=0,H=0;$==16?(H=3+j(w,S,2),S+=2,T=E[N-1]):$==17?(H=3+j(w,S,3),S+=3):$==18&&(H=11+j(w,S,7),S+=7);const C=N+H;for(;N<C;)E[N]=T,N++}}return S},m.H.V=function(g,v,x,w){let S=0,E=0;const j=w.length>>>1;for(;E<x;){const z=g[E+v];w[E<<1]=0,w[1+(E<<1)]=z,z>S&&(S=z),E++}for(;E<j;)w[E<<1]=0,w[1+(E<<1)]=0,E++;return S},m.H.n=function(g,v){const x=m.H.m,w=g.length;let S,E,j,z;const N=x.j;for(var M=0;M<=v;M++)N[M]=0;for(M=1;M<w;M+=2)N[g[M]]++;const $=x.K;for(S=0,N[0]=0,E=1;E<=v;E++)S=S+N[E-1]<<1,$[E]=S;for(j=0;j<w;j+=2)z=g[j+1],z!=0&&(g[j]=$[z],$[z]++)},m.H.A=function(g,v,x){const w=g.length,S=m.H.m.r;for(let E=0;E<w;E+=2)if(g[E+1]!=0){const j=E>>1,z=g[E+1],N=j<<4|z,M=v-z;let $=g[E]<<M;const T=$+(1<<M);for(;$!=T;)x[S[$]>>>15-v]=N,$++}},m.H.l=function(g,v){const x=m.H.m.r,w=15-v;for(let S=0;S<g.length;S+=2){const E=g[S]<<v-g[S+1];g[S]=x[E]>>>w}},m.H.M=function(g,v,x){x<<=7&v;const w=v>>>3;g[w]|=x,g[w+1]|=x>>>8},m.H.I=function(g,v,x){x<<=7&v;const w=v>>>3;g[w]|=x,g[w+1]|=x>>>8,g[w+2]|=x>>>16},m.H.e=function(g,v,x){return(g[v>>>3]|g[1+(v>>>3)]<<8)>>>(7&v)&(1<<x)-1},m.H.b=function(g,v,x){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16)>>>(7&v)&(1<<x)-1},m.H.Z=function(g,v){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16)>>>(7&v)},m.H.i=function(g,v){return(g[v>>>3]|g[1+(v>>>3)]<<8|g[2+(v>>>3)]<<16|g[3+(v>>>3)]<<24)>>>(7&v)},m.H.m=(function(){const g=Uint16Array,v=Uint32Array;return{K:new g(16),j:new g(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new g(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new v(32),J:new g(512),_:[],h:new g(32),$:[],w:new g(32768),C:[],v:[],d:new g(32768),D:[],u:new g(512),Q:[],r:new g(32768),s:new v(286),Y:new v(30),a:new v(19),t:new v(15e3),k:new g(65536),g:new g(32768)}})(),(function(){const g=m.H.m;for(var v=0;v<32768;v++){let w=v;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,g.r[v]=(w>>>16|w<<16)>>>17}function x(w,S,E){for(;S--!=0;)w.push(0,E)}for(v=0;v<32;v++)g.q[v]=g.S[v]<<3|g.T[v],g.c[v]=g.p[v]<<4|g.z[v];x(g._,144,8),x(g._,112,9),x(g._,24,7),x(g._,8,8),m.H.n(g._,9),m.H.A(g._,9,g.J),m.H.l(g._,9),x(g.$,32,5),m.H.n(g.$,5),m.H.A(g.$,5,g.h),m.H.l(g.$,5),x(g.Q,19,0),x(g.C,286,0),x(g.D,30,0),x(g.v,320,0)})(),m.H.N})();function o(m){return[1,null,3,1,2,null,4][m.ctype]*m.depth}function c(m,g,v,x,w){let S=o(g);const E=Math.ceil(x*S/8);let j,z;S=Math.ceil(S/8);let N=m[v],M=0;if(N>1&&(m[v]=[0,0,1][N-2]),N==3)for(M=S;M<E;M++)m[M+1]=m[M+1]+(m[M+1-S]>>>1)&255;for(let $=0;$<w;$++)if(j=v+$*E,z=j+$+1,N=m[z-1],M=0,N==0)for(;M<E;M++)m[j+M]=m[z+M];else if(N==1){for(;M<S;M++)m[j+M]=m[z+M];for(;M<E;M++)m[j+M]=m[z+M]+m[j+M-S]}else if(N==2)for(;M<E;M++)m[j+M]=m[z+M]+m[j+M-E];else if(N==3){for(;M<S;M++)m[j+M]=m[z+M]+(m[j+M-E]>>>1);for(;M<E;M++)m[j+M]=m[z+M]+(m[j+M-E]+m[j+M-S]>>>1)}else{for(;M<S;M++)m[j+M]=m[z+M]+f(0,m[j+M-E],0);for(;M<E;M++)m[j+M]=m[z+M]+f(m[j+M-S],m[j+M-E],m[j+M-S-E])}return m}function f(m,g,v){const x=m+g-v,w=x-m,S=x-g,E=x-v;return w*w<=S*S&&w*w<=E*E?m:S*S<=E*E?g:v}function d(m,g,v){v.width=n.readUint(m,g),g+=4,v.height=n.readUint(m,g),g+=4,v.depth=m[g],g++,v.ctype=m[g],g++,v.compress=m[g],g++,v.filter=m[g],g++,v.interlace=m[g],g++}function p(m,g,v,x,w,S,E,j,z){const N=Math.min(g,w),M=Math.min(v,S);let $=0,T=0;for(let V=0;V<M;V++)for(let k=0;k<N;k++)if(E>=0&&j>=0?($=V*g+k<<2,T=(j+V)*w+E+k<<2):($=(-j+V)*g-E+k<<2,T=V*w+k<<2),z==0)x[T]=m[$],x[T+1]=m[$+1],x[T+2]=m[$+2],x[T+3]=m[$+3];else if(z==1){var H=m[$+3]*.00392156862745098,C=m[$]*H,D=m[$+1]*H,F=m[$+2]*H,B=x[T+3]*(1/255),I=x[T]*B,Y=x[T+1]*B,P=x[T+2]*B;const A=1-H,te=H+B*A,Z=te==0?0:1/te;x[T+3]=255*te,x[T+0]=(C+I*A)*Z,x[T+1]=(D+Y*A)*Z,x[T+2]=(F+P*A)*Z}else if(z==2)H=m[$+3],C=m[$],D=m[$+1],F=m[$+2],B=x[T+3],I=x[T],Y=x[T+1],P=x[T+2],H==B&&C==I&&D==Y&&F==P?(x[T]=0,x[T+1]=0,x[T+2]=0,x[T+3]=0):(x[T]=C,x[T+1]=D,x[T+2]=F,x[T+3]=H);else if(z==3){if(H=m[$+3],C=m[$],D=m[$+1],F=m[$+2],B=x[T+3],I=x[T],Y=x[T+1],P=x[T+2],H==B&&C==I&&D==Y&&F==P)continue;if(H<220&&B>20)return!1}return!0}return{decode:function(g){const v=new Uint8Array(g);let x=8;const w=n,S=w.readUshort,E=w.readUint,j={tabs:{},frames:[]},z=new Uint8Array(v.length);let N,M=0,$=0;const T=[137,80,78,71,13,10,26,10];for(var H=0;H<8;H++)if(v[H]!=T[H])throw"The input is not a PNG file!";for(;x<v.length;){const V=w.readUint(v,x);x+=4;const k=w.readASCII(v,x,4);if(x+=4,k=="IHDR")d(v,x,j);else if(k=="iCCP"){for(var C=x;v[C]!=0;)C++;w.readASCII(v,x,C-x),v[C+1];const A=v.slice(C+2,x+V);let te=null;try{te=a(A)}catch{te=l(A)}j.tabs[k]=te}else if(k=="CgBI")j.tabs[k]=v.slice(x,x+4);else if(k=="IDAT"){for(H=0;H<V;H++)z[M+H]=v[x+H];M+=V}else if(k=="acTL")j.tabs[k]={num_frames:E(v,x),num_plays:E(v,x+4)},N=new Uint8Array(v.length);else if(k=="fcTL"){$!=0&&((P=j.frames[j.frames.length-1]).data=i(j,N.slice(0,$),P.rect.width,P.rect.height),$=0);const A={x:E(v,x+12),y:E(v,x+16),width:E(v,x+4),height:E(v,x+8)};let te=S(v,x+22);te=S(v,x+20)/(te==0?100:te);const Z={rect:A,delay:Math.round(1e3*te),dispose:v[x+24],blend:v[x+25]};j.frames.push(Z)}else if(k=="fdAT"){for(H=0;H<V-4;H++)N[$+H]=v[x+H+4];$+=V-4}else if(k=="pHYs")j.tabs[k]=[w.readUint(v,x),w.readUint(v,x+4),v[x+8]];else if(k=="cHRM")for(j.tabs[k]=[],H=0;H<8;H++)j.tabs[k].push(w.readUint(v,x+4*H));else if(k=="tEXt"||k=="zTXt"){j.tabs[k]==null&&(j.tabs[k]={});var D=w.nextZero(v,x),F=w.readASCII(v,x,D-x),B=x+V-D-1;if(k=="tEXt")Y=w.readASCII(v,D+1,B);else{var I=a(v.slice(D+2,D+2+B));Y=w.readUTF8(I,0,I.length)}j.tabs[k][F]=Y}else if(k=="iTXt"){j.tabs[k]==null&&(j.tabs[k]={}),D=0,C=x,D=w.nextZero(v,C),F=w.readASCII(v,C,D-C);const A=v[C=D+1];var Y;v[C+1],C+=2,D=w.nextZero(v,C),w.readASCII(v,C,D-C),C=D+1,D=w.nextZero(v,C),w.readUTF8(v,C,D-C),B=V-((C=D+1)-x),A==0?Y=w.readUTF8(v,C,B):(I=a(v.slice(C,C+B)),Y=w.readUTF8(I,0,I.length)),j.tabs[k][F]=Y}else if(k=="PLTE")j.tabs[k]=w.readBytes(v,x,V);else if(k=="hIST"){const A=j.tabs.PLTE.length/3;for(j.tabs[k]=[],H=0;H<A;H++)j.tabs[k].push(S(v,x+2*H))}else if(k=="tRNS")j.ctype==3?j.tabs[k]=w.readBytes(v,x,V):j.ctype==0?j.tabs[k]=S(v,x):j.ctype==2&&(j.tabs[k]=[S(v,x),S(v,x+2),S(v,x+4)]);else if(k=="gAMA")j.tabs[k]=w.readUint(v,x)/1e5;else if(k=="sRGB")j.tabs[k]=v[x];else if(k=="bKGD")j.ctype==0||j.ctype==4?j.tabs[k]=[S(v,x)]:j.ctype==2||j.ctype==6?j.tabs[k]=[S(v,x),S(v,x+2),S(v,x+4)]:j.ctype==3&&(j.tabs[k]=v[x]);else if(k=="IEND")break;x+=V,w.readUint(v,x),x+=4}var P;return $!=0&&((P=j.frames[j.frames.length-1]).data=i(j,N.slice(0,$),P.rect.width,P.rect.height)),j.data=i(j,z,j.width,j.height),delete j.compress,delete j.interlace,delete j.filter,j},toRGBA8:function(g){const v=g.width,x=g.height;if(g.tabs.acTL==null)return[t(g.data,v,x,g).buffer];const w=[];g.frames[0].data==null&&(g.frames[0].data=g.data);const S=v*x*4,E=new Uint8Array(S),j=new Uint8Array(S),z=new Uint8Array(S);for(let M=0;M<g.frames.length;M++){const $=g.frames[M],T=$.rect.x,H=$.rect.y,C=$.rect.width,D=$.rect.height,F=t($.data,C,D,g);if(M!=0)for(var N=0;N<S;N++)z[N]=E[N];if($.blend==0?p(F,C,D,E,v,x,T,H,0):$.blend==1&&p(F,C,D,E,v,x,T,H,1),w.push(E.buffer.slice(0)),$.dispose!=0){if($.dispose==1)p(j,C,D,E,v,x,T,H,0);else if($.dispose==2)for(N=0;N<S;N++)E[N]=z[N]}}return w},_paeth:f,_copyTile:p,_bin:n}})();(function(){const{_copyTile:n}=Vn,{_bin:t}=Vn,i=Vn._paeth;var a={table:(function(){const C=new Uint32Array(256);for(let D=0;D<256;D++){let F=D;for(let B=0;B<8;B++)1&F?F=3988292384^F>>>1:F>>>=1;C[D]=F}return C})(),update(C,D,F,B){for(let I=0;I<B;I++)C=a.table[255&(C^D[F+I])]^C>>>8;return C},crc:(C,D,F)=>4294967295^a.update(4294967295,C,D,F)};function l(C,D,F,B){D[F]+=C[0]*B>>4,D[F+1]+=C[1]*B>>4,D[F+2]+=C[2]*B>>4,D[F+3]+=C[3]*B>>4}function o(C){return Math.max(0,Math.min(255,C))}function c(C,D){const F=C[0]-D[0],B=C[1]-D[1],I=C[2]-D[2],Y=C[3]-D[3];return F*F+B*B+I*I+Y*Y}function f(C,D,F,B,I,Y,P){P==null&&(P=1);const V=B.length,k=[];for(var A=0;A<V;A++){const K=B[A];k.push([K>>>0&255,K>>>8&255,K>>>16&255,K>>>24&255])}for(A=0;A<V;A++){let K=4294967295;for(var te=0,Z=0;Z<V;Z++){var R=c(k[A],k[Z]);Z!=A&&R<K&&(K=R,te=Z)}}const q=new Uint32Array(I.buffer),Q=new Int16Array(D*F*4),U=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<U.length;A++)U[A]=255*((U[A]+.5)/16-.5);for(let K=0;K<F;K++)for(let W=0;W<D;W++){var X;A=4*(K*D+W),P!=2?X=[o(C[A]+Q[A]),o(C[A+1]+Q[A+1]),o(C[A+2]+Q[A+2]),o(C[A+3]+Q[A+3])]:(R=U[4*(3&K)+(3&W)],X=[o(C[A]+R),o(C[A+1]+R),o(C[A+2]+R),o(C[A+3]+R)]),te=0;let ce=16777215;for(Z=0;Z<V;Z++){const Ae=c(X,k[Z]);Ae<ce&&(ce=Ae,te=Z)}const fe=k[te],pe=[X[0]-fe[0],X[1]-fe[1],X[2]-fe[2],X[3]-fe[3]];P==1&&(W!=D-1&&l(pe,Q,A+4,7),K!=F-1&&(W!=0&&l(pe,Q,A+4*D-4,3),l(pe,Q,A+4*D,5),W!=D-1&&l(pe,Q,A+4*D+4,1))),Y[A>>2]=te,q[A>>2]=B[te]}}function d(C,D,F,B,I){I==null&&(I={});const{crc:Y}=a,P=t.writeUint,V=t.writeUshort,k=t.writeASCII;let A=8;const te=C.frames.length>1;let Z,R=!1,q=33+(te?20:0);if(I.sRGB!=null&&(q+=13),I.pHYs!=null&&(q+=21),I.iCCP!=null&&(Z=pako.deflate(I.iCCP),q+=21+Z.length+4),C.ctype==3){for(var Q=C.plte.length,U=0;U<Q;U++)C.plte[U]>>>24!=255&&(R=!0);q+=8+3*Q+4+(R?8+1*Q+4:0)}for(var X=0;X<C.frames.length;X++)te&&(q+=38),q+=(fe=C.frames[X]).cimg.length+12,X!=0&&(q+=4);q+=12;const K=new Uint8Array(q),W=[137,80,78,71,13,10,26,10];for(U=0;U<8;U++)K[U]=W[U];if(P(K,A,13),A+=4,k(K,A,"IHDR"),A+=4,P(K,A,D),A+=4,P(K,A,F),A+=4,K[A]=C.depth,A++,K[A]=C.ctype,A++,K[A]=0,A++,K[A]=0,A++,K[A]=0,A++,P(K,A,Y(K,A-17,17)),A+=4,I.sRGB!=null&&(P(K,A,1),A+=4,k(K,A,"sRGB"),A+=4,K[A]=I.sRGB,A++,P(K,A,Y(K,A-5,5)),A+=4),I.iCCP!=null){const pe=13+Z.length;P(K,A,pe),A+=4,k(K,A,"iCCP"),A+=4,k(K,A,"ICC profile"),A+=11,A+=2,K.set(Z,A),A+=Z.length,P(K,A,Y(K,A-(pe+4),pe+4)),A+=4}if(I.pHYs!=null&&(P(K,A,9),A+=4,k(K,A,"pHYs"),A+=4,P(K,A,I.pHYs[0]),A+=4,P(K,A,I.pHYs[1]),A+=4,K[A]=I.pHYs[2],A++,P(K,A,Y(K,A-13,13)),A+=4),te&&(P(K,A,8),A+=4,k(K,A,"acTL"),A+=4,P(K,A,C.frames.length),A+=4,P(K,A,I.loop!=null?I.loop:0),A+=4,P(K,A,Y(K,A-12,12)),A+=4),C.ctype==3){for(P(K,A,3*(Q=C.plte.length)),A+=4,k(K,A,"PLTE"),A+=4,U=0;U<Q;U++){const pe=3*U,Ae=C.plte[U],Ee=255&Ae,Ie=Ae>>>8&255,jt=Ae>>>16&255;K[A+pe+0]=Ee,K[A+pe+1]=Ie,K[A+pe+2]=jt}if(A+=3*Q,P(K,A,Y(K,A-3*Q-4,3*Q+4)),A+=4,R){for(P(K,A,Q),A+=4,k(K,A,"tRNS"),A+=4,U=0;U<Q;U++)K[A+U]=C.plte[U]>>>24&255;A+=Q,P(K,A,Y(K,A-Q-4,Q+4)),A+=4}}let ce=0;for(X=0;X<C.frames.length;X++){var fe=C.frames[X];te&&(P(K,A,26),A+=4,k(K,A,"fcTL"),A+=4,P(K,A,ce++),A+=4,P(K,A,fe.rect.width),A+=4,P(K,A,fe.rect.height),A+=4,P(K,A,fe.rect.x),A+=4,P(K,A,fe.rect.y),A+=4,V(K,A,B[X]),A+=2,V(K,A,1e3),A+=2,K[A]=fe.dispose,A++,K[A]=fe.blend,A++,P(K,A,Y(K,A-30,30)),A+=4);const pe=fe.cimg;P(K,A,(Q=pe.length)+(X==0?0:4)),A+=4;const Ae=A;k(K,A,X==0?"IDAT":"fdAT"),A+=4,X!=0&&(P(K,A,ce++),A+=4),K.set(pe,A),A+=Q,P(K,A,Y(K,Ae,A-Ae)),A+=4}return P(K,A,0),A+=4,k(K,A,"IEND"),A+=4,P(K,A,Y(K,A-4,4)),A+=4,K.buffer}function p(C,D,F){for(let B=0;B<C.frames.length;B++){const I=C.frames[B];I.rect.width;const Y=I.rect.height,P=new Uint8Array(Y*I.bpl+Y);I.cimg=x(I.img,Y,I.bpp,I.bpl,P,D,F)}}function m(C,D,F,B,I){const Y=I[0],P=I[1],V=I[2],k=I[3],A=I[4],te=I[5];let Z=6,R=8,q=255;for(var Q=0;Q<C.length;Q++){const ht=new Uint8Array(C[Q]);for(var U=ht.length,X=0;X<U;X+=4)q&=ht[X+3]}const K=q!=255,W=(function(Ke,Ve,ut,yt,tt,Lt){const ct=[];for(var Re=0;Re<Ke.length;Re++){const ke=new Uint8Array(Ke[Re]),at=new Uint32Array(ke.buffer);var Mt;let vt=0,st=0,Ge=Ve,bt=ut,He=yt?1:0;if(Re!=0){const Kn=Lt||yt||Re==1||ct[Re-2].dispose!=0?1:2;let Qt=0,Zs=1e9;for(let Qn=0;Qn<Kn;Qn++){var se=new Uint8Array(Ke[Re-1-Qn]);const Ni=new Uint32Array(Ke[Re-1-Qn]);let cn=Ve,Ft=ut,Bn=-1,In=-1;for(let Xn=0;Xn<ut;Xn++)for(let qn=0;qn<Ve;qn++)at[ge=Xn*Ve+qn]!=Ni[ge]&&(qn<cn&&(cn=qn),qn>Bn&&(Bn=qn),Xn<Ft&&(Ft=Xn),Xn>In&&(In=Xn));Bn==-1&&(cn=Ft=Bn=In=0),tt&&((1&cn)==1&&cn--,(1&Ft)==1&&Ft--);const Ws=(Bn-cn+1)*(In-Ft+1);Ws<Zs&&(Zs=Ws,Qt=Qn,vt=cn,st=Ft,Ge=Bn-cn+1,bt=In-Ft+1)}se=new Uint8Array(Ke[Re-1-Qt]),Qt==1&&(ct[Re-1].dispose=2),Mt=new Uint8Array(Ge*bt*4),n(se,Ve,ut,Mt,Ge,bt,-vt,-st,0),He=n(ke,Ve,ut,Mt,Ge,bt,-vt,-st,3)?1:0,He==1?v(ke,Ve,ut,Mt,{x:vt,y:st,width:Ge,height:bt}):n(ke,Ve,ut,Mt,Ge,bt,-vt,-st,0)}else Mt=ke.slice(0);ct.push({rect:{x:vt,y:st,width:Ge,height:bt},img:Mt,blend:He,dispose:0})}if(yt)for(Re=0;Re<ct.length;Re++){if((Te=ct[Re]).blend==1)continue;const ke=Te.rect,at=ct[Re-1].rect,vt=Math.min(ke.x,at.x),st=Math.min(ke.y,at.y),Ge={x:vt,y:st,width:Math.max(ke.x+ke.width,at.x+at.width)-vt,height:Math.max(ke.y+ke.height,at.y+at.height)-st};ct[Re-1].dispose=1,Re-1!=0&&g(Ke,Ve,ut,ct,Re-1,Ge,tt),g(Ke,Ve,ut,ct,Re,Ge,tt)}let me=0;if(Ke.length!=1)for(var ge=0;ge<ct.length;ge++){var Te;me+=(Te=ct[ge]).rect.width*Te.rect.height}return ct})(C,D,F,Y,P,V),ce={},fe=[],pe=[];if(B!=0){const ht=[];for(X=0;X<W.length;X++)ht.push(W[X].img.buffer);const Ke=(function(tt){let Lt=0;for(var ct=0;ct<tt.length;ct++)Lt+=tt[ct].byteLength;const Re=new Uint8Array(Lt);let Mt=0;for(ct=0;ct<tt.length;ct++){const se=new Uint8Array(tt[ct]),me=se.length;for(let ge=0;ge<me;ge+=4){let Te=se[ge],ke=se[ge+1],at=se[ge+2];const vt=se[ge+3];vt==0&&(Te=ke=at=0),Re[Mt+ge]=Te,Re[Mt+ge+1]=ke,Re[Mt+ge+2]=at,Re[Mt+ge+3]=vt}Mt+=me}return Re.buffer})(ht),Ve=S(Ke,B);for(X=0;X<Ve.plte.length;X++)fe.push(Ve.plte[X].est.rgba);let ut=0;for(X=0;X<W.length;X++){const yt=(Ee=W[X]).img.length;var Ae=new Uint8Array(Ve.inds.buffer,ut>>2,yt>>2);pe.push(Ae);const tt=new Uint8Array(Ve.abuf,ut,yt);te&&f(Ee.img,Ee.rect.width,Ee.rect.height,fe,tt,Ae),Ee.img.set(tt),ut+=yt}}else for(Q=0;Q<W.length;Q++){var Ee=W[Q];const ht=new Uint32Array(Ee.img.buffer);var Ie=Ee.rect.width;for(U=ht.length,Ae=new Uint8Array(U),pe.push(Ae),X=0;X<U;X++){const Ke=ht[X];if(X!=0&&Ke==ht[X-1])Ae[X]=Ae[X-1];else if(X>Ie&&Ke==ht[X-Ie])Ae[X]=Ae[X-Ie];else{let Ve=ce[Ke];if(Ve==null&&(ce[Ke]=Ve=fe.length,fe.push(Ke),fe.length>=300))break;Ae[X]=Ve}}}const jt=fe.length;for(jt<=256&&A==0&&(R=jt<=2?1:jt<=4?2:jt<=16?4:8,R=Math.max(R,k)),Q=0;Q<W.length;Q++){(Ee=W[Q]).rect.x,Ee.rect.y,Ie=Ee.rect.width;const ht=Ee.rect.height;let Ke=Ee.img;new Uint32Array(Ke.buffer);let Ve=4*Ie,ut=4;if(jt<=256&&A==0){Ve=Math.ceil(R*Ie/8);var gt=new Uint8Array(Ve*ht);const yt=pe[Q];for(let tt=0;tt<ht;tt++){X=tt*Ve;const Lt=tt*Ie;if(R==8)for(var Ye=0;Ye<Ie;Ye++)gt[X+Ye]=yt[Lt+Ye];else if(R==4)for(Ye=0;Ye<Ie;Ye++)gt[X+(Ye>>1)]|=yt[Lt+Ye]<<4-4*(1&Ye);else if(R==2)for(Ye=0;Ye<Ie;Ye++)gt[X+(Ye>>2)]|=yt[Lt+Ye]<<6-2*(3&Ye);else if(R==1)for(Ye=0;Ye<Ie;Ye++)gt[X+(Ye>>3)]|=yt[Lt+Ye]<<7-1*(7&Ye)}Ke=gt,Z=3,ut=1}else if(K==0&&W.length==1){gt=new Uint8Array(Ie*ht*3);const yt=Ie*ht;for(X=0;X<yt;X++){const tt=3*X,Lt=4*X;gt[tt]=Ke[Lt],gt[tt+1]=Ke[Lt+1],gt[tt+2]=Ke[Lt+2]}Ke=gt,Z=2,ut=3,Ve=3*Ie}Ee.img=Ke,Ee.bpl=Ve,Ee.bpp=ut}return{ctype:Z,depth:R,plte:fe,frames:W}}function g(C,D,F,B,I,Y,P){const V=Uint8Array,k=Uint32Array,A=new V(C[I-1]),te=new k(C[I-1]),Z=I+1<C.length?new V(C[I+1]):null,R=new V(C[I]),q=new k(R.buffer);let Q=D,U=F,X=-1,K=-1;for(let ce=0;ce<Y.height;ce++)for(let fe=0;fe<Y.width;fe++){const pe=Y.x+fe,Ae=Y.y+ce,Ee=Ae*D+pe,Ie=q[Ee];Ie==0||B[I-1].dispose==0&&te[Ee]==Ie&&(Z==null||Z[4*Ee+3]!=0)||(pe<Q&&(Q=pe),pe>X&&(X=pe),Ae<U&&(U=Ae),Ae>K&&(K=Ae))}X==-1&&(Q=U=X=K=0),P&&((1&Q)==1&&Q--,(1&U)==1&&U--),Y={x:Q,y:U,width:X-Q+1,height:K-U+1};const W=B[I];W.rect=Y,W.blend=1,W.img=new Uint8Array(Y.width*Y.height*4),B[I-1].dispose==0?(n(A,D,F,W.img,Y.width,Y.height,-Y.x,-Y.y,0),v(R,D,F,W.img,Y)):n(R,D,F,W.img,Y.width,Y.height,-Y.x,-Y.y,0)}function v(C,D,F,B,I){n(C,D,F,B,I.width,I.height,-I.x,-I.y,2)}function x(C,D,F,B,I,Y,P){const V=[];let k,A=[0,1,2,3,4];Y!=-1?A=[Y]:(D*B>5e5||F==1)&&(A=[0]),P&&(k={level:0});const te=dE;for(var Z=0;Z<A.length;Z++){for(let Q=0;Q<D;Q++)w(I,C,Q,B,F,A[Z]);V.push(te.deflate(I,k))}let R,q=1e9;for(Z=0;Z<V.length;Z++)V[Z].length<q&&(R=Z,q=V[Z].length);return V[R]}function w(C,D,F,B,I,Y){const P=F*B;let V=P+F;if(C[V]=Y,V++,Y==0)if(B<500)for(var k=0;k<B;k++)C[V+k]=D[P+k];else C.set(new Uint8Array(D.buffer,P,B),V);else if(Y==1){for(k=0;k<I;k++)C[V+k]=D[P+k];for(k=I;k<B;k++)C[V+k]=D[P+k]-D[P+k-I]+256&255}else if(F==0){for(k=0;k<I;k++)C[V+k]=D[P+k];if(Y==2)for(k=I;k<B;k++)C[V+k]=D[P+k];if(Y==3)for(k=I;k<B;k++)C[V+k]=D[P+k]-(D[P+k-I]>>1)+256&255;if(Y==4)for(k=I;k<B;k++)C[V+k]=D[P+k]-i(D[P+k-I],0,0)+256&255}else{if(Y==2)for(k=0;k<B;k++)C[V+k]=D[P+k]+256-D[P+k-B]&255;if(Y==3){for(k=0;k<I;k++)C[V+k]=D[P+k]+256-(D[P+k-B]>>1)&255;for(k=I;k<B;k++)C[V+k]=D[P+k]+256-(D[P+k-B]+D[P+k-I]>>1)&255}if(Y==4){for(k=0;k<I;k++)C[V+k]=D[P+k]+256-i(0,D[P+k-B],0)&255;for(k=I;k<B;k++)C[V+k]=D[P+k]+256-i(D[P+k-I],D[P+k-B],D[P+k-I-B])&255}}}function S(C,D){const F=new Uint8Array(C),B=F.slice(0),I=new Uint32Array(B.buffer),Y=E(B,D),P=Y[0],V=Y[1],k=F.length,A=new Uint8Array(k>>2);let te;if(F.length<2e7)for(var Z=0;Z<k;Z+=4)te=j(P,R=F[Z]*(1/255),q=F[Z+1]*(1/255),Q=F[Z+2]*(1/255),U=F[Z+3]*(1/255)),A[Z>>2]=te.ind,I[Z>>2]=te.est.rgba;else for(Z=0;Z<k;Z+=4){var R=F[Z]*.00392156862745098,q=F[Z+1]*(1/255),Q=F[Z+2]*(1/255),U=F[Z+3]*(1/255);for(te=P;te.left;)te=z(te.est,R,q,Q,U)<=0?te.left:te.right;A[Z>>2]=te.ind,I[Z>>2]=te.est.rgba}return{abuf:B.buffer,inds:A,plte:V}}function E(C,D,F){F==null&&(F=1e-4);const B=new Uint32Array(C.buffer),I={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=$(C,I.i0,I.i1),I.est=T(I.bst);const Y=[I];for(;Y.length<D;){let V=0,k=0;for(var P=0;P<Y.length;P++)Y[P].est.L>V&&(V=Y[P].est.L,k=P);if(V<F)break;const A=Y[k],te=N(C,B,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=te||A.i1<=te){A.est.L=0;continue}const Z={i0:A.i0,i1:te,bst:null,est:null,tdst:0,left:null,right:null};Z.bst=$(C,Z.i0,Z.i1),Z.est=T(Z.bst);const R={i0:te,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(R.bst={R:[],m:[],N:A.bst.N-Z.bst.N},P=0;P<16;P++)R.bst.R[P]=A.bst.R[P]-Z.bst.R[P];for(P=0;P<4;P++)R.bst.m[P]=A.bst.m[P]-Z.bst.m[P];R.est=T(R.bst),A.left=Z,A.right=R,Y[k]=Z,Y.push(R)}for(Y.sort(((V,k)=>k.bst.N-V.bst.N)),P=0;P<Y.length;P++)Y[P].ind=P;return[I,Y]}function j(C,D,F,B,I){if(C.left==null)return C.tdst=(function(Z,R,q,Q,U){const X=R-Z[0],K=q-Z[1],W=Q-Z[2],ce=U-Z[3];return X*X+K*K+W*W+ce*ce})(C.est.q,D,F,B,I),C;const Y=z(C.est,D,F,B,I);let P=C.left,V=C.right;Y>0&&(P=C.right,V=C.left);const k=j(P,D,F,B,I);if(k.tdst<=Y*Y)return k;const A=j(V,D,F,B,I);return A.tdst<k.tdst?A:k}function z(C,D,F,B,I){const{e:Y}=C;return Y[0]*D+Y[1]*F+Y[2]*B+Y[3]*I-C.eMq}function N(C,D,F,B,I,Y){for(B-=4;F<B;){for(;M(C,F,I)<=Y;)F+=4;for(;M(C,B,I)>Y;)B-=4;if(F>=B)break;const P=D[F>>2];D[F>>2]=D[B>>2],D[B>>2]=P,F+=4,B-=4}for(;M(C,F,I)>Y;)F-=4;return F+4}function M(C,D,F){return C[D]*F[0]+C[D+1]*F[1]+C[D+2]*F[2]+C[D+3]*F[3]}function $(C,D,F){const B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],Y=F-D>>2;for(let P=D;P<F;P+=4){const V=C[P]*.00392156862745098,k=C[P+1]*(1/255),A=C[P+2]*(1/255),te=C[P+3]*(1/255);I[0]+=V,I[1]+=k,I[2]+=A,I[3]+=te,B[0]+=V*V,B[1]+=V*k,B[2]+=V*A,B[3]+=V*te,B[5]+=k*k,B[6]+=k*A,B[7]+=k*te,B[10]+=A*A,B[11]+=A*te,B[15]+=te*te}return B[4]=B[1],B[8]=B[2],B[9]=B[6],B[12]=B[3],B[13]=B[7],B[14]=B[11],{R:B,m:I,N:Y}}function T(C){const{R:D}=C,{m:F}=C,{N:B}=C,I=F[0],Y=F[1],P=F[2],V=F[3],k=B==0?0:1/B,A=[D[0]-I*I*k,D[1]-I*Y*k,D[2]-I*P*k,D[3]-I*V*k,D[4]-Y*I*k,D[5]-Y*Y*k,D[6]-Y*P*k,D[7]-Y*V*k,D[8]-P*I*k,D[9]-P*Y*k,D[10]-P*P*k,D[11]-P*V*k,D[12]-V*I*k,D[13]-V*Y*k,D[14]-V*P*k,D[15]-V*V*k],te=A,Z=H;let R=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,Q=0;if(B!=0)for(let X=0;X<16&&(R=Z.multVec(te,R),Q=Math.sqrt(Z.dot(R,R)),R=Z.sml(1/Q,R),!(X!=0&&Math.abs(Q-q)<1e-9));X++)q=Q;const U=[I*k,Y*k,P*k,V*k];return{Cov:A,q:U,e:R,L:q,eMq255:Z.dot(Z.sml(255,U),R),eMq:Z.dot(R,U),rgba:(Math.round(255*U[3])<<24|Math.round(255*U[2])<<16|Math.round(255*U[1])<<8|Math.round(255*U[0])<<0)>>>0}}var H={multVec:(C,D)=>[C[0]*D[0]+C[1]*D[1]+C[2]*D[2]+C[3]*D[3],C[4]*D[0]+C[5]*D[1]+C[6]*D[2]+C[7]*D[3],C[8]*D[0]+C[9]*D[1]+C[10]*D[2]+C[11]*D[3],C[12]*D[0]+C[13]*D[1]+C[14]*D[2]+C[15]*D[3]],dot:(C,D)=>C[0]*D[0]+C[1]*D[1]+C[2]*D[2]+C[3]*D[3],sml:(C,D)=>[C*D[0],C*D[1],C*D[2],C*D[3]]};Vn.encode=function(D,F,B,I,Y,P,V){I==null&&(I=0),V==null&&(V=!1);const k=m(D,F,B,I,[!1,!1,!1,0,V,!1]);return p(k,-1),d(k,F,B,Y,P)},Vn.encodeLL=function(D,F,B,I,Y,P,V,k){const A={ctype:0+(I==1?0:2)+(Y==0?0:4),depth:P,frames:[]},te=(I+Y)*P,Z=te*F;for(let R=0;R<D.length;R++)A.frames.push({rect:{x:0,y:0,width:F,height:B},img:new Uint8Array(D[R]),blend:0,dispose:1,bpp:Math.ceil(te/8),bpl:Math.ceil(Z/8)});return p(A,0,!0),d(A,F,B,V,k)},Vn.encode.compress=m,Vn.encode.dither=f,Vn.quantize=S,Vn.quantize.getKDtree=E,Vn.quantize.getNearest=j})();const Bv={toArrayBuffer(n,t){const i=n.width,a=n.height,l=i<<2,o=n.getContext("2d").getImageData(0,0,i,a),c=new Uint32Array(o.data.buffer),f=(32*i+31)/32<<2,d=f*a,p=122+d,m=new ArrayBuffer(p),g=new DataView(m),v=1<<20;let x,w,S,E,j=v,z=0,N=0,M=0;function $(C){g.setUint16(N,C,!0),N+=2}function T(C){g.setUint32(N,C,!0),N+=4}function H(C){N+=C}$(19778),T(p),H(4),T(122),T(108),T(i),T(-a>>>0),$(1),$(32),T(3),T(d),T(2835),T(2835),H(8),T(16711680),T(65280),T(255),T(4278190080),T(1466527264),(function C(){for(;z<a&&j>0;){for(E=122+z*f,x=0;x<l;)j--,w=c[M++],S=w>>>24,g.setUint32(E+x,w<<8|S),x+=4;z++}M<c.length?(j=v,setTimeout(C,Bv._dly)):t(m)})()},toBlob(n,t){this.toArrayBuffer(n,(i=>{t(new Blob([i],{type:"image/bmp"}))}))},_dly:9};var sn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},hE={[sn.CHROME]:16384,[sn.FIREFOX]:11180,[sn.DESKTOP_SAFARI]:16384,[sn.IE]:8192,[sn.IOS]:4096,[sn.ETC]:8192};const Dd=typeof window<"u",Iv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Io=Dd&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),mE=(Dd||Iv)&&(Io&&Io.getOriginalSymbol(window,"File")||typeof File<"u"&&File),qv=(Dd||Iv)&&(Io&&Io.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function zd(n,t,i=Date.now()){return new Promise((a=>{const l=n.split(","),o=l[0].match(/:(.*?);/)[1],c=globalThis.atob(l[1]);let f=c.length;const d=new Uint8Array(f);for(;f--;)d[f]=c.charCodeAt(f);const p=new Blob([d],{type:o});p.name=t,p.lastModified=i,a(p)}))}function Pv(n){return new Promise(((t,i)=>{const a=new qv;a.onload=()=>t(a.result),a.onerror=l=>i(l),a.readAsDataURL(n)}))}function Hv(n){return new Promise(((t,i)=>{const a=new Image;a.onload=()=>t(a),a.onerror=l=>i(l),a.src=n}))}function Ai(){if(Ai.cachedResult!==void 0)return Ai.cachedResult;let n=sn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?n=sn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?n=sn.IOS:/Safari/i.test(t)?n=sn.DESKTOP_SAFARI:/Firefox/i.test(t)?n=sn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(n=sn.IE),Ai.cachedResult=n,Ai.cachedResult}function $v(n,t){const i=Ai(),a=hE[i];let l=n,o=t,c=l*o;const f=l>o?o/l:l/o;for(;c>a*a;){const d=(a+l)/2,p=(a+o)/2;d<p?(o=p,l=p*f):(o=d*f,l=d),c=l*o}return{width:l,height:o}}function Qo(n,t){let i,a;try{if(i=new OffscreenCanvas(n,t),a=i.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),a=i.getContext("2d")}return i.width=n,i.height=t,[i,a]}function Fv(n,t){const{width:i,height:a}=$v(n.width,n.height),[l,o]=Qo(i,a);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,l.width,l.height)),o.drawImage(n,0,0,l.width,l.height),l}function No(){return No.cachedResult!==void 0||(No.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),No.cachedResult}function qo(n,t={}){return new Promise((function(i,a){let l,o;var c=function(){try{return o=Fv(l,t.fileType||n.type),i([l,o])}catch(d){return a(d)}},f=function(d){try{var p=function(m){try{throw m}catch(g){return a(g)}};try{let m;return Pv(n).then((function(g){try{return m=g,Hv(m).then((function(v){try{return l=v,(function(){try{return c()}catch(x){return a(x)}})()}catch(x){return p(x)}}),p)}catch(v){return p(v)}}),p)}catch(m){p(m)}}catch(m){return a(m)}};try{if(No()||[sn.DESKTOP_SAFARI,sn.MOBILE_SAFARI].includes(Ai()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then((function(d){try{return l=d,c()}catch{return f()}}),f)}catch{f()}}))}function Po(n,t,i,a,l=1){return new Promise((function(o,c){let f;if(t==="image/png"){let g,v,x;return g=n.getContext("2d"),{data:v}=g.getImageData(0,0,n.width,n.height),x=Vn.encode([v.buffer],n.width,n.height,4096*l),f=new Blob([x],{type:t}),f.name=i,f.lastModified=a,d.call(this)}{let g=function(){return d.call(this)};var p=g;if(t==="image/bmp")return new Promise((v=>Bv.toBlob(n,v))).then((function(v){try{return f=v,f.name=i,f.lastModified=a,g.call(this)}catch(x){return c(x)}}).bind(this),c);{let v=function(){return g.call(this)};var m=v;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:t,quality:l}).then((function(x){try{return f=x,f.name=i,f.lastModified=a,v.call(this)}catch(w){return c(w)}}).bind(this),c);{let x;return x=n.toDataURL(t,l),zd(x,i,a).then((function(w){try{return f=w,v.call(this)}catch(S){return c(S)}}).bind(this),c)}}}function d(){return o(f)}}))}function nr(n){n.width=0,n.height=0}function ja(){return new Promise((function(n,t){let i,a,l,o;return ja.cachedResult!==void 0?n(ja.cachedResult):zd("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(c){try{return i=c,qo(i).then((function(f){try{return a=f[1],Po(a,i.type,i.name,i.lastModified).then((function(d){try{return l=d,nr(a),qo(l).then((function(p){try{return o=p[0],ja.cachedResult=o.width===1&&o.height===2,n(ja.cachedResult)}catch(m){return t(m)}}),t)}catch(p){return t(p)}}),t)}catch(d){return t(d)}}),t)}catch(f){return t(f)}}),t)}))}function Vv(n){return new Promise(((t,i)=>{const a=new qv;a.onload=l=>{const o=new DataView(l.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const c=o.byteLength;let f=2;for(;f<c;){if(o.getUint16(f+2,!1)<=8)return t(-1);const d=o.getUint16(f,!1);if(f+=2,d==65505){if(o.getUint32(f+=2,!1)!=1165519206)return t(-1);const p=o.getUint16(f+=6,!1)==18761;f+=o.getUint32(f+4,p);const m=o.getUint16(f,p);f+=2;for(let g=0;g<m;g++)if(o.getUint16(f+12*g,p)==274)return t(o.getUint16(f+12*g+8,p))}else{if((65280&d)!=65280)break;f+=o.getUint16(f,!1)}}return t(-1)},a.onerror=l=>i(l),a.readAsArrayBuffer(n)}))}function Gv(n,t){const{width:i}=n,{height:a}=n,{maxWidthOrHeight:l}=t;let o,c=n;return isFinite(l)&&(i>l||a>l)&&([c,o]=Qo(i,a),i>a?(c.width=l,c.height=a/i*l):(c.width=i/a*l,c.height=l),o.drawImage(n,0,0,c.width,c.height),nr(n)),c}function Yv(n,t){const{width:i}=n,{height:a}=n,[l,o]=Qo(i,a);switch(t>4&&t<9?(l.width=a,l.height=i):(l.width=i,l.height=a),t){case 2:o.transform(-1,0,0,1,i,0);break;case 3:o.transform(-1,0,0,-1,i,a);break;case 4:o.transform(1,0,0,-1,0,a);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,a,0);break;case 7:o.transform(0,-1,-1,0,a,i);break;case 8:o.transform(0,-1,1,0,0,i)}return o.drawImage(n,0,0,i,a),nr(n),l}function Iy(n,t,i=0){return new Promise((function(a,l){let o,c,f,d,p,m,g,v,x,w,S,E,j,z,N,M,$,T,H,C;function D(B=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=B,t.onProgress(Math.min(o,100))}function F(B){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(B,o),100),t.onProgress(o)}return o=i,c=t.maxIteration||10,f=1024*t.maxSizeMB*1024,D(),qo(n,t).then((function(B){try{return[,d]=B,D(),p=Gv(d,t),D(),new Promise((function(I,Y){var P;if(!(P=t.exifOrientation))return Vv(n).then((function(k){try{return P=k,V.call(this)}catch(A){return Y(A)}}).bind(this),Y);function V(){return I(P)}return V.call(this)})).then((function(I){try{return m=I,D(),ja().then((function(Y){try{return g=Y?p:Yv(p,m),D(),v=t.initialQuality||1,x=t.fileType||n.type,Po(g,x,n.name,n.lastModified,v).then((function(P){try{{let te=function(){if(c--&&(N>f||N>j)){let R,q;return R=C?.95*H.width:H.width,q=C?.95*H.height:H.height,[$,T]=Qo(R,q),T.drawImage(H,0,0,R,q),v*=x==="image/png"?.85:.95,Po($,x,n.name,n.lastModified,v).then((function(Q){try{return M=Q,nr(H),H=$,N=M.size,F(Math.min(99,Math.floor((z-N)/(z-f)*100))),te}catch(U){return l(U)}}),l)}return[1]},Z=function(){return nr(H),nr($),nr(p),nr(g),nr(d),F(100),a(M)};var k=te,A=Z;if(w=P,D(),S=w.size>f,E=w.size>n.size,!S&&!E)return F(100),a(w);var V;return j=n.size,z=w.size,N=z,H=g,C=!t.alwaysKeepResolution&&S,(V=(function(R){for(;R;){if(R.then)return void R.then(V,l);try{if(R.pop){if(R.length)return R.pop()?Z.call(this):R;R=te}else R=R.call(this)}catch(q){return l(q)}}}).bind(this))(te)}}catch(te){return l(te)}}).bind(this),l)}catch(P){return l(P)}}).bind(this),l)}catch(Y){return l(Y)}}).bind(this),l)}catch(I){return l(I)}}).bind(this),l)}))}const pE=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Tf;function gE(n,t){return new Promise(((i,a)=>{Tf||(Tf=(function(c){const f=[];return f.push(c),URL.createObjectURL(new Blob(f))})(pE));const l=new Worker(Tf);l.addEventListener("message",(function(c){if(t.signal&&t.signal.aborted)l.terminate();else if(c.data.progress===void 0){if(c.data.error)return a(new Error(c.data.error)),void l.terminate();i(c.data.file),l.terminate()}else t.onProgress(c.data.progress)})),l.addEventListener("error",a),t.signal&&t.signal.addEventListener("abort",(()=>{a(t.signal.reason),l.terminate()})),l.postMessage({file:n,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function Yt(n,t){return new Promise((function(i,a){let l,o,c,f,d,p;if(l={...t},c=0,{onProgress:f}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=x=>{c=x,typeof f=="function"&&f(c)},!(n instanceof Blob||n instanceof mE))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return a(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||p)return Iy(n,l).then((function(x){try{return o=x,v.call(this)}catch(w){return a(w)}}).bind(this),a);var m=(function(){try{return v.call(this)}catch(x){return a(x)}}).bind(this),g=function(x){try{return Iy(n,l).then((function(w){try{return o=w,m()}catch(S){return a(S)}}),a)}catch(w){return a(w)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",gE(n,l).then((function(x){try{return o=x,m()}catch{return g()}}),g)}catch{g()}function v(){try{o.name=n.name,o.lastModified=n.lastModified}catch{}try{l.preserveExif&&n.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===n.type)&&(o=Mv(n,o))}catch{}return i(o)}}))}Yt.getDataUrlFromFile=Pv,Yt.getFilefromDataUrl=zd,Yt.loadImage=Hv,Yt.drawImageInCanvas=Fv,Yt.drawFileInCanvas=qo,Yt.canvasToFile=Po,Yt.getExifOrientation=Vv,Yt.handleMaxWidthOrHeight=Gv,Yt.followExifOrientation=Yv,Yt.cleanupCanvasMemory=nr,Yt.isAutoOrientationInBrowser=ja,Yt.approximateBelowMaximumCanvasSizeOfBrowser=$v,Yt.copyExifWithoutOrientation=Mv,Yt.getBrowserName=Ai,Yt.version="2.0.2";async function Kv(n){return await Yt(n,{maxWidthOrHeight:1500,maxSizeMB:.4,useWebWorker:!0})}async function Qv(n,t){const i=await Kv(n),a=n.name.split(".").pop()??"jpg",l=`${t}/${Date.now()}.${a}`,{error:o}=await he.storage.from("images").upload(l,i,{upsert:!0});if(o)throw o;return l}async function Ld(n){const{error:t}=await he.storage.from("images").remove([n]);if(t)throw t}function Md(n,t=800){if(!n)return;const{data:i}=he.storage.from("images").getPublicUrl(n,{transform:{width:t,quality:80,format:"origin"}});return i.publicUrl}function Bd(n,t=300){if(!n)return;const{data:i}=he.storage.from("images").getPublicUrl(n,{transform:{width:t,quality:80,format:"origin"}});return i.publicUrl}function yE(){const n=on(),[t,i]=L.useState(null),[a,l]=L.useState(!0),[o,c]=L.useState(!1),[f,d]=L.useState(!1),[p,m]=L.useState(null),[g,v]=L.useState(null),[x,w]=L.useState(""),[S,E]=L.useState(""),[j,z]=L.useState(""),[N,M]=L.useState(null),[$,T]=L.useState(null);L.useEffect(()=>{let F=!1;return(async()=>{const{data:B}=await he.auth.getUser();if(!B.user){F||m("You must be logged in to edit your profile.");return}const{data:I,error:Y}=await he.from("profiles").select("*").eq("auth_id",B.user.id).maybeSingle();if(!F){if(Y){m(Y.message);return}i(I),w(I?.first_name??""),E(I?.last_name??""),z(I?.bio??""),T(I?.profile_picture_url??null),l(!1)}})(),()=>{F=!0}},[]);async function H(F){const B=F.target.files?.[0];if(!B)return;if(!B.type.startsWith("image/")){m("Please upload a valid image file.");return}M(B);try{if(d(!0),m(null),$)try{await Ld($)}catch(P){console.warn("Could not delete old profile image:",P)}const Y=await Qv(B,"profiles");T(Y),v("Image uploaded successfully!")}catch(Y){m(Y.message||"Failed to upload image.")}finally{d(!1)}}async function C(F){if(F.preventDefault(),!t)return;m(null),v(null),c(!0);const{error:B}=await he.from("profiles").update({first_name:x.trim()||null,last_name:S.trim()||null,bio:j.trim()||null,profile_picture_url:$}).eq("auth_id",t.auth_id);c(!1),B?m(B.message):(v("Profile updated successfully!"),n(`/profile/${t.username}`))}const D=N?URL.createObjectURL(N):$?Bd($):null;return a?b.jsx(ar,{message:"Fetching User To Edit..."}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-amber-50 px-4",children:b.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white p-6 sm:p-8 shadow-xl font-body",children:[b.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Edit Profile"}),g&&b.jsx("div",{className:"mb-3 rounded-lg bg-main/10 px-3 py-2 text-sm text-main",children:g}),p&&b.jsx("div",{className:"mb-3 rounded-lg bg-main/10 px-3 py-2 text-sm text-danger",children:p}),b.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2 sm:col-span-2 flex flex-col items-center",children:[b.jsx("label",{className:"text-lg font-heading text-dark",children:"Profile Picture"}),b.jsxs("div",{className:"relative",children:[D?b.jsx("img",{src:D,alt:"Profile preview",className:"w-32 h-32 rounded-full object-cover border-4 border-main/20"}):b.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm",children:"No image"}),f&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full",children:b.jsx("span",{className:"text-white text-sm",children:"Uploading"})})]}),b.jsx("input",{id:"profile_image",type:"file",accept:"image/*",onChange:H,disabled:f,className:"mt-2 text-sm text-gray-600 file:mr-3 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-main file:text-white file:cursor-pointer hover:file:bg-main/90 disabled:opacity-50"})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"first_name",className:"text-lg font-heading text-dark",children:"First name"}),b.jsx("input",{id:"first_name",type:"text",value:x,onChange:F=>w(F.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-amber-50 focus:ring-2 focus:ring-main transition"})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"last_name",className:"text-lg font-heading text-dark",children:"Last name"}),b.jsx("input",{id:"last_name",type:"text",value:S,onChange:F=>E(F.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-amber-50 focus:ring-2 focus:ring-main transition"})]}),b.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[b.jsx("label",{htmlFor:"bio",className:"text-lg font-heading text-dark",children:"Bio"}),b.jsx("textarea",{id:"bio",rows:4,value:j,onChange:F=>z(F.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-amber-50 focus:ring-2 focus:ring-main transition",placeholder:"Tell us about your cooking style..."})]}),b.jsxs("div",{className:"sm:col-span-2 flex justify-between items-center mt-4",children:[b.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-gray-700 underline underline-offset-4 hover:text-black",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:o||f,className:"rounded-lg bg-secondary px-4 py-2.5 text-white font-medium hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 transition",children:o?"Saving":"Save changes"})]})]})]})})}function vE(n,t){const i={};return(n[n.length-1]===""?[...n,""]:n).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const bE=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xE=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wE={};function qy(n,t){return(wE.jsx?xE:bE).test(n)}const _E=/[ \t\n\f\r]/g;function SE(n){return typeof n=="object"?n.type==="text"?Py(n.value):!1:Py(n)}function Py(n){return n.replace(_E,"")===""}class Xs{constructor(t,i,a){this.normal=i,this.property=t,a&&(this.space=a)}}Xs.prototype.normal={};Xs.prototype.property={};Xs.prototype.space=void 0;function Xv(n,t){const i={},a={};for(const l of n)Object.assign(i,l.property),Object.assign(a,l.normal);return new Xs(i,a,t)}function ld(n){return n.toLowerCase()}class un{constructor(t,i){this.attribute=i,this.property=t}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let EE=0;const Ue=Ti(),Ct=Ti(),od=Ti(),de=Ti(),rt=Ti(),Aa=Ti(),bn=Ti();function Ti(){return 2**++EE}const ud=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ue,booleanish:Ct,commaOrSpaceSeparated:bn,commaSeparated:Aa,number:de,overloadedBoolean:od,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),Nf=Object.keys(ud);class Id extends un{constructor(t,i,a,l){let o=-1;if(super(t,i),Hy(this,"space",l),typeof a=="number")for(;++o<Nf.length;){const c=Nf[o];Hy(this,Nf[o],(a&ud[c])===ud[c])}}}Id.prototype.defined=!0;function Hy(n,t,i){i&&(n[t]=i)}function za(n){const t={},i={};for(const[a,l]of Object.entries(n.properties)){const o=new Id(a,n.transform(n.attributes||{},a),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(a)&&(o.mustUseProperty=!0),t[a]=o,i[ld(a)]=a,i[ld(o.attribute)]=a}return new Xs(t,i,n.space)}const Jv=za({properties:{ariaActiveDescendant:null,ariaAtomic:Ct,ariaAutoComplete:null,ariaBusy:Ct,ariaChecked:Ct,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:Ct,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:Ct,ariaFlowTo:rt,ariaGrabbed:Ct,ariaHasPopup:null,ariaHidden:Ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:de,ariaLive:null,ariaModal:Ct,ariaMultiLine:Ct,ariaMultiSelectable:Ct,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:Ct,ariaReadOnly:Ct,ariaRelevant:null,ariaRequired:Ct,ariaRoleDescription:rt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:Ct,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Zv(n,t){return t in n?n[t]:t}function Wv(n,t){return Zv(n,t.toLowerCase())}const jE=za({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Aa,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Ue,allowPaymentRequest:Ue,allowUserMedia:Ue,alt:null,as:null,async:Ue,autoCapitalize:null,autoComplete:rt,autoFocus:Ue,autoPlay:Ue,blocking:rt,capture:null,charSet:null,checked:Ue,cite:null,className:rt,cols:de,colSpan:null,content:null,contentEditable:Ct,controls:Ue,controlsList:rt,coords:de|Aa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ue,defer:Ue,dir:null,dirName:null,disabled:Ue,download:od,draggable:Ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ue,formTarget:null,headers:rt,height:de,hidden:od,high:de,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Ue,inputMode:null,integrity:null,is:null,isMap:Ue,itemId:null,itemProp:rt,itemRef:rt,itemScope:Ue,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ue,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Ue,muted:Ue,name:null,nonce:null,noModule:Ue,noValidate:Ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ue,optimum:de,pattern:null,ping:rt,placeholder:null,playsInline:Ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ue,referrerPolicy:null,rel:rt,required:Ue,reversed:Ue,rows:de,rowSpan:de,sandbox:rt,scope:null,scoped:Ue,seamless:Ue,selected:Ue,shadowRootClonable:Ue,shadowRootDelegatesFocus:Ue,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:Ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Ue,useMap:null,value:Ct,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ue,declare:Ue,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Ue,noHref:Ue,noShade:Ue,noWrap:Ue,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:Ct,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ue,disableRemotePlayback:Ue,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:Wv}),kE=za({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Aa,g2:Aa,glyphName:Aa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Zv}),eb=za({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),tb=za({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Wv}),nb=za({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),AE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},TE=/[A-Z]/g,$y=/-[a-z]/g,NE=/^data[-\w.:]+$/i;function CE(n,t){const i=ld(t);let a=t,l=un;if(i in n.normal)return n.property[n.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&NE.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace($y,OE);a="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!$y.test(o)){let c=o.replace(TE,RE);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}l=Id}return new l(a,t)}function RE(n){return"-"+n.toLowerCase()}function OE(n){return n.charAt(1).toUpperCase()}const UE=Xv([Jv,jE,eb,tb,nb],"html"),qd=Xv([Jv,kE,eb,tb,nb],"svg");function DE(n){return n.join(" ").trim()}var ba={},Cf,Fy;function zE(){if(Fy)return Cf;Fy=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,d=`
`,p="/",m="*",g="",v="comment",x="declaration";function w(E,j){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];j=j||{};var z=1,N=1;function M(P){var V=P.match(t);V&&(z+=V.length);var k=P.lastIndexOf(d);N=~k?P.length-k:N+P.length}function $(){var P={line:z,column:N};return function(V){return V.position=new T(P),D(),V}}function T(P){this.start=P,this.end={line:z,column:N},this.source=j.source}T.prototype.content=E;function H(P){var V=new Error(j.source+":"+z+":"+N+": "+P);if(V.reason=P,V.filename=j.source,V.line=z,V.column=N,V.source=E,!j.silent)throw V}function C(P){var V=P.exec(E);if(V){var k=V[0];return M(k),E=E.slice(k.length),V}}function D(){C(i)}function F(P){var V;for(P=P||[];V=B();)V!==!1&&P.push(V);return P}function B(){var P=$();if(!(p!=E.charAt(0)||m!=E.charAt(1))){for(var V=2;g!=E.charAt(V)&&(m!=E.charAt(V)||p!=E.charAt(V+1));)++V;if(V+=2,g===E.charAt(V-1))return H("End of comment missing");var k=E.slice(2,V-2);return N+=2,M(k),E=E.slice(V),N+=2,P({type:v,comment:k})}}function I(){var P=$(),V=C(a);if(V){if(B(),!C(l))return H("property missing ':'");var k=C(o),A=P({type:x,property:S(V[0].replace(n,g)),value:k?S(k[0].replace(n,g)):g});return C(c),A}}function Y(){var P=[];F(P);for(var V;V=I();)V!==!1&&(P.push(V),F(P));return P}return D(),Y()}function S(E){return E?E.replace(f,g):g}return Cf=w,Cf}var Vy;function LE(){if(Vy)return ba;Vy=1;var n=ba&&ba.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ba,"__esModule",{value:!0}),ba.default=i;const t=n(zE());function i(a,l){let o=null;if(!a||typeof a!="string")return o;const c=(0,t.default)(a),f=typeof l=="function";return c.forEach(d=>{if(d.type!=="declaration")return;const{property:p,value:m}=d;f?l(p,m,d):m&&(o=o||{},o[p]=m)}),o}return ba}var Rs={},Gy;function ME(){if(Gy)return Rs;Gy=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(p){return!p||i.test(p)||n.test(p)},c=function(p,m){return m.toUpperCase()},f=function(p,m){return"".concat(m,"-")},d=function(p,m){return m===void 0&&(m={}),o(p)?p:(p=p.toLowerCase(),m.reactCompat?p=p.replace(l,f):p=p.replace(a,f),p.replace(t,c))};return Rs.camelCase=d,Rs}var Os,Yy;function BE(){if(Yy)return Os;Yy=1;var n=Os&&Os.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},t=n(LE()),i=ME();function a(l,o){var c={};return!l||typeof l!="string"||(0,t.default)(l,function(f,d){f&&d&&(c[(0,i.camelCase)(f,o)]=d)}),c}return a.default=a,Os=a,Os}var IE=BE();const qE=Gs(IE),rb=ib("end"),Pd=ib("start");function ib(n){return t;function t(i){const a=i&&i.position&&i.position[n]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function PE(n){const t=Pd(n),i=rb(n);if(t&&i)return{start:t,end:i}}function Bs(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Ky(n.position):"start"in n||"end"in n?Ky(n):"line"in n||"column"in n?cd(n):""}function cd(n){return Qy(n&&n.line)+":"+Qy(n&&n.column)}function Ky(n){return cd(n&&n.start)+"-"+cd(n&&n.end)}function Qy(n){return n&&typeof n=="number"?n:1}class Kt extends Error{constructor(t,i,a){super(),typeof i=="string"&&(a=i,i=void 0);let l="",o={},c=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof t=="string"?l=t:!o.cause&&t&&(c=!0,l=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof a=="string"){const d=a.indexOf(":");d===-1?o.ruleId=a:(o.source=a.slice(0,d),o.ruleId=a.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const f=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=f?f.line:void 0,this.name=Bs(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Kt.prototype.file="";Kt.prototype.name="";Kt.prototype.reason="";Kt.prototype.message="";Kt.prototype.stack="";Kt.prototype.column=void 0;Kt.prototype.line=void 0;Kt.prototype.ancestors=void 0;Kt.prototype.cause=void 0;Kt.prototype.fatal=void 0;Kt.prototype.place=void 0;Kt.prototype.ruleId=void 0;Kt.prototype.source=void 0;const Hd={}.hasOwnProperty,HE=new Map,$E=/[A-Z]/g,FE=new Set(["table","tbody","thead","tfoot","tr"]),VE=new Set(["td","th"]),ab="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function GE(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=ej(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=WE(i,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?qd:UE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=sb(l,n,void 0);return o&&typeof o!="string"?o:l.create(n,l.Fragment,{children:o||void 0},void 0)}function sb(n,t,i){if(t.type==="element")return YE(n,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return KE(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return XE(n,t,i);if(t.type==="mdxjsEsm")return QE(n,t);if(t.type==="root")return JE(n,t,i);if(t.type==="text")return ZE(n,t)}function YE(n,t,i){const a=n.schema;let l=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(l=qd,n.schema=l),n.ancestors.push(t);const o=ob(n,t.tagName,!1),c=tj(n,t);let f=Fd(n,t);return FE.has(t.tagName)&&(f=f.filter(function(d){return typeof d=="string"?!SE(d):!0})),lb(n,c,o,t),$d(c,f),n.ancestors.pop(),n.schema=a,n.create(t,o,c,i)}function KE(n,t){if(t.data&&t.data.estree&&n.evaluater){const a=t.data.estree.body[0];return a.type,n.evaluater.evaluateExpression(a.expression)}Vs(n,t.position)}function QE(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);Vs(n,t.position)}function XE(n,t,i){const a=n.schema;let l=a;t.name==="svg"&&a.space==="html"&&(l=qd,n.schema=l),n.ancestors.push(t);const o=t.name===null?n.Fragment:ob(n,t.name,!0),c=nj(n,t),f=Fd(n,t);return lb(n,c,o,t),$d(c,f),n.ancestors.pop(),n.schema=a,n.create(t,o,c,i)}function JE(n,t,i){const a={};return $d(a,Fd(n,t)),n.create(t,n.Fragment,a,i)}function ZE(n,t){return t.value}function lb(n,t,i,a){typeof i!="string"&&i!==n.Fragment&&n.passNode&&(t.node=a)}function $d(n,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(n.children=i)}}function WE(n,t,i){return a;function a(l,o,c,f){const p=Array.isArray(c.children)?i:t;return f?p(o,c,f):p(o,c)}}function ej(n,t){return i;function i(a,l,o,c){const f=Array.isArray(o.children),d=Pd(a);return t(l,o,c,f,{columnNumber:d?d.column-1:void 0,fileName:n,lineNumber:d?d.line:void 0},void 0)}}function tj(n,t){const i={};let a,l;for(l in t.properties)if(l!=="children"&&Hd.call(t.properties,l)){const o=rj(n,l,t.properties[l]);if(o){const[c,f]=o;n.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&VE.has(t.tagName)?a=f:i[c]=f}}if(a){const o=i.style||(i.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return i}function nj(n,t){const i={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&n.evaluater){const o=a.data.estree.body[0];o.type;const c=o.expression;c.type;const f=c.properties[0];f.type,Object.assign(i,n.evaluater.evaluateExpression(f.argument))}else Vs(n,t.position);else{const l=a.name;let o;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&n.evaluater){const f=a.value.data.estree.body[0];f.type,o=n.evaluater.evaluateExpression(f.expression)}else Vs(n,t.position);else o=a.value===null?!0:a.value;i[l]=o}return i}function Fd(n,t){const i=[];let a=-1;const l=n.passKeys?new Map:HE;for(;++a<t.children.length;){const o=t.children[a];let c;if(n.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const p=l.get(d)||0;c=d+"-"+p,l.set(d,p+1)}}const f=sb(n,o,c);f!==void 0&&i.push(f)}return i}function rj(n,t,i){const a=CE(n.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=a.commaSeparated?vE(i):DE(i)),a.property==="style"){let l=typeof i=="object"?i:ij(n,String(i));return n.stylePropertyNameCase==="css"&&(l=aj(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&a.space?AE[a.property]||a.property:a.attribute,i]}}function ij(n,t){try{return qE(t,{reactCompat:!0})}catch(i){if(n.ignoreInvalidStyle)return{};const a=i,l=new Kt("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=ab+"#cannot-parse-style-attribute",l}}function ob(n,t,i){let a;if(!i)a={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let o=-1,c;for(;++o<l.length;){const f=qy(l[o])?{type:"Identifier",name:l[o]}:{type:"Literal",value:l[o]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(o&&f.type==="Literal"),optional:!1}:f}a=c}else a=qy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const l=a.value;return Hd.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(a);Vs(n)}function Vs(n,t){const i=new Kt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=n.filePath||void 0,i.url=ab+"#cannot-handle-mdx-estrees-without-createevaluater",i}function aj(n){const t={};let i;for(i in n)Hd.call(n,i)&&(t[sj(i)]=n[i]);return t}function sj(n){let t=n.replace($E,lj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lj(n){return"-"+n.toLowerCase()}const Rf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oj={};function uj(n,t){const i=oj,a=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return ub(n,a,l)}function ub(n,t,i){if(cj(n)){if("value"in n)return n.type==="html"&&!i?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Xy(n.children,t,i)}return Array.isArray(n)?Xy(n,t,i):""}function Xy(n,t,i){const a=[];let l=-1;for(;++l<n.length;)a[l]=ub(n[l],t,i);return a.join("")}function cj(n){return!!(n&&typeof n=="object")}const Jy=document.createElement("i");function Vd(n){const t="&"+n+";";Jy.innerHTML=t;const i=Jy.textContent;return i.charCodeAt(i.length-1)===59&&n!=="semi"||i===t?!1:i}function ir(n,t,i,a){const l=n.length;let o=0,c;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,i=i>0?i:0,a.length<1e4)c=Array.from(a),c.unshift(t,i),n.splice(...c);else for(i&&n.splice(t,i);o<a.length;)c=a.slice(o,o+1e4),c.unshift(t,0),n.splice(...c),o+=1e4,t+=1e4}function zn(n,t){return n.length>0?(ir(n,n.length,0,t),n):t}const Zy={}.hasOwnProperty;function fj(n){const t={};let i=-1;for(;++i<n.length;)dj(t,n[i]);return t}function dj(n,t){let i;for(i in t){const l=(Zy.call(n,i)?n[i]:void 0)||(n[i]={}),o=t[i];let c;if(o)for(c in o){Zy.call(l,c)||(l[c]=[]);const f=o[c];hj(l[c],Array.isArray(f)?f:f?[f]:[])}}}function hj(n,t){let i=-1;const a=[];for(;++i<t.length;)(t[i].add==="after"?n:a).push(t[i]);ir(n,0,0,a)}function cb(n,t){const i=Number.parseInt(n,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Ta(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rr=ni(/[A-Za-z]/),_n=ni(/[\dA-Za-z]/),mj=ni(/[#-'*+\--9=?A-Z^-~]/);function fd(n){return n!==null&&(n<32||n===127)}const dd=ni(/\d/),pj=ni(/[\dA-Fa-f]/),gj=ni(/[!-/:-@[-`{-~]/);function je(n){return n!==null&&n<-2}function ln(n){return n!==null&&(n<0||n===32)}function Fe(n){return n===-2||n===-1||n===32}const yj=ni(new RegExp("\\p{P}|\\p{S}","u")),vj=ni(/\s/);function ni(n){return t;function t(i){return i!==null&&i>-1&&n.test(String.fromCharCode(i))}}function La(n){const t=[];let i=-1,a=0,l=0;for(;++i<n.length;){const o=n.charCodeAt(i);let c="";if(o===37&&_n(n.charCodeAt(i+1))&&_n(n.charCodeAt(i+2)))l=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const f=n.charCodeAt(i+1);o<56320&&f>56319&&f<57344?(c=String.fromCharCode(o,f),l=1):c=""}else c=String.fromCharCode(o);c&&(t.push(n.slice(a,i),encodeURIComponent(c)),a=i+l+1,c=""),l&&(i+=l,l=0)}return t.join("")+n.slice(a)}function it(n,t,i,a){const l=a?a-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(d){return Fe(d)?(n.enter(i),f(d)):t(d)}function f(d){return Fe(d)&&o++<l?(n.consume(d),f):(n.exit(i),t(d))}}const bj={tokenize:xj};function xj(n){const t=n.attempt(this.parser.constructs.contentInitial,a,l);let i;return t;function a(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),it(n,t,"linePrefix")}function l(f){return n.enter("paragraph"),o(f)}function o(f){const d=n.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=d),i=d,c(f)}function c(f){if(f===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(f);return}return je(f)?(n.consume(f),n.exit("chunkText"),o):(n.consume(f),c)}}const wj={tokenize:_j},Wy={tokenize:Sj};function _j(n){const t=this,i=[];let a=0,l,o,c;return f;function f(N){if(a<i.length){const M=i[a];return t.containerState=M[1],n.attempt(M[0].continuation,d,p)(N)}return p(N)}function d(N){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&z();const M=t.events.length;let $=M,T;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){T=t.events[$][1].end;break}j(a);let H=M;for(;H<t.events.length;)t.events[H][1].end={...T},H++;return ir(t.events,$+1,0,t.events.slice(M)),t.events.length=H,p(N)}return f(N)}function p(N){if(a===i.length){if(!l)return v(N);if(l.currentConstruct&&l.currentConstruct.concrete)return w(N);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(Wy,m,g)(N)}function m(N){return l&&z(),j(a),v(N)}function g(N){return t.parser.lazy[t.now().line]=a!==i.length,c=t.now().offset,w(N)}function v(N){return t.containerState={},n.attempt(Wy,x,w)(N)}function x(N){return a++,i.push([t.currentConstruct,t.containerState]),v(N)}function w(N){if(N===null){l&&z(),j(0),n.consume(N);return}return l=l||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:o}),S(N)}function S(N){if(N===null){E(n.exit("chunkFlow"),!0),j(0),n.consume(N);return}return je(N)?(n.consume(N),E(n.exit("chunkFlow")),a=0,t.interrupt=void 0,f):(n.consume(N),S)}function E(N,M){const $=t.sliceStream(N);if(M&&$.push(null),N.previous=o,o&&(o.next=N),o=N,l.defineSkip(N.start),l.write($),t.parser.lazy[N.start.line]){let T=l.events.length;for(;T--;)if(l.events[T][1].start.offset<c&&(!l.events[T][1].end||l.events[T][1].end.offset>c))return;const H=t.events.length;let C=H,D,F;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(D){F=t.events[C][1].end;break}D=!0}for(j(a),T=H;T<t.events.length;)t.events[T][1].end={...F},T++;ir(t.events,C+1,0,t.events.slice(H)),t.events.length=T}}function j(N){let M=i.length;for(;M-- >N;){const $=i[M];t.containerState=$[1],$[0].exit.call(t,n)}i.length=N}function z(){l.write([null]),o=void 0,l=void 0,t.containerState._closeFlow=void 0}}function Sj(n,t,i){return it(n,n.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function e0(n){if(n===null||ln(n)||vj(n))return 1;if(yj(n))return 2}function Gd(n,t,i){const a=[];let l=-1;for(;++l<n.length;){const o=n[l].resolveAll;o&&!a.includes(o)&&(t=o(t,i),a.push(o))}return t}const hd={name:"attention",resolveAll:Ej,tokenize:jj};function Ej(n,t){let i=-1,a,l,o,c,f,d,p,m;for(;++i<n.length;)if(n[i][0]==="enter"&&n[i][1].type==="attentionSequence"&&n[i][1]._close){for(a=i;a--;)if(n[a][0]==="exit"&&n[a][1].type==="attentionSequence"&&n[a][1]._open&&t.sliceSerialize(n[a][1]).charCodeAt(0)===t.sliceSerialize(n[i][1]).charCodeAt(0)){if((n[a][1]._close||n[i][1]._open)&&(n[i][1].end.offset-n[i][1].start.offset)%3&&!((n[a][1].end.offset-n[a][1].start.offset+n[i][1].end.offset-n[i][1].start.offset)%3))continue;d=n[a][1].end.offset-n[a][1].start.offset>1&&n[i][1].end.offset-n[i][1].start.offset>1?2:1;const g={...n[a][1].end},v={...n[i][1].start};t0(g,-d),t0(v,d),c={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...n[a][1].end}},f={type:d>1?"strongSequence":"emphasisSequence",start:{...n[i][1].start},end:v},o={type:d>1?"strongText":"emphasisText",start:{...n[a][1].end},end:{...n[i][1].start}},l={type:d>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},n[a][1].end={...c.start},n[i][1].start={...f.end},p=[],n[a][1].end.offset-n[a][1].start.offset&&(p=zn(p,[["enter",n[a][1],t],["exit",n[a][1],t]])),p=zn(p,[["enter",l,t],["enter",c,t],["exit",c,t],["enter",o,t]]),p=zn(p,Gd(t.parser.constructs.insideSpan.null,n.slice(a+1,i),t)),p=zn(p,[["exit",o,t],["enter",f,t],["exit",f,t],["exit",l,t]]),n[i][1].end.offset-n[i][1].start.offset?(m=2,p=zn(p,[["enter",n[i][1],t],["exit",n[i][1],t]])):m=0,ir(n,a-1,i-a+3,p),i=a+p.length-m-2;break}}for(i=-1;++i<n.length;)n[i][1].type==="attentionSequence"&&(n[i][1].type="data");return n}function jj(n,t){const i=this.parser.constructs.attentionMarkers.null,a=this.previous,l=e0(a);let o;return c;function c(d){return o=d,n.enter("attentionSequence"),f(d)}function f(d){if(d===o)return n.consume(d),f;const p=n.exit("attentionSequence"),m=e0(d),g=!m||m===2&&l||i.includes(d),v=!l||l===2&&m||i.includes(a);return p._open=!!(o===42?g:g&&(l||!v)),p._close=!!(o===42?v:v&&(m||!g)),t(d)}}function t0(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const kj={name:"autolink",tokenize:Aj};function Aj(n,t,i){let a=0;return l;function l(x){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(x){return rr(x)?(n.consume(x),c):x===64?i(x):p(x)}function c(x){return x===43||x===45||x===46||_n(x)?(a=1,f(x)):p(x)}function f(x){return x===58?(n.consume(x),a=0,d):(x===43||x===45||x===46||_n(x))&&a++<32?(n.consume(x),f):(a=0,p(x))}function d(x){return x===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),t):x===null||x===32||x===60||fd(x)?i(x):(n.consume(x),d)}function p(x){return x===64?(n.consume(x),m):mj(x)?(n.consume(x),p):i(x)}function m(x){return _n(x)?g(x):i(x)}function g(x){return x===46?(n.consume(x),a=0,m):x===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),t):v(x)}function v(x){if((x===45||_n(x))&&a++<63){const w=x===45?v:g;return n.consume(x),w}return i(x)}}const Xo={partial:!0,tokenize:Tj};function Tj(n,t,i){return a;function a(o){return Fe(o)?it(n,l,"linePrefix")(o):l(o)}function l(o){return o===null||je(o)?t(o):i(o)}}const fb={continuation:{tokenize:Cj},exit:Rj,name:"blockQuote",tokenize:Nj};function Nj(n,t,i){const a=this;return l;function l(c){if(c===62){const f=a.containerState;return f.open||(n.enter("blockQuote",{_container:!0}),f.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),o}return i(c)}function o(c){return Fe(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(c))}}function Cj(n,t,i){const a=this;return l;function l(c){return Fe(c)?it(n,o,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return n.attempt(fb,t,i)(c)}}function Rj(n){n.exit("blockQuote")}const db={name:"characterEscape",tokenize:Oj};function Oj(n,t,i){return a;function a(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),l}function l(o){return gj(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):i(o)}}const hb={name:"characterReference",tokenize:Uj};function Uj(n,t,i){const a=this;let l=0,o,c;return f;function f(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),d}function d(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),p):(n.enter("characterReferenceValue"),o=31,c=_n,m(g))}function p(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,c=pj,m):(n.enter("characterReferenceValue"),o=7,c=dd,m(g))}function m(g){if(g===59&&l){const v=n.exit("characterReferenceValue");return c===_n&&!Vd(a.sliceSerialize(v))?i(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return c(g)&&l++<o?(n.consume(g),m):i(g)}}const n0={partial:!0,tokenize:zj},r0={concrete:!0,name:"codeFenced",tokenize:Dj};function Dj(n,t,i){const a=this,l={partial:!0,tokenize:$};let o=0,c=0,f;return d;function d(T){return p(T)}function p(T){const H=a.events[a.events.length-1];return o=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,f=T,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(T)}function m(T){return T===f?(c++,n.consume(T),m):c<3?i(T):(n.exit("codeFencedFenceSequence"),Fe(T)?it(n,g,"whitespace")(T):g(T))}function g(T){return T===null||je(T)?(n.exit("codeFencedFence"),a.interrupt?t(T):n.check(n0,S,M)(T)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||je(T)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(T)):Fe(T)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),it(n,x,"whitespace")(T)):T===96&&T===f?i(T):(n.consume(T),v)}function x(T){return T===null||je(T)?g(T):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(T))}function w(T){return T===null||je(T)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(T)):T===96&&T===f?i(T):(n.consume(T),w)}function S(T){return n.attempt(l,M,E)(T)}function E(T){return n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),j}function j(T){return o>0&&Fe(T)?it(n,z,"linePrefix",o+1)(T):z(T)}function z(T){return T===null||je(T)?n.check(n0,S,M)(T):(n.enter("codeFlowValue"),N(T))}function N(T){return T===null||je(T)?(n.exit("codeFlowValue"),z(T)):(n.consume(T),N)}function M(T){return n.exit("codeFenced"),t(T)}function $(T,H,C){let D=0;return F;function F(V){return T.enter("lineEnding"),T.consume(V),T.exit("lineEnding"),B}function B(V){return T.enter("codeFencedFence"),Fe(V)?it(T,I,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):I(V)}function I(V){return V===f?(T.enter("codeFencedFenceSequence"),Y(V)):C(V)}function Y(V){return V===f?(D++,T.consume(V),Y):D>=c?(T.exit("codeFencedFenceSequence"),Fe(V)?it(T,P,"whitespace")(V):P(V)):C(V)}function P(V){return V===null||je(V)?(T.exit("codeFencedFence"),H(V)):C(V)}}}function zj(n,t,i){const a=this;return l;function l(c){return c===null?i(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),o)}function o(c){return a.parser.lazy[a.now().line]?i(c):t(c)}}const Of={name:"codeIndented",tokenize:Mj},Lj={partial:!0,tokenize:Bj};function Mj(n,t,i){const a=this;return l;function l(p){return n.enter("codeIndented"),it(n,o,"linePrefix",5)(p)}function o(p){const m=a.events[a.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?c(p):i(p)}function c(p){return p===null?d(p):je(p)?n.attempt(Lj,c,d)(p):(n.enter("codeFlowValue"),f(p))}function f(p){return p===null||je(p)?(n.exit("codeFlowValue"),c(p)):(n.consume(p),f)}function d(p){return n.exit("codeIndented"),t(p)}}function Bj(n,t,i){const a=this;return l;function l(c){return a.parser.lazy[a.now().line]?i(c):je(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l):it(n,o,"linePrefix",5)(c)}function o(c){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):je(c)?l(c):i(c)}}const Ij={name:"codeText",previous:Pj,resolve:qj,tokenize:Hj};function qj(n){let t=n.length-4,i=3,a,l;if((n[i][1].type==="lineEnding"||n[i][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(a=i;++a<t;)if(n[a][1].type==="codeTextData"){n[i][1].type="codeTextPadding",n[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(a=i-1,t++;++a<=t;)l===void 0?a!==t&&n[a][1].type!=="lineEnding"&&(l=a):(a===t||n[a][1].type==="lineEnding")&&(n[l][1].type="codeTextData",a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),t-=a-l-2,a=l+2),l=void 0);return n}function Pj(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Hj(n,t,i){let a=0,l,o;return c;function c(g){return n.enter("codeText"),n.enter("codeTextSequence"),f(g)}function f(g){return g===96?(n.consume(g),a++,f):(n.exit("codeTextSequence"),d(g))}function d(g){return g===null?i(g):g===32?(n.enter("space"),n.consume(g),n.exit("space"),d):g===96?(o=n.enter("codeTextSequence"),l=0,m(g)):je(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),d):(n.enter("codeTextData"),p(g))}function p(g){return g===null||g===32||g===96||je(g)?(n.exit("codeTextData"),d(g)):(n.consume(g),p)}function m(g){return g===96?(n.consume(g),l++,m):l===a?(n.exit("codeTextSequence"),n.exit("codeText"),t(g)):(o.type="codeTextData",p(g))}}class $j{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const a=i??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,i,a){const l=i||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return a&&Us(this.left,a),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Us(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Us(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);Us(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Us(this.left,i.reverse())}}}function Us(n,t){let i=0;if(t.length<1e4)n.push(...t);else for(;i<t.length;)n.push(...t.slice(i,i+1e4)),i+=1e4}function mb(n){const t={};let i=-1,a,l,o,c,f,d,p;const m=new $j(n);for(;++i<m.length;){for(;i in t;)i=t[i];if(a=m.get(i),i&&a[1].type==="chunkFlow"&&m.get(i-1)[1].type==="listItemPrefix"&&(d=a[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,Fj(m,i)),i=t[i],p=!0);else if(a[1]._container){for(o=i,l=void 0;o--;)if(c=m.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(m.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(a[1].end={...m.get(l)[1].start},f=m.slice(l,i),f.unshift(a),m.splice(l,i-l+1,f))}}return ir(n,0,Number.POSITIVE_INFINITY,m.slice(0)),!p}function Fj(n,t){const i=n.get(t)[1],a=n.get(t)[2];let l=t-1;const o=[];let c=i._tokenizer;c||(c=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,d=[],p={};let m,g,v=-1,x=i,w=0,S=0;const E=[S];for(;x;){for(;n.get(++l)[1]!==x;);o.push(l),x._tokenizer||(m=a.sliceStream(x),x.next||m.push(null),g&&c.defineSkip(x.start),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(m),x._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=i;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(S=v+1,E.push(S),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(c.events=[],x?(x._tokenizer=void 0,x.previous=void 0):E.pop(),v=E.length;v--;){const j=f.slice(E[v],E[v+1]),z=o.pop();d.push([z,z+j.length-1]),n.splice(z,2,j)}for(d.reverse(),v=-1;++v<d.length;)p[w+d[v][0]]=w+d[v][1],w+=d[v][1]-d[v][0]-1;return p}const Vj={resolve:Yj,tokenize:Kj},Gj={partial:!0,tokenize:Qj};function Yj(n){return mb(n),n}function Kj(n,t){let i;return a;function a(f){return n.enter("content"),i=n.enter("chunkContent",{contentType:"content"}),l(f)}function l(f){return f===null?o(f):je(f)?n.check(Gj,c,o)(f):(n.consume(f),l)}function o(f){return n.exit("chunkContent"),n.exit("content"),t(f)}function c(f){return n.consume(f),n.exit("chunkContent"),i.next=n.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function Qj(n,t,i){const a=this;return l;function l(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),it(n,o,"linePrefix")}function o(c){if(c===null||je(c))return i(c);const f=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(c):n.interrupt(a.parser.constructs.flow,i,t)(c)}}function pb(n,t,i,a,l,o,c,f,d){const p=d||Number.POSITIVE_INFINITY;let m=0;return g;function g(j){return j===60?(n.enter(a),n.enter(l),n.enter(o),n.consume(j),n.exit(o),v):j===null||j===32||j===41||fd(j)?i(j):(n.enter(a),n.enter(c),n.enter(f),n.enter("chunkString",{contentType:"string"}),S(j))}function v(j){return j===62?(n.enter(o),n.consume(j),n.exit(o),n.exit(l),n.exit(a),t):(n.enter(f),n.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===62?(n.exit("chunkString"),n.exit(f),v(j)):j===null||j===60||je(j)?i(j):(n.consume(j),j===92?w:x)}function w(j){return j===60||j===62||j===92?(n.consume(j),x):x(j)}function S(j){return!m&&(j===null||j===41||ln(j))?(n.exit("chunkString"),n.exit(f),n.exit(c),n.exit(a),t(j)):m<p&&j===40?(n.consume(j),m++,S):j===41?(n.consume(j),m--,S):j===null||j===32||j===40||fd(j)?i(j):(n.consume(j),j===92?E:S)}function E(j){return j===40||j===41||j===92?(n.consume(j),S):S(j)}}function gb(n,t,i,a,l,o){const c=this;let f=0,d;return p;function p(x){return n.enter(a),n.enter(l),n.consume(x),n.exit(l),n.enter(o),m}function m(x){return f>999||x===null||x===91||x===93&&!d||x===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?i(x):x===93?(n.exit(o),n.enter(l),n.consume(x),n.exit(l),n.exit(a),t):je(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||je(x)||f++>999?(n.exit("chunkString"),m(x)):(n.consume(x),d||(d=!Fe(x)),x===92?v:g)}function v(x){return x===91||x===92||x===93?(n.consume(x),f++,g):g(x)}}function yb(n,t,i,a,l,o){let c;return f;function f(v){return v===34||v===39||v===40?(n.enter(a),n.enter(l),n.consume(v),n.exit(l),c=v===40?41:v,d):i(v)}function d(v){return v===c?(n.enter(l),n.consume(v),n.exit(l),n.exit(a),t):(n.enter(o),p(v))}function p(v){return v===c?(n.exit(o),d(c)):v===null?i(v):je(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),it(n,p,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===c||v===null||je(v)?(n.exit("chunkString"),p(v)):(n.consume(v),v===92?g:m)}function g(v){return v===c||v===92?(n.consume(v),m):m(v)}}function Is(n,t){let i;return a;function a(l){return je(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i=!0,a):Fe(l)?it(n,a,i?"linePrefix":"lineSuffix")(l):t(l)}}const Xj={name:"definition",tokenize:Zj},Jj={partial:!0,tokenize:Wj};function Zj(n,t,i){const a=this;let l;return o;function o(x){return n.enter("definition"),c(x)}function c(x){return gb.call(a,n,f,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function f(x){return l=Ta(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),x===58?(n.enter("definitionMarker"),n.consume(x),n.exit("definitionMarker"),d):i(x)}function d(x){return ln(x)?Is(n,p)(x):p(x)}function p(x){return pb(n,m,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return n.attempt(Jj,g,g)(x)}function g(x){return Fe(x)?it(n,v,"whitespace")(x):v(x)}function v(x){return x===null||je(x)?(n.exit("definition"),a.parser.defined.push(l),t(x)):i(x)}}function Wj(n,t,i){return a;function a(f){return ln(f)?Is(n,l)(f):i(f)}function l(f){return yb(n,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function o(f){return Fe(f)?it(n,c,"whitespace")(f):c(f)}function c(f){return f===null||je(f)?t(f):i(f)}}const ek={name:"hardBreakEscape",tokenize:tk};function tk(n,t,i){return a;function a(o){return n.enter("hardBreakEscape"),n.consume(o),l}function l(o){return je(o)?(n.exit("hardBreakEscape"),t(o)):i(o)}}const nk={name:"headingAtx",resolve:rk,tokenize:ik};function rk(n,t){let i=n.length-2,a=3,l,o;return n[a][1].type==="whitespace"&&(a+=2),i-2>a&&n[i][1].type==="whitespace"&&(i-=2),n[i][1].type==="atxHeadingSequence"&&(a===i-1||i-4>a&&n[i-2][1].type==="whitespace")&&(i-=a+1===i?2:4),i>a&&(l={type:"atxHeadingText",start:n[a][1].start,end:n[i][1].end},o={type:"chunkText",start:n[a][1].start,end:n[i][1].end,contentType:"text"},ir(n,a,i-a+1,[["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t]])),n}function ik(n,t,i){let a=0;return l;function l(m){return n.enter("atxHeading"),o(m)}function o(m){return n.enter("atxHeadingSequence"),c(m)}function c(m){return m===35&&a++<6?(n.consume(m),c):m===null||ln(m)?(n.exit("atxHeadingSequence"),f(m)):i(m)}function f(m){return m===35?(n.enter("atxHeadingSequence"),d(m)):m===null||je(m)?(n.exit("atxHeading"),t(m)):Fe(m)?it(n,f,"whitespace")(m):(n.enter("atxHeadingText"),p(m))}function d(m){return m===35?(n.consume(m),d):(n.exit("atxHeadingSequence"),f(m))}function p(m){return m===null||m===35||ln(m)?(n.exit("atxHeadingText"),f(m)):(n.consume(m),p)}}const ak=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],i0=["pre","script","style","textarea"],sk={concrete:!0,name:"htmlFlow",resolveTo:uk,tokenize:ck},lk={partial:!0,tokenize:dk},ok={partial:!0,tokenize:fk};function uk(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function ck(n,t,i){const a=this;let l,o,c,f,d;return p;function p(U){return m(U)}function m(U){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(U),g}function g(U){return U===33?(n.consume(U),v):U===47?(n.consume(U),o=!0,S):U===63?(n.consume(U),l=3,a.interrupt?t:R):rr(U)?(n.consume(U),c=String.fromCharCode(U),E):i(U)}function v(U){return U===45?(n.consume(U),l=2,x):U===91?(n.consume(U),l=5,f=0,w):rr(U)?(n.consume(U),l=4,a.interrupt?t:R):i(U)}function x(U){return U===45?(n.consume(U),a.interrupt?t:R):i(U)}function w(U){const X="CDATA[";return U===X.charCodeAt(f++)?(n.consume(U),f===X.length?a.interrupt?t:I:w):i(U)}function S(U){return rr(U)?(n.consume(U),c=String.fromCharCode(U),E):i(U)}function E(U){if(U===null||U===47||U===62||ln(U)){const X=U===47,K=c.toLowerCase();return!X&&!o&&i0.includes(K)?(l=1,a.interrupt?t(U):I(U)):ak.includes(c.toLowerCase())?(l=6,X?(n.consume(U),j):a.interrupt?t(U):I(U)):(l=7,a.interrupt&&!a.parser.lazy[a.now().line]?i(U):o?z(U):N(U))}return U===45||_n(U)?(n.consume(U),c+=String.fromCharCode(U),E):i(U)}function j(U){return U===62?(n.consume(U),a.interrupt?t:I):i(U)}function z(U){return Fe(U)?(n.consume(U),z):F(U)}function N(U){return U===47?(n.consume(U),F):U===58||U===95||rr(U)?(n.consume(U),M):Fe(U)?(n.consume(U),N):F(U)}function M(U){return U===45||U===46||U===58||U===95||_n(U)?(n.consume(U),M):$(U)}function $(U){return U===61?(n.consume(U),T):Fe(U)?(n.consume(U),$):N(U)}function T(U){return U===null||U===60||U===61||U===62||U===96?i(U):U===34||U===39?(n.consume(U),d=U,H):Fe(U)?(n.consume(U),T):C(U)}function H(U){return U===d?(n.consume(U),d=null,D):U===null||je(U)?i(U):(n.consume(U),H)}function C(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||ln(U)?$(U):(n.consume(U),C)}function D(U){return U===47||U===62||Fe(U)?N(U):i(U)}function F(U){return U===62?(n.consume(U),B):i(U)}function B(U){return U===null||je(U)?I(U):Fe(U)?(n.consume(U),B):i(U)}function I(U){return U===45&&l===2?(n.consume(U),k):U===60&&l===1?(n.consume(U),A):U===62&&l===4?(n.consume(U),q):U===63&&l===3?(n.consume(U),R):U===93&&l===5?(n.consume(U),Z):je(U)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(lk,Q,Y)(U)):U===null||je(U)?(n.exit("htmlFlowData"),Y(U)):(n.consume(U),I)}function Y(U){return n.check(ok,P,Q)(U)}function P(U){return n.enter("lineEnding"),n.consume(U),n.exit("lineEnding"),V}function V(U){return U===null||je(U)?Y(U):(n.enter("htmlFlowData"),I(U))}function k(U){return U===45?(n.consume(U),R):I(U)}function A(U){return U===47?(n.consume(U),c="",te):I(U)}function te(U){if(U===62){const X=c.toLowerCase();return i0.includes(X)?(n.consume(U),q):I(U)}return rr(U)&&c.length<8?(n.consume(U),c+=String.fromCharCode(U),te):I(U)}function Z(U){return U===93?(n.consume(U),R):I(U)}function R(U){return U===62?(n.consume(U),q):U===45&&l===2?(n.consume(U),R):I(U)}function q(U){return U===null||je(U)?(n.exit("htmlFlowData"),Q(U)):(n.consume(U),q)}function Q(U){return n.exit("htmlFlow"),t(U)}}function fk(n,t,i){const a=this;return l;function l(c){return je(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),o):i(c)}function o(c){return a.parser.lazy[a.now().line]?i(c):t(c)}}function dk(n,t,i){return a;function a(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(Xo,t,i)}}const hk={name:"htmlText",tokenize:mk};function mk(n,t,i){const a=this;let l,o,c;return f;function f(R){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(R),d}function d(R){return R===33?(n.consume(R),p):R===47?(n.consume(R),$):R===63?(n.consume(R),N):rr(R)?(n.consume(R),C):i(R)}function p(R){return R===45?(n.consume(R),m):R===91?(n.consume(R),o=0,w):rr(R)?(n.consume(R),z):i(R)}function m(R){return R===45?(n.consume(R),x):i(R)}function g(R){return R===null?i(R):R===45?(n.consume(R),v):je(R)?(c=g,A(R)):(n.consume(R),g)}function v(R){return R===45?(n.consume(R),x):g(R)}function x(R){return R===62?k(R):R===45?v(R):g(R)}function w(R){const q="CDATA[";return R===q.charCodeAt(o++)?(n.consume(R),o===q.length?S:w):i(R)}function S(R){return R===null?i(R):R===93?(n.consume(R),E):je(R)?(c=S,A(R)):(n.consume(R),S)}function E(R){return R===93?(n.consume(R),j):S(R)}function j(R){return R===62?k(R):R===93?(n.consume(R),j):S(R)}function z(R){return R===null||R===62?k(R):je(R)?(c=z,A(R)):(n.consume(R),z)}function N(R){return R===null?i(R):R===63?(n.consume(R),M):je(R)?(c=N,A(R)):(n.consume(R),N)}function M(R){return R===62?k(R):N(R)}function $(R){return rr(R)?(n.consume(R),T):i(R)}function T(R){return R===45||_n(R)?(n.consume(R),T):H(R)}function H(R){return je(R)?(c=H,A(R)):Fe(R)?(n.consume(R),H):k(R)}function C(R){return R===45||_n(R)?(n.consume(R),C):R===47||R===62||ln(R)?D(R):i(R)}function D(R){return R===47?(n.consume(R),k):R===58||R===95||rr(R)?(n.consume(R),F):je(R)?(c=D,A(R)):Fe(R)?(n.consume(R),D):k(R)}function F(R){return R===45||R===46||R===58||R===95||_n(R)?(n.consume(R),F):B(R)}function B(R){return R===61?(n.consume(R),I):je(R)?(c=B,A(R)):Fe(R)?(n.consume(R),B):D(R)}function I(R){return R===null||R===60||R===61||R===62||R===96?i(R):R===34||R===39?(n.consume(R),l=R,Y):je(R)?(c=I,A(R)):Fe(R)?(n.consume(R),I):(n.consume(R),P)}function Y(R){return R===l?(n.consume(R),l=void 0,V):R===null?i(R):je(R)?(c=Y,A(R)):(n.consume(R),Y)}function P(R){return R===null||R===34||R===39||R===60||R===61||R===96?i(R):R===47||R===62||ln(R)?D(R):(n.consume(R),P)}function V(R){return R===47||R===62||ln(R)?D(R):i(R)}function k(R){return R===62?(n.consume(R),n.exit("htmlTextData"),n.exit("htmlText"),t):i(R)}function A(R){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),te}function te(R){return Fe(R)?it(n,Z,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Z(R)}function Z(R){return n.enter("htmlTextData"),c(R)}}const Yd={name:"labelEnd",resolveAll:vk,resolveTo:bk,tokenize:xk},pk={tokenize:wk},gk={tokenize:_k},yk={tokenize:Sk};function vk(n){let t=-1;const i=[];for(;++t<n.length;){const a=n[t][1];if(i.push(n[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const l=a.type==="labelImage"?4:2;a.type="data",t+=l}}return n.length!==i.length&&ir(n,0,n.length,i),n}function bk(n,t){let i=n.length,a=0,l,o,c,f;for(;i--;)if(l=n[i][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(n[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=i,l.type!=="labelLink")){a=2;break}}else l.type==="labelEnd"&&(c=i);const d={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},p={type:"label",start:{...n[o][1].start},end:{...n[c][1].end}},m={type:"labelText",start:{...n[o+a+2][1].end},end:{...n[c-2][1].start}};return f=[["enter",d,t],["enter",p,t]],f=zn(f,n.slice(o+1,o+a+3)),f=zn(f,[["enter",m,t]]),f=zn(f,Gd(t.parser.constructs.insideSpan.null,n.slice(o+a+4,c-3),t)),f=zn(f,[["exit",m,t],n[c-2],n[c-1],["exit",p,t]]),f=zn(f,n.slice(c+1)),f=zn(f,[["exit",d,t]]),ir(n,o,n.length,f),n}function xk(n,t,i){const a=this;let l=a.events.length,o,c;for(;l--;)if((a.events[l][1].type==="labelImage"||a.events[l][1].type==="labelLink")&&!a.events[l][1]._balanced){o=a.events[l][1];break}return f;function f(v){return o?o._inactive?g(v):(c=a.parser.defined.includes(Ta(a.sliceSerialize({start:o.end,end:a.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(v),n.exit("labelMarker"),n.exit("labelEnd"),d):i(v)}function d(v){return v===40?n.attempt(pk,m,c?m:g)(v):v===91?n.attempt(gk,m,c?p:g)(v):c?m(v):g(v)}function p(v){return n.attempt(yk,m,g)(v)}function m(v){return t(v)}function g(v){return o._balanced=!0,i(v)}}function wk(n,t,i){return a;function a(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),l}function l(g){return ln(g)?Is(n,o)(g):o(g)}function o(g){return g===41?m(g):pb(n,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function c(g){return ln(g)?Is(n,d)(g):m(g)}function f(g){return i(g)}function d(g){return g===34||g===39||g===40?yb(n,p,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function p(g){return ln(g)?Is(n,m)(g):m(g)}function m(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),t):i(g)}}function _k(n,t,i){const a=this;return l;function l(f){return gb.call(a,n,o,c,"reference","referenceMarker","referenceString")(f)}function o(f){return a.parser.defined.includes(Ta(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(f):i(f)}function c(f){return i(f)}}function Sk(n,t,i){return a;function a(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),l}function l(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),t):i(o)}}const Ek={name:"labelStartImage",resolveAll:Yd.resolveAll,tokenize:jk};function jk(n,t,i){const a=this;return l;function l(f){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(f),n.exit("labelImageMarker"),o}function o(f){return f===91?(n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelImage"),c):i(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(f):t(f)}}const kk={name:"labelStartLink",resolveAll:Yd.resolveAll,tokenize:Ak};function Ak(n,t,i){const a=this;return l;function l(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(c):t(c)}}const Uf={name:"lineEnding",tokenize:Tk};function Tk(n,t){return i;function i(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),it(n,t,"linePrefix")}}const Co={name:"thematicBreak",tokenize:Nk};function Nk(n,t,i){let a=0,l;return o;function o(p){return n.enter("thematicBreak"),c(p)}function c(p){return l=p,f(p)}function f(p){return p===l?(n.enter("thematicBreakSequence"),d(p)):a>=3&&(p===null||je(p))?(n.exit("thematicBreak"),t(p)):i(p)}function d(p){return p===l?(n.consume(p),a++,d):(n.exit("thematicBreakSequence"),Fe(p)?it(n,f,"whitespace")(p):f(p))}}const an={continuation:{tokenize:Uk},exit:zk,name:"list",tokenize:Ok},Ck={partial:!0,tokenize:Lk},Rk={partial:!0,tokenize:Dk};function Ok(n,t,i){const a=this,l=a.events[a.events.length-1];let o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return f;function f(x){const w=a.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||x===a.containerState.marker:dd(x)){if(a.containerState.type||(a.containerState.type=w,n.enter(w,{_container:!0})),w==="listUnordered")return n.enter("listItemPrefix"),x===42||x===45?n.check(Co,i,p)(x):p(x);if(!a.interrupt||x===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),d(x)}return i(x)}function d(x){return dd(x)&&++c<10?(n.consume(x),d):(!a.interrupt||c<2)&&(a.containerState.marker?x===a.containerState.marker:x===41||x===46)?(n.exit("listItemValue"),p(x)):i(x)}function p(x){return n.enter("listItemMarker"),n.consume(x),n.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||x,n.check(Xo,a.interrupt?i:m,n.attempt(Ck,v,g))}function m(x){return a.containerState.initialBlankLine=!0,o++,v(x)}function g(x){return Fe(x)?(n.enter("listItemPrefixWhitespace"),n.consume(x),n.exit("listItemPrefixWhitespace"),v):i(x)}function v(x){return a.containerState.size=o+a.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(x)}}function Uk(n,t,i){const a=this;return a.containerState._closeFlow=void 0,n.check(Xo,l,o);function l(f){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,it(n,t,"listItemIndent",a.containerState.size+1)(f)}function o(f){return a.containerState.furtherBlankLines||!Fe(f)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(f)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,n.attempt(Rk,t,c)(f))}function c(f){return a.containerState._closeFlow=!0,a.interrupt=void 0,it(n,n.attempt(an,t,i),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function Dk(n,t,i){const a=this;return it(n,l,"listItemIndent",a.containerState.size+1);function l(o){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?t(o):i(o)}}function zk(n){n.exit(this.containerState.type)}function Lk(n,t,i){const a=this;return it(n,l,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){const c=a.events[a.events.length-1];return!Fe(o)&&c&&c[1].type==="listItemPrefixWhitespace"?t(o):i(o)}}const a0={name:"setextUnderline",resolveTo:Mk,tokenize:Bk};function Mk(n,t){let i=n.length,a,l,o;for(;i--;)if(n[i][0]==="enter"){if(n[i][1].type==="content"){a=i;break}n[i][1].type==="paragraph"&&(l=i)}else n[i][1].type==="content"&&n.splice(i,1),!o&&n[i][1].type==="definition"&&(o=i);const c={type:"setextHeading",start:{...n[a][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",o?(n.splice(l,0,["enter",c,t]),n.splice(o+1,0,["exit",n[a][1],t]),n[a][1].end={...n[o][1].end}):n[a][1]=c,n.push(["exit",c,t]),n}function Bk(n,t,i){const a=this;let l;return o;function o(p){let m=a.events.length,g;for(;m--;)if(a.events[m][1].type!=="lineEnding"&&a.events[m][1].type!=="linePrefix"&&a.events[m][1].type!=="content"){g=a.events[m][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||g)?(n.enter("setextHeadingLine"),l=p,c(p)):i(p)}function c(p){return n.enter("setextHeadingLineSequence"),f(p)}function f(p){return p===l?(n.consume(p),f):(n.exit("setextHeadingLineSequence"),Fe(p)?it(n,d,"lineSuffix")(p):d(p))}function d(p){return p===null||je(p)?(n.exit("setextHeadingLine"),t(p)):i(p)}}const Ik={tokenize:qk};function qk(n){const t=this,i=n.attempt(Xo,a,n.attempt(this.parser.constructs.flowInitial,l,it(n,n.attempt(this.parser.constructs.flow,l,n.attempt(Vj,l)),"linePrefix")));return i;function a(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function l(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),t.currentConstruct=void 0,i}}const Pk={resolveAll:bb()},Hk=vb("string"),$k=vb("text");function vb(n){return{resolveAll:bb(n==="text"?Fk:void 0),tokenize:t};function t(i){const a=this,l=this.parser.constructs[n],o=i.attempt(l,c,f);return c;function c(m){return p(m)?o(m):f(m)}function f(m){if(m===null){i.consume(m);return}return i.enter("data"),i.consume(m),d}function d(m){return p(m)?(i.exit("data"),o(m)):(i.consume(m),d)}function p(m){if(m===null)return!0;const g=l[m];let v=-1;if(g)for(;++v<g.length;){const x=g[v];if(!x.previous||x.previous.call(a,a.previous))return!0}return!1}}}function bb(n){return t;function t(i,a){let l=-1,o;for(;++l<=i.length;)o===void 0?i[l]&&i[l][1].type==="data"&&(o=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==o+2&&(i[o][1].end=i[l-1][1].end,i.splice(o+2,l-o-2),l=o+2),o=void 0);return n?n(i,a):i}}function Fk(n,t){let i=0;for(;++i<=n.length;)if((i===n.length||n[i][1].type==="lineEnding")&&n[i-1][1].type==="data"){const a=n[i-1][1],l=t.sliceStream(a);let o=l.length,c=-1,f=0,d;for(;o--;){const p=l[o];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(p===-2)d=!0,f++;else if(p!==-1){o++;break}}if(t._contentTypeTextTrailing&&i===n.length&&(f=0),f){const p={type:i===n.length||d||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:a.start._bufferIndex+c,_index:a.start._index+o,line:a.end.line,column:a.end.column-f,offset:a.end.offset-f},end:{...a.end}};a.end={...p.start},a.start.offset===a.end.offset?Object.assign(a,p):(n.splice(i,0,["enter",p,t],["exit",p,t]),i+=2)}i++}return n}const Vk={42:an,43:an,45:an,48:an,49:an,50:an,51:an,52:an,53:an,54:an,55:an,56:an,57:an,62:fb},Gk={91:Xj},Yk={[-2]:Of,[-1]:Of,32:Of},Kk={35:nk,42:Co,45:[a0,Co],60:sk,61:a0,95:Co,96:r0,126:r0},Qk={38:hb,92:db},Xk={[-5]:Uf,[-4]:Uf,[-3]:Uf,33:Ek,38:hb,42:hd,60:[kj,hk],91:kk,92:[ek,db],93:Yd,95:hd,96:Ij},Jk={null:[hd,Pk]},Zk={null:[42,95]},Wk={null:[]},eA=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Zk,contentInitial:Gk,disable:Wk,document:Vk,flow:Kk,flowInitial:Yk,insideSpan:Jk,string:Qk,text:Xk},Symbol.toStringTag,{value:"Module"}));function tA(n,t,i){let a={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},o=[];let c=[],f=[];const d={attempt:H($),check:H(T),consume:z,enter:N,exit:M,interrupt:H(T,{interrupt:!0})},p={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:n,previous:null,sliceSerialize:v,sliceStream:x,write:g};let m=t.tokenize.call(p,d);return t.resolveAll&&o.push(t),p;function g(B){return c=zn(c,B),E(),c[c.length-1]!==null?[]:(C(t,0),p.events=Gd(o,p.events,p),p.events)}function v(B,I){return rA(x(B),I)}function x(B){return nA(c,B)}function w(){const{_bufferIndex:B,_index:I,line:Y,column:P,offset:V}=a;return{_bufferIndex:B,_index:I,line:Y,column:P,offset:V}}function S(B){l[B.line]=B.column,F()}function E(){let B;for(;a._index<c.length;){const I=c[a._index];if(typeof I=="string")for(B=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===B&&a._bufferIndex<I.length;)j(I.charCodeAt(a._bufferIndex));else j(I)}}function j(B){m=m(B)}function z(B){je(B)?(a.line++,a.column=1,a.offset+=B===-3?2:1,F()):B!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),p.previous=B}function N(B,I){const Y=I||{};return Y.type=B,Y.start=w(),p.events.push(["enter",Y,p]),f.push(Y),Y}function M(B){const I=f.pop();return I.end=w(),p.events.push(["exit",I,p]),I}function $(B,I){C(B,I.from)}function T(B,I){I.restore()}function H(B,I){return Y;function Y(P,V,k){let A,te,Z,R;return Array.isArray(P)?Q(P):"tokenize"in P?Q([P]):q(P);function q(W){return ce;function ce(fe){const pe=fe!==null&&W[fe],Ae=fe!==null&&W.null,Ee=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(Ae)?Ae:Ae?[Ae]:[]];return Q(Ee)(fe)}}function Q(W){return A=W,te=0,W.length===0?k:U(W[te])}function U(W){return ce;function ce(fe){return R=D(),Z=W,W.partial||(p.currentConstruct=W),W.name&&p.parser.constructs.disable.null.includes(W.name)?K():W.tokenize.call(I?Object.assign(Object.create(p),I):p,d,X,K)(fe)}}function X(W){return B(Z,R),V}function K(W){return R.restore(),++te<A.length?U(A[te]):k}}}function C(B,I){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&ir(p.events,I,p.events.length-I,B.resolve(p.events.slice(I),p)),B.resolveTo&&(p.events=B.resolveTo(p.events,p))}function D(){const B=w(),I=p.previous,Y=p.currentConstruct,P=p.events.length,V=Array.from(f);return{from:P,restore:k};function k(){a=B,p.previous=I,p.currentConstruct=Y,p.events.length=P,f=V,F()}}function F(){a.line in l&&a.column<2&&(a.column=l[a.line],a.offset+=l[a.line]-1)}}function nA(n,t){const i=t.start._index,a=t.start._bufferIndex,l=t.end._index,o=t.end._bufferIndex;let c;if(i===l)c=[n[i].slice(a,o)];else{if(c=n.slice(i,l),a>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(a):c.shift()}o>0&&c.push(n[l].slice(0,o))}return c}function rA(n,t){let i=-1;const a=[];let l;for(;++i<n.length;){const o=n[i];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&l)continue;c=" ";break}default:c=String.fromCharCode(o)}l=o===-2,a.push(c)}return a.join("")}function iA(n){const a={constructs:fj([eA,...(n||{}).extensions||[]]),content:l(bj),defined:[],document:l(wj),flow:l(Ik),lazy:{},string:l(Hk),text:l($k)};return a;function l(o){return c;function c(f){return tA(a,o,f)}}}function aA(n){for(;!mb(n););return n}const s0=/[\0\t\n\r]/g;function sA(){let n=1,t="",i=!0,a;return l;function l(o,c,f){const d=[];let p,m,g,v,x;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),g=0,t="",i&&(o.charCodeAt(0)===65279&&g++,i=void 0);g<o.length;){if(s0.lastIndex=g,p=s0.exec(o),v=p&&p.index!==void 0?p.index:o.length,x=o.charCodeAt(v),!p){t=o.slice(g);break}if(x===10&&g===v&&a)d.push(-3),a=void 0;else switch(a&&(d.push(-5),a=void 0),g<v&&(d.push(o.slice(g,v)),n+=v-g),x){case 0:{d.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,d.push(-2);n++<m;)d.push(-1);break}case 10:{d.push(-4),n=1;break}default:a=!0,n=1}g=v+1}return f&&(a&&d.push(-5),t&&d.push(t),d.push(null)),d}}const lA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oA(n){return n.replace(lA,uA)}function uA(n,t,i){if(t)return t;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),o=l===120||l===88;return cb(i.slice(o?2:1),o?16:10)}return Vd(i)||n}const xb={}.hasOwnProperty;function cA(n,t,i){return typeof t!="string"&&(i=t,t=void 0),fA(i)(aA(iA(i).document().write(sA()(n,t,!0))))}function fA(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ut),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(Ye),blockQuote:o(Ae),characterEscape:D,characterReference:D,codeFenced:o(Ee),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Ee,c),codeText:o(Ie,c),codeTextData:D,data:D,codeFlowValue:D,definition:o(jt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(gt),hardBreakEscape:o(ht),hardBreakTrailing:o(ht),htmlFlow:o(Ke,c),htmlFlowData:D,htmlText:o(Ke,c),htmlTextData:D,image:o(Ve),label:c,link:o(ut),listItem:o(tt),listItemValue:v,listOrdered:o(yt,g),listUnordered:o(yt),paragraph:o(Lt),reference:U,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(Ye),strong:o(ct),thematicBreak:o(Mt)},exit:{atxHeading:d(),atxHeadingSequence:$,autolink:d(),autolinkEmail:pe,autolinkProtocol:fe,blockQuote:d(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:W,characterReference:ce,codeFenced:d(E),codeFencedFence:S,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:F,codeIndented:d(j),codeText:d(V),codeTextData:F,data:F,definition:d(),definitionDestinationString:M,definitionLabelString:z,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(I),hardBreakTrailing:d(I),htmlFlow:d(Y),htmlFlowData:F,htmlText:d(P),htmlTextData:F,image:d(A),label:Z,labelText:te,lineEnding:B,link:d(k),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:X,resourceDestinationString:R,resourceTitleString:q,resource:Q,setextHeading:d(C),setextHeadingLineSequence:H,setextHeadingText:T,strong:d(),thematicBreak:d()}};wb(t,(n||{}).mdastExtensions||[]);const i={};return a;function a(se){let me={type:"root",children:[]};const ge={stack:[me],tokenStack:[],config:t,enter:f,exit:p,buffer:c,resume:m,data:i},Te=[];let ke=-1;for(;++ke<se.length;)if(se[ke][1].type==="listOrdered"||se[ke][1].type==="listUnordered")if(se[ke][0]==="enter")Te.push(ke);else{const at=Te.pop();ke=l(se,at,ke)}for(ke=-1;++ke<se.length;){const at=t[se[ke][0]];xb.call(at,se[ke][1].type)&&at[se[ke][1].type].call(Object.assign({sliceSerialize:se[ke][2].sliceSerialize},ge),se[ke][1])}if(ge.tokenStack.length>0){const at=ge.tokenStack[ge.tokenStack.length-1];(at[1]||l0).call(ge,void 0,at[0])}for(me.position={start:Wr(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Wr(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<t.transforms.length;)me=t.transforms[ke](me)||me;return me}function l(se,me,ge){let Te=me-1,ke=-1,at=!1,vt,st,Ge,bt;for(;++Te<=ge;){const He=se[Te];switch(He[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{He[0]==="enter"?ke++:ke--,bt=void 0;break}case"lineEndingBlank":{He[0]==="enter"&&(vt&&!bt&&!ke&&!Ge&&(Ge=Te),bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bt=void 0}if(!ke&&He[0]==="enter"&&He[1].type==="listItemPrefix"||ke===-1&&He[0]==="exit"&&(He[1].type==="listUnordered"||He[1].type==="listOrdered")){if(vt){let Kn=Te;for(st=void 0;Kn--;){const Qt=se[Kn];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;st&&(se[st][1].type="lineEndingBlank",at=!0),Qt[1].type="lineEnding",st=Kn}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}Ge&&(!st||Ge<st)&&(vt._spread=!0),vt.end=Object.assign({},st?se[st][1].start:He[1].end),se.splice(st||Te,0,["exit",vt,He[2]]),Te++,ge++}if(He[1].type==="listItemPrefix"){const Kn={type:"listItem",_spread:!1,start:Object.assign({},He[1].start),end:void 0};vt=Kn,se.splice(Te,0,["enter",Kn,He[2]]),Te++,ge++,Ge=void 0,bt=!0}}}return se[me][1]._spread=at,ge}function o(se,me){return ge;function ge(Te){f.call(this,se(Te),Te),me&&me.call(this,Te)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(se,me,ge){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([me,ge||void 0]),se.position={start:Wr(me.start),end:void 0}}function d(se){return me;function me(ge){se&&se.call(this,ge),p.call(this,ge)}}function p(se,me){const ge=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==se.type&&(me?me.call(this,se,Te[0]):(Te[1]||l0).call(this,se,Te[0]));else throw new Error("Cannot close `"+se.type+"` ("+Bs({start:se.start,end:se.end})+"): its not open");ge.position.end=Wr(se.end)}function m(){return uj(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(se){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function x(){const se=this.resume(),me=this.stack[this.stack.length-1];me.lang=se}function w(){const se=this.resume(),me=this.stack[this.stack.length-1];me.meta=se}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const se=this.resume(),me=this.stack[this.stack.length-1];me.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const se=this.resume(),me=this.stack[this.stack.length-1];me.value=se.replace(/(\r?\n|\r)$/g,"")}function z(se){const me=this.resume(),ge=this.stack[this.stack.length-1];ge.label=me,ge.identifier=Ta(this.sliceSerialize(se)).toLowerCase()}function N(){const se=this.resume(),me=this.stack[this.stack.length-1];me.title=se}function M(){const se=this.resume(),me=this.stack[this.stack.length-1];me.url=se}function $(se){const me=this.stack[this.stack.length-1];if(!me.depth){const ge=this.sliceSerialize(se).length;me.depth=ge}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function H(se){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function D(se){const ge=this.stack[this.stack.length-1].children;let Te=ge[ge.length-1];(!Te||Te.type!=="text")&&(Te=Re(),Te.position={start:Wr(se.start),end:void 0},ge.push(Te)),this.stack.push(Te)}function F(se){const me=this.stack.pop();me.value+=this.sliceSerialize(se),me.position.end=Wr(se.end)}function B(se){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=me.children[me.children.length-1];ge.position.end=Wr(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(D.call(this,se),F.call(this,se))}function I(){this.data.atHardBreak=!0}function Y(){const se=this.resume(),me=this.stack[this.stack.length-1];me.value=se}function P(){const se=this.resume(),me=this.stack[this.stack.length-1];me.value=se}function V(){const se=this.resume(),me=this.stack[this.stack.length-1];me.value=se}function k(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=me,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function A(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=me,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function te(se){const me=this.sliceSerialize(se),ge=this.stack[this.stack.length-2];ge.label=oA(me),ge.identifier=Ta(me).toLowerCase()}function Z(){const se=this.stack[this.stack.length-1],me=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Te=se.children;ge.children=Te}else ge.alt=me}function R(){const se=this.resume(),me=this.stack[this.stack.length-1];me.url=se}function q(){const se=this.resume(),me=this.stack[this.stack.length-1];me.title=se}function Q(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function X(se){const me=this.resume(),ge=this.stack[this.stack.length-1];ge.label=me,ge.identifier=Ta(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function K(se){this.data.characterReferenceType=se.type}function W(se){const me=this.sliceSerialize(se),ge=this.data.characterReferenceType;let Te;ge?(Te=cb(me,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=Vd(me);const ke=this.stack[this.stack.length-1];ke.value+=Te}function ce(se){const me=this.stack.pop();me.position.end=Wr(se.end)}function fe(se){F.call(this,se);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(se)}function pe(se){F.call(this,se);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(se)}function Ae(){return{type:"blockquote",children:[]}}function Ee(){return{type:"code",lang:null,meta:null,value:""}}function Ie(){return{type:"inlineCode",value:""}}function jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function Ye(){return{type:"heading",depth:0,children:[]}}function ht(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function Ve(){return{type:"image",title:null,url:"",alt:null}}function ut(){return{type:"link",title:null,url:"",children:[]}}function yt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function tt(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Lt(){return{type:"paragraph",children:[]}}function ct(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function Mt(){return{type:"thematicBreak"}}}function Wr(n){return{line:n.line,column:n.column,offset:n.offset}}function wb(n,t){let i=-1;for(;++i<t.length;){const a=t[i];Array.isArray(a)?wb(n,a):dA(n,a)}}function dA(n,t){let i;for(i in t)if(xb.call(t,i))switch(i){case"canContainEols":{const a=t[i];a&&n[i].push(...a);break}case"transforms":{const a=t[i];a&&n[i].push(...a);break}case"enter":case"exit":{const a=t[i];a&&Object.assign(n[i],a);break}}}function l0(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+Bs({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+Bs({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bs({start:t.start,end:t.end})+") is still open")}function hA(n){const t=this;t.parser=i;function i(a){return cA(a,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mA(n,t){const i={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,i),n.applyData(t,i)}function pA(n,t){const i={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,i),[n.applyData(t,i),{type:"text",value:`
`}]}function gA(n,t){const i=t.value?t.value+`
`:"",a={},l=t.lang?t.lang.split(/\s+/):[];l.length>0&&(a.className=["language-"+l[0]]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:i}]};return t.meta&&(o.data={meta:t.meta}),n.patch(t,o),o=n.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},n.patch(t,o),o}function yA(n,t){const i={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function vA(n,t){const i={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function bA(n,t){const i=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),l=La(a.toLowerCase()),o=n.footnoteOrder.indexOf(a);let c,f=n.footnoteCounts.get(a);f===void 0?(f=0,n.footnoteOrder.push(a),c=n.footnoteOrder.length):c=o+1,f+=1,n.footnoteCounts.set(a,f);const d={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};n.patch(t,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return n.patch(t,p),n.applyData(t,p)}function xA(n,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function wA(n,t){if(n.options.allowDangerousHtml){const i={type:"raw",value:t.value};return n.patch(t,i),n.applyData(t,i)}}function _b(n,t){const i=t.referenceType;let a="]";if(i==="collapsed"?a+="[]":i==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const l=n.all(t),o=l[0];o&&o.type==="text"?o.value="["+o.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=a:l.push({type:"text",value:a}),l}function _A(n,t){const i=String(t.identifier).toUpperCase(),a=n.definitionById.get(i);if(!a)return _b(n,t);const l={src:La(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(l.title=a.title);const o={type:"element",tagName:"img",properties:l,children:[]};return n.patch(t,o),n.applyData(t,o)}function SA(n,t){const i={src:La(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"img",properties:i,children:[]};return n.patch(t,a),n.applyData(t,a)}function EA(n,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,i);const a={type:"element",tagName:"code",properties:{},children:[i]};return n.patch(t,a),n.applyData(t,a)}function jA(n,t){const i=String(t.identifier).toUpperCase(),a=n.definitionById.get(i);if(!a)return _b(n,t);const l={href:La(a.url||"")};a.title!==null&&a.title!==void 0&&(l.title=a.title);const o={type:"element",tagName:"a",properties:l,children:n.all(t)};return n.patch(t,o),n.applyData(t,o)}function kA(n,t){const i={href:La(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"a",properties:i,children:n.all(t)};return n.patch(t,a),n.applyData(t,a)}function AA(n,t,i){const a=n.all(t),l=i?TA(i):Sb(t),o={},c=[];if(typeof t.checked=="boolean"){const m=a[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},a.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let f=-1;for(;++f<a.length;){const m=a[f];(l||f!==0||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!l?c.push(...m.children):c.push(m)}const d=a[a.length-1];d&&(l||d.type!=="element"||d.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:c};return n.patch(t,p),n.applyData(t,p)}function TA(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const i=n.children;let a=-1;for(;!t&&++a<i.length;)t=Sb(i[a])}return t}function Sb(n){const t=n.spread;return t??n.children.length>1}function NA(n,t){const i={},a=n.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++l<a.length;){const c=a[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:n.wrap(a,!0)};return n.patch(t,o),n.applyData(t,o)}function CA(n,t){const i={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function RA(n,t){const i={type:"root",children:n.wrap(n.all(t))};return n.patch(t,i),n.applyData(t,i)}function OA(n,t){const i={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function UA(n,t){const i=n.all(t),a=i.shift(),l=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:n.wrap([a],!0)};n.patch(t.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:n.wrap(i,!0)},f=Pd(t.children[1]),d=rb(t.children[t.children.length-1]);f&&d&&(c.position={start:f,end:d}),l.push(c)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(t,o),n.applyData(t,o)}function DA(n,t,i){const a=i?i.children:void 0,o=(a?a.indexOf(t):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,f=c?c.length:t.children.length;let d=-1;const p=[];for(;++d<f;){const g=t.children[d],v={},x=c?c[d]:void 0;x&&(v.align=x);let w={type:"element",tagName:o,properties:v,children:[]};g&&(w.children=n.all(g),n.patch(g,w),w=n.applyData(g,w)),p.push(w)}const m={type:"element",tagName:"tr",properties:{},children:n.wrap(p,!0)};return n.patch(t,m),n.applyData(t,m)}function zA(n,t){const i={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}const o0=9,u0=32;function LA(n){const t=String(n),i=/\r?\n|\r/g;let a=i.exec(t),l=0;const o=[];for(;a;)o.push(c0(t.slice(l,a.index),l>0,!0),a[0]),l=a.index+a[0].length,a=i.exec(t);return o.push(c0(t.slice(l),l>0,!1)),o.join("")}function c0(n,t,i){let a=0,l=n.length;if(t){let o=n.codePointAt(a);for(;o===o0||o===u0;)a++,o=n.codePointAt(a)}if(i){let o=n.codePointAt(l-1);for(;o===o0||o===u0;)l--,o=n.codePointAt(l-1)}return l>a?n.slice(a,l):""}function MA(n,t){const i={type:"text",value:LA(String(t.value))};return n.patch(t,i),n.applyData(t,i)}function BA(n,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,i),n.applyData(t,i)}const IA={blockquote:mA,break:pA,code:gA,delete:yA,emphasis:vA,footnoteReference:bA,heading:xA,html:wA,imageReference:_A,image:SA,inlineCode:EA,linkReference:jA,link:kA,listItem:AA,list:NA,paragraph:CA,root:RA,strong:OA,table:UA,tableCell:zA,tableRow:DA,text:MA,thematicBreak:BA,toml:So,yaml:So,definition:So,footnoteDefinition:So};function So(){}const Eb=-1,Jo=0,qs=1,Ho=2,Kd=3,Qd=4,Xd=5,Jd=6,jb=7,kb=8,f0=typeof self=="object"?self:globalThis,qA=(n,t)=>{const i=(l,o)=>(n.set(o,l),l),a=l=>{if(n.has(l))return n.get(l);const[o,c]=t[l];switch(o){case Jo:case Eb:return i(c,l);case qs:{const f=i([],l);for(const d of c)f.push(a(d));return f}case Ho:{const f=i({},l);for(const[d,p]of c)f[a(d)]=a(p);return f}case Kd:return i(new Date(c),l);case Qd:{const{source:f,flags:d}=c;return i(new RegExp(f,d),l)}case Xd:{const f=i(new Map,l);for(const[d,p]of c)f.set(a(d),a(p));return f}case Jd:{const f=i(new Set,l);for(const d of c)f.add(a(d));return f}case jb:{const{name:f,message:d}=c;return i(new f0[f](d),l)}case kb:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return i(new DataView(f),c)}}return i(new f0[o](c),l)};return a},d0=n=>qA(new Map,n)(0),xa="",{toString:PA}={},{keys:HA}=Object,Ds=n=>{const t=typeof n;if(t!=="object"||!n)return[Jo,t];const i=PA.call(n).slice(8,-1);switch(i){case"Array":return[qs,xa];case"Object":return[Ho,xa];case"Date":return[Kd,xa];case"RegExp":return[Qd,xa];case"Map":return[Xd,xa];case"Set":return[Jd,xa];case"DataView":return[qs,i]}return i.includes("Array")?[qs,i]:i.includes("Error")?[jb,i]:[Ho,i]},Eo=([n,t])=>n===Jo&&(t==="function"||t==="symbol"),$A=(n,t,i,a)=>{const l=(c,f)=>{const d=a.push(c)-1;return i.set(f,d),d},o=c=>{if(i.has(c))return i.get(c);let[f,d]=Ds(c);switch(f){case Jo:{let m=c;switch(d){case"bigint":f=kb,m=c.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return l([Eb],c)}return l([f,m],c)}case qs:{if(d){let v=c;return d==="DataView"?v=new Uint8Array(c.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(c)),l([d,[...v]],c)}const m=[],g=l([f,m],c);for(const v of c)m.push(o(v));return g}case Ho:{if(d)switch(d){case"BigInt":return l([d,c.toString()],c);case"Boolean":case"Number":case"String":return l([d,c.valueOf()],c)}if(t&&"toJSON"in c)return o(c.toJSON());const m=[],g=l([f,m],c);for(const v of HA(c))(n||!Eo(Ds(c[v])))&&m.push([o(v),o(c[v])]);return g}case Kd:return l([f,c.toISOString()],c);case Qd:{const{source:m,flags:g}=c;return l([f,{source:m,flags:g}],c)}case Xd:{const m=[],g=l([f,m],c);for(const[v,x]of c)(n||!(Eo(Ds(v))||Eo(Ds(x))))&&m.push([o(v),o(x)]);return g}case Jd:{const m=[],g=l([f,m],c);for(const v of c)(n||!Eo(Ds(v)))&&m.push(o(v));return g}}const{message:p}=c;return l([f,{name:d,message:p}],c)};return o},h0=(n,{json:t,lossy:i}={})=>{const a=[];return $A(!(t||i),!!t,new Map,a)(n),a},$o=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?d0(h0(n,t)):structuredClone(n):(n,t)=>d0(h0(n,t));function FA(n,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function VA(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function GA(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=n.options.footnoteBackContent||FA,a=n.options.footnoteBackLabel||VA,l=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",c=n.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let d=-1;for(;++d<n.footnoteOrder.length;){const p=n.footnoteById.get(n.footnoteOrder[d]);if(!p)continue;const m=n.all(p),g=String(p.identifier).toUpperCase(),v=La(g.toLowerCase());let x=0;const w=[],S=n.footnoteCounts.get(g);for(;S!==void 0&&++x<=S;){w.length>0&&w.push({type:"text",value:" "});let z=typeof i=="string"?i:i(d,x);typeof z=="string"&&(z={type:"text",value:z}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(d,x),className:["data-footnote-backref"]},children:Array.isArray(z)?z:[z]})}const E=m[m.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const z=E.children[E.children.length-1];z&&z.type==="text"?z.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...w)}else m.push(...w);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:n.wrap(m,!0)};n.patch(p,j),f.push(j)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$o(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(f,!0)},{type:"text",value:`
`}]}}const Ab=(function(n){if(n==null)return XA;if(typeof n=="function")return Zo(n);if(typeof n=="object")return Array.isArray(n)?YA(n):KA(n);if(typeof n=="string")return QA(n);throw new Error("Expected function, string, or object as test")});function YA(n){const t=[];let i=-1;for(;++i<n.length;)t[i]=Ab(n[i]);return Zo(a);function a(...l){let o=-1;for(;++o<t.length;)if(t[o].apply(this,l))return!0;return!1}}function KA(n){const t=n;return Zo(i);function i(a){const l=a;let o;for(o in n)if(l[o]!==t[o])return!1;return!0}}function QA(n){return Zo(t);function t(i){return i&&i.type===n}}function Zo(n){return t;function t(i,a,l){return!!(JA(i)&&n.call(this,i,typeof a=="number"?a:void 0,l||void 0))}}function XA(){return!0}function JA(n){return n!==null&&typeof n=="object"&&"type"in n}const Tb=[],ZA=!0,m0=!1,WA="skip";function eT(n,t,i,a){let l;typeof t=="function"&&typeof i!="function"?(a=i,i=t):l=t;const o=Ab(l),c=a?-1:1;f(n,void 0,[])();function f(d,p,m){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return v;function v(){let x=Tb,w,S,E;if((!t||o(d,p,m[m.length-1]||void 0))&&(x=tT(i(d,m)),x[0]===m0))return x;if("children"in d&&d.children){const j=d;if(j.children&&x[0]!==WA)for(S=(a?j.children.length:-1)+c,E=m.concat(j);S>-1&&S<j.children.length;){const z=j.children[S];if(w=f(z,S,E)(),w[0]===m0)return w;S=typeof w[1]=="number"?w[1]:S+c}}return x}}}function tT(n){return Array.isArray(n)?n:typeof n=="number"?[ZA,n]:n==null?Tb:[n]}function Nb(n,t,i,a){let l,o,c;typeof t=="function"&&typeof i!="function"?(o=void 0,c=t,l=i):(o=t,c=i,l=a),eT(n,o,f,l);function f(d,p){const m=p[p.length-1],g=m?m.children.indexOf(d):void 0;return c(d,g,m)}}const md={}.hasOwnProperty,nT={};function rT(n,t){const i=t||nT,a=new Map,l=new Map,o=new Map,c={...IA,...i.handlers},f={all:p,applyData:aT,definitionById:a,footnoteById:l,footnoteCounts:o,footnoteOrder:[],handlers:c,one:d,options:i,patch:iT,wrap:lT};return Nb(n,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?a:l,v=String(m.identifier).toUpperCase();g.has(v)||g.set(v,m)}}),f;function d(m,g){const v=m.type,x=f.handlers[v];if(md.call(f.handlers,v)&&x)return x(f,m,g);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in m){const{children:S,...E}=m,j=$o(E);return j.children=f.all(m),j}return $o(m)}return(f.options.unknownHandler||sT)(f,m,g)}function p(m){const g=[];if("children"in m){const v=m.children;let x=-1;for(;++x<v.length;){const w=f.one(v[x],m);if(w){if(x&&v[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=p0(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=p0(S.value))}Array.isArray(w)?g.push(...w):g.push(w)}}}return g}}function iT(n,t){n.position&&(t.position=PE(n))}function aT(n,t){let i=t;if(n&&n.data){const a=n.data.hName,l=n.data.hChildren,o=n.data.hProperties;if(typeof a=="string")if(i.type==="element")i.tagName=a;else{const c="children"in i?i.children:[i];i={type:"element",tagName:a,properties:{},children:c}}i.type==="element"&&o&&Object.assign(i.properties,$o(o)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function sT(n,t){const i=t.data||{},a="value"in t&&!(md.call(i,"hProperties")||md.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,a),n.applyData(t,a)}function lT(n,t){const i=[];let a=-1;for(t&&i.push({type:"text",value:`
`});++a<n.length;)a&&i.push({type:"text",value:`
`}),i.push(n[a]);return t&&n.length>0&&i.push({type:"text",value:`
`}),i}function p0(n){let t=0,i=n.charCodeAt(t);for(;i===9||i===32;)t++,i=n.charCodeAt(t);return n.slice(t)}function g0(n,t){const i=rT(n,t),a=i.one(n,void 0),l=GA(i),o=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return l&&o.children.push({type:"text",value:`
`},l),o}function oT(n,t){return n&&"run"in n?async function(i,a){const l=g0(i,{file:a,...t});await n.run(l,a)}:function(i,a){return g0(i,{file:a,...n||t})}}function y0(n){if(n)throw n}var Df,v0;function uT(){if(v0)return Df;v0=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):t.call(p)==="[object Array]"},o=function(p){if(!p||t.call(p)!=="[object Object]")return!1;var m=n.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&n.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!m&&!g)return!1;var v;for(v in p);return typeof v>"u"||n.call(p,v)},c=function(p,m){i&&m.name==="__proto__"?i(p,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):p[m.name]=m.newValue},f=function(p,m){if(m==="__proto__")if(n.call(p,m)){if(a)return a(p,m).value}else return;return p[m]};return Df=function d(){var p,m,g,v,x,w,S=arguments[0],E=1,j=arguments.length,z=!1;for(typeof S=="boolean"&&(z=S,S=arguments[1]||{},E=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});E<j;++E)if(p=arguments[E],p!=null)for(m in p)g=f(S,m),v=f(p,m),S!==v&&(z&&v&&(o(v)||(x=l(v)))?(x?(x=!1,w=g&&l(g)?g:[]):w=g&&o(g)?g:{},c(S,{name:m,newValue:d(z,w,v)})):typeof v<"u"&&c(S,{name:m,newValue:v}));return S},Df}var cT=uT();const zf=Gs(cT);function pd(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function fT(){const n=[],t={run:i,use:a};return t;function i(...l){let o=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...l);function f(d,...p){const m=n[++o];let g=-1;if(d){c(d);return}for(;++g<l.length;)(p[g]===null||p[g]===void 0)&&(p[g]=l[g]);l=p,m?dT(m,f)(...p):c(null,...p)}}function a(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),t}}function dT(n,t){let i;return a;function a(...c){const f=n.length>c.length;let d;f&&c.push(l);try{d=n.apply(this,c)}catch(p){const m=p;if(f&&i)throw m;return l(m)}f||(d&&d.then&&typeof d.then=="function"?d.then(o,l):d instanceof Error?l(d):o(d))}function l(c,...f){i||(i=!0,t(c,...f))}function o(c){l(null,c)}}const tr={basename:hT,dirname:mT,extname:pT,join:gT,sep:"/"};function hT(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Js(n);let i=0,a=-1,l=n.length,o;if(t===void 0||t.length===0||t.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(o){i=l+1;break}}else a<0&&(o=!0,a=l+1);return a<0?"":n.slice(i,a)}if(t===n)return"";let c=-1,f=t.length-1;for(;l--;)if(n.codePointAt(l)===47){if(o){i=l+1;break}}else c<0&&(o=!0,c=l+1),f>-1&&(n.codePointAt(l)===t.codePointAt(f--)?f<0&&(a=l):(f=-1,a=c));return i===a?a=c:a<0&&(a=n.length),n.slice(i,a)}function mT(n){if(Js(n),n.length===0)return".";let t=-1,i=n.length,a;for(;--i;)if(n.codePointAt(i)===47){if(a){t=i;break}}else a||(a=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function pT(n){Js(n);let t=n.length,i=-1,a=0,l=-1,o=0,c;for(;t--;){const f=n.codePointAt(t);if(f===47){if(c){a=t+1;break}continue}i<0&&(c=!0,i=t+1),f===46?l<0?l=t:o!==1&&(o=1):l>-1&&(o=-1)}return l<0||i<0||o===0||o===1&&l===i-1&&l===a+1?"":n.slice(l,i)}function gT(...n){let t=-1,i;for(;++t<n.length;)Js(n[t]),n[t]&&(i=i===void 0?n[t]:i+"/"+n[t]);return i===void 0?".":yT(i)}function yT(n){Js(n);const t=n.codePointAt(0)===47;let i=vT(n,!t);return i.length===0&&!t&&(i="."),i.length>0&&n.codePointAt(n.length-1)===47&&(i+="/"),t?"/"+i:i}function vT(n,t){let i="",a=0,l=-1,o=0,c=-1,f,d;for(;++c<=n.length;){if(c<n.length)f=n.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(i.length<2||a!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(d=i.lastIndexOf("/"),d!==i.length-1){d<0?(i="",a=0):(i=i.slice(0,d),a=i.length-1-i.lastIndexOf("/")),l=c,o=0;continue}}else if(i.length>0){i="",a=0,l=c,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+n.slice(l+1,c):i=n.slice(l+1,c),a=c-l-1;l=c,o=0}else f===46&&o>-1?o++:o=-1}return i}function Js(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const bT={cwd:xT};function xT(){return"/"}function gd(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function wT(n){if(typeof n=="string")n=new URL(n);else if(!gd(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _T(n)}function _T(n){if(n.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=n.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const a=t.codePointAt(i+2);if(a===70||a===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const Lf=["history","path","basename","stem","extname","dirname"];class Cb{constructor(t){let i;t?gd(t)?i={path:t}:typeof t=="string"||ST(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":bT.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Lf.length;){const o=Lf[a];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let l;for(l in i)Lf.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?tr.basename(this.path):void 0}set basename(t){Bf(t,"basename"),Mf(t,"basename"),this.path=tr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?tr.dirname(this.path):void 0}set dirname(t){b0(this.basename,"dirname"),this.path=tr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?tr.extname(this.path):void 0}set extname(t){if(Mf(t,"extname"),b0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=tr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){gd(t)&&(t=wT(t)),Bf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?tr.basename(this.path,this.extname):void 0}set stem(t){Bf(t,"stem"),Mf(t,"stem"),this.path=tr.join(this.dirname||"",t+(this.extname||""))}fail(t,i,a){const l=this.message(t,i,a);throw l.fatal=!0,l}info(t,i,a){const l=this.message(t,i,a);return l.fatal=void 0,l}message(t,i,a){const l=new Kt(t,i,a);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Mf(n,t){if(n&&n.includes(tr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+tr.sep+"`")}function Bf(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function b0(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ST(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const ET=(function(n){const a=this.constructor.prototype,l=a[n],o=function(){return l.apply(o,arguments)};return Object.setPrototypeOf(o,a),o}),jT={}.hasOwnProperty;class Zd extends ET{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fT()}copy(){const t=new Zd;let i=-1;for(;++i<this.attachers.length;){const a=this.attachers[i];t.use(...a)}return t.data(zf(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(Pf("data",this.frozen),this.namespace[t]=i,this):jT.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Pf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const l=i.call(t,...a);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=jo(t),a=this.parser||this.Parser;return If("parse",a),a(String(i),i)}process(t,i){const a=this;return this.freeze(),If("process",this.parser||this.Parser),qf("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(o,c){const f=jo(t),d=a.parse(f);a.run(d,f,function(m,g,v){if(m||!g||!v)return p(m);const x=g,w=a.stringify(x,v);TT(w)?v.value=w:v.result=w,p(m,v)});function p(m,g){m||!g?c(m):o?o(g):i(void 0,g)}}}processSync(t){let i=!1,a;return this.freeze(),If("processSync",this.parser||this.Parser),qf("processSync",this.compiler||this.Compiler),this.process(t,l),w0("processSync","process",i),a;function l(o,c){i=!0,y0(o),a=c}}run(t,i,a){x0(t),this.freeze();const l=this.transformers;return!a&&typeof i=="function"&&(a=i,i=void 0),a?o(void 0,a):new Promise(o);function o(c,f){const d=jo(i);l.run(t,d,p);function p(m,g,v){const x=g||t;m?f(m):c?c(x):a(void 0,x,v)}}}runSync(t,i){let a=!1,l;return this.run(t,i,o),w0("runSync","run",a),l;function o(c,f){y0(c),l=f,a=!0}}stringify(t,i){this.freeze();const a=jo(i),l=this.compiler||this.Compiler;return qf("stringify",l),x0(t),l(t,a)}use(t,...i){const a=this.attachers,l=this.namespace;if(Pf("use",this.frozen),t!=null)if(typeof t=="function")d(t,i);else if(typeof t=="object")Array.isArray(t)?f(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[m,...g]=p;d(m,g)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(p.plugins),p.settings&&(l.settings=zf(!0,l.settings,p.settings))}function f(p){let m=-1;if(p!=null)if(Array.isArray(p))for(;++m<p.length;){const g=p[m];o(g)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,m){let g=-1,v=-1;for(;++g<a.length;)if(a[g][0]===p){v=g;break}if(v===-1)a.push([p,...m]);else if(m.length>0){let[x,...w]=m;const S=a[v][1];pd(S)&&pd(x)&&(x=zf(!0,S,x)),a[v]=[p,x,...w]}}}}const kT=new Zd().freeze();function If(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function qf(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Pf(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function x0(n){if(!pd(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function w0(n,t,i){if(!i)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function jo(n){return AT(n)?n:new Cb(n)}function AT(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function TT(n){return typeof n=="string"||NT(n)}function NT(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const CT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",_0=[],S0={allowDangerousHtml:!0},RT=/^(https?|ircs?|mailto|xmpp)$/i,OT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function UT(n){const t=DT(n),i=zT(n);return LT(t.runSync(t.parse(i),i),n)}function DT(n){const t=n.rehypePlugins||_0,i=n.remarkPlugins||_0,a=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...S0}:S0;return kT().use(hA).use(i).use(oT,a).use(t)}function zT(n){const t=n.children||"",i=new Cb;return typeof t=="string"&&(i.value=t),i}function LT(n,t){const i=t.allowedElements,a=t.allowElement,l=t.components,o=t.disallowedElements,c=t.skipHtml,f=t.unwrapDisallowed,d=t.urlTransform||MT;for(const m of OT)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+CT+m.id,void 0);return Nb(n,p),GE(n,{Fragment:b.Fragment,components:l,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function p(m,g,v){if(m.type==="raw"&&v&&typeof g=="number")return c?v.children.splice(g,1):v.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let x;for(x in Rf)if(Object.hasOwn(Rf,x)&&Object.hasOwn(m.properties,x)){const w=m.properties[x],S=Rf[x];(S===null||S.includes(m.tagName))&&(m.properties[x]=d(String(w||""),x,m))}}if(m.type==="element"){let x=i?!i.includes(m.tagName):o?o.includes(m.tagName):!1;if(!x&&a&&typeof g=="number"&&(x=!a(m,g,v)),x&&v&&typeof g=="number")return f&&m.children?v.children.splice(g,1,...m.children):v.children.splice(g,1),g}}}function MT(n){const t=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),l=n.indexOf("/");return t===-1||l!==-1&&t>l||i!==-1&&t>i||a!==-1&&t>a||RT.test(n.slice(0,t))?n:""}const BT=[{question:"How do I create a recipe?",answer:`
You can create a recipe by going to **Your Profile  Add Recipe (+ button at the bottom right)**.
Make sure to fill all form fields, except the image which is optional.

    `},{question:"How do I create a thematic list?",answer:`
To create a thematic list, go to **Your Profile  Thematic Lists  + Thematic List (dashed rectangle)**.
Fill in the title and description, then add recipes to your list.
You can add more recipes later by editing the list.
    `},{question:"How do I follow other cooks?",answer:`
Visit any user profile and tap **Follow**.  
You will see their updates on future social features.
    `},{question:"How do I edit my profile?",answer:`
    Go to Profile  Edit Profile.
    Here you can change your:
    - Profile Picture
    - Bio
    - Other personal details
    `},{question:"How do I edit my uploaded recipes?",answer:`
    Go to Profile  My Recipes.
    Select the recipe you want to edit and tap Edit.
    Make your changes and save.
    `},{question:"How do I search for recipes?",answer:`
Use the search bar at the top of the page.  
You can search by:
- Recipe Title  
- Ingredients  
- Tags
    `},{question:"Which image formats are supported?",answer:`
Right now we support JPEG format only.
In the future we plan to support other formats including HEIC.
    `}];function IT(){const[n,t]=L.useState(null),i=a=>{t(n===a?null:a)};return b.jsxs("main",{className:"min-h-screen bg-bright pb-20 pt-10 px-4 sm:px-6 lg:px-10",children:[b.jsx("h1",{className:`
          text-center absolute left-1/2 top-26 -translate-x-1/2
          text-[80px] font-heading-styled 
          text-dark/5 select-none tracking-tight
        `,children:"FAQ"}),b.jsx("h1",{className:"text-3xl font-heading text-secondary mb-8 text-center",children:"Frequently Asked Questions"}),b.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:BT.map((a,l)=>b.jsxs("article",{className:"border border-secondary/20 bg-white rounded-xl shadow-sm p-4 cursor-pointer",onClick:()=>i(l),children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"font-heading text-lg text-secondary",children:a.question}),b.jsx("span",{className:"text-main font-heading text-xl",children:n===l?"":"+"})]}),n===l&&b.jsx("div",{className:"mt-3 text-dark/80 font-body text-sm leading-6",children:b.jsx(UT,{children:a.answer})})]},l))})]})}function kr({recipe:n,variant:t="grid",addedAt:i,backgroundColor:a="white"}){const l=qT(n.image_url,t==="grid"?600:360);return t==="list"?b.jsxs("article",{className:"flex gap-4 rounded-xl border border-off-white p-3 shadow-sm hover:shadow-md transition-shadow duration-150",style:{backgroundColor:a},children:[l&&b.jsx(pt,{to:`/recipe/${n.id}`,className:"relative block h-24 w-24 shrink-0 overflow-hidden rounded-lg",children:b.jsx("img",{src:l,alt:n.title,className:"h-full w-full object-cover"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-1",children:[b.jsx(pt,{to:`/recipe/${n.id}`,className:"text-base font-heading text-secondary hover:text-main transition-colors",children:n.title}),i&&b.jsxs("span",{className:"text-xs font-body text-dark/60",children:["Added on ",new Date(i).toLocaleDateString()]})]}),n.short_description&&b.jsx("p",{className:"mt-1 text-sm text-dark/70 font-body leading-5 line-clamp-3",children:n.short_description}),b.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs font-heading text-dark/70",children:[b.jsx(ko,{label:"Prep",value:E0(n.prep_time,"min")}),b.jsx(ko,{label:"Cook",value:E0(n.cook_time,"min")}),b.jsx(ko,{label:"Servings",value:n.servings?.toString()}),b.jsx(ko,{label:"Difficulty",value:typeof n.difficulty=="string"?n.difficulty:n.difficulty?.toString()})]})]})]}):b.jsxs("article",{className:"rounded-lg w-68 shrink-0 overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition",style:{backgroundColor:a},children:[l?b.jsx(pt,{to:`/recipe/${n.id}`,children:b.jsx("img",{src:l,alt:n.title,className:"w-full h-44 object-cover"})}):b.jsx("div",{className:"w-full h-44 bg-gray-200"}),b.jsxs("div",{className:"p-4 h-60",children:[b.jsx(pt,{to:`/recipe/${n.id}`,className:"text-lg font-semibold text-[#e57f22] hover:text-[#c96411] transition-colors w-",children:n.title}),n.short_description&&b.jsx("p",{className:"mt-2 h-22 text-sm text-gray-700 leading-relaxed line-clamp-5",children:n.short_description}),b.jsxs("div",{className:"mt-3 text-xs text-gray-500 space-y-1",children:[(n.prep_time||n.cook_time)&&b.jsxs("p",{children:[" Prep: ",n.prep_time??"-"," min  Cook:"," ",n.cook_time??"-"," min"]}),n.servings&&b.jsxs("p",{children:[" Servings: ",n.servings]}),n.difficulty!=null&&b.jsxs("p",{children:[" Difficulty:"," ",typeof n.difficulty=="string"?n.difficulty:`${n.difficulty}/5`]})]})]})]})}function qT(n,t=600){if(n)return n.startsWith("http")?n:Md(n,t)}function ko({label:n,value:t}){return t?b.jsxs("span",{className:"rounded-full bg-off-white px-3 py-1",children:[b.jsxs("span",{className:"font-semibold",children:[n,":"]})," ",t]}):null}function E0(n,t){if(n!=null)return t?`${n} ${t}`:`${n}`}function PT({review:n,className:t="",recipeCardBackground:i="var(--color-bright)"}){const a=HT(n.author),l=n.author?.username?`/profile/${n.author.username}`:void 0,o=$T(n.rating);return b.jsxs("article",{className:`flex flex-row shrink-0  max-w-full rounded-2xl border border-off-white bg-bright shadow-lg overflow-hidden ${t}`,children:[b.jsxs("div",{className:"flex w-64 flex-col  bg-off-white/70 p-5 ",children:[b.jsxs(pt,{to:`/review/${n.id}`,className:"flex items-center justify-between gap-3 hover:text-main transition-colors",children:[b.jsxs("div",{className:"text-lg font-heading text-dark",children:["Review:"," ",b.jsxs("span",{className:"font-semibold text-main",children:[o,b.jsx("span",{className:"text-dark/60",children:"/5"})]})]}),b.jsx(FT,{author:n.author})]}),b.jsxs("div",{className:"text-sm font-body text-dark/70 flex items-center gap-2 mb-10",children:[b.jsx("span",{className:"text-xs uppercase tracking-wide text-dark/50",children:"by"}),l?b.jsx(pt,{to:l,className:"text-main font-semibold hover:text-secondary transition-colors",onClick:c=>c.stopPropagation(),children:a}):b.jsx("span",{className:"font-semibold",children:a})]}),n.description?b.jsx("p",{className:"text-sm text-dark/80 font-body leading-relaxed line-clamp-3",children:n.description}):b.jsx("p",{className:"text-sm text-dark/50 font-body italic",children:"No review text provided."})]}),b.jsx("div",{className:"flex-1 border-l border-off-white",children:n.recipe?b.jsx(kr,{recipe:n.recipe,backgroundColor:i}):b.jsx("div",{className:"p-4 text-sm text-dark/60 font-body h-full flex items-center",children:"Recipe unavailable"})})]})}function HT(n){return n&&(`${n.first_name??""} ${n.last_name??""}`.trim()||n.username)||"Tempero cook"}function $T(n){return Number.isNaN(n)?0:Math.max(0,Math.min(5,Math.round(n)))}function FT({author:n}){const t=n?.profile_picture_url,i=(n?.first_name?.[0]??n?.last_name?.[0]??"?").toUpperCase();return t?b.jsx("img",{src:t,alt:n?.username??"Profile picture",className:"h-10 w-10 rounded-full object-cover border border-white shadow-sm"}):b.jsx("div",{className:"h-10 w-10 rounded-full bg-main/10 text-main font-semibold flex items-center justify-center border border-main/20",children:i})}async function VT(n){const{data:t,error:i}=await he.from("recipes").select("*").order("updated_at",{ascending:!1}).limit(n);return i?(console.error("Error fetching recent recipes:",i),[]):t??[]}async function j0(n){const{data:t,error:i}=await he.from("recipes").select("*").eq("difficulty",n);return i?(console.error("Error fetching recipes by level:",i),[]):t??[]}async function GT(n=20){const{data:t,error:i}=await he.from("popular_recipes").select("*").order("popularity",{ascending:!1}).limit(n);return i?(console.error("Error fetching popular recipes:",i),[]):t}function YT(){return b.jsx("button",{className:"bg-main text-bright text-3xl font-heading fixed right-6 bottom-10 py-2 px-4 rounded shadow-2xl hover:cursor-pointer hover:-translate-y-1 hover:opacity-80 transition-all",children:b.jsx(Oo,{to:"/upload-recipe",children:"+"})})}async function KT(n,t){if(t&&t.length===0)return[];let i=he.from("reviews").select(`
        id,
        author_id,
        review,
        description,
        recipe_id,
        created_at,
        updated_at,
        recipes(
          id,
          title,
          short_description,
          image_url,
          prep_time,
          cook_time,
          servings,
          difficulty
        )
      `).order("updated_at",{ascending:!1});t&&t.length>0&&(i=i.in("author_id",t)),i=i.limit(n);const{data:a,error:l}=await i;if(l)return console.error("Error fetching recent reviews:",l),[];const o=(a??[]).map(d=>({...d,recipes:Array.isArray(d.recipes)?d.recipes[0]??null:d.recipes??null})),c=Array.from(new Set(o.map(d=>d.author_id).filter(Boolean)));let f=new Map;if(c.length>0){const{data:d,error:p}=await he.from("profiles").select("auth_id, username, first_name, last_name, profile_picture_url").in("auth_id",c);p?console.error("Error fetching profiles for reviews:",p):f=new Map((d??[]).map(m=>[m.auth_id,m]))}return o.map(d=>({id:d.id,rating:d.review,description:d.description??null,updated_at:d.updated_at??d.created_at??null,recipe:d.recipes??null,author:f.get(d.author_id)??null}))}async function QT(n){const{data:t,error:i}=await he.from("followers").select("followed_id").eq("follower_id",n);return i?(console.error("Error fetching follow relationships:",i),[]):(t??[]).map(a=>a.followed_id).filter(Boolean)}function XT(){const[t,i]=L.useState([]),[a,l]=L.useState([]),[o,c]=L.useState(null),[f,d]=L.useState(null),[p,m]=L.useState([]),[g,v]=L.useState([]),[x,w]=L.useState([]);return L.useEffect(()=>{VT(10).then(i)},[]),L.useEffect(()=>{let S=!0;return he.auth.getUser().then(({data:E})=>{S&&c(E.user?.id??null)}),()=>{S=!1}},[]),L.useEffect(()=>{let S=!0;if(!o){d([]);return}return QT(o).then(E=>{S&&d(E)}),()=>{S=!1}},[o]),L.useEffect(()=>{let S=!0;if(f!==null){if(f.length===0){l([]);return}return KT(10,f).then(E=>{S&&l(E)}),()=>{S=!1}}},[f]),L.useEffect(()=>{const S=[...t.map(E=>({kind:"recipe",date:E?.updated_at??E?.created_at??null,data:E})),...a.map(E=>({kind:"review",date:E?.created_at??E?.updated_at??null,data:E}))];S.sort((E,j)=>{const z=E.date?new Date(E.date).getTime():0;return(j.date?new Date(j.date).getTime():0)-z}),w(S)},[t,a]),L.useEffect(()=>{(async()=>{if(!o)return;const{data:E,error:j}=await he.from("profiles").select("level").eq("auth_id",o).single();if(j||!E)return;const z=E.level,N=await j0(z),M=await j0(z+1),$=[...N,...M];m($)})()},[o]),L.useEffect(()=>{(async()=>{const E=await GT(15);v(E),console.log(E)})()},[]),b.jsxs("div",{className:"main-section bg-bright min-h-screen flex flex-col items-center justify-start py-10 px-5 space-y-15",children:[b.jsxs("div",{className:"feed-preview-container flex flex-col max-w-full ",children:[b.jsx("div",{className:"feed-preview-header mb-2",children:b.jsx("h2",{className:"text-4xl font-heading-styled w-fit text-gradient-to-r py-2 ",children:"What's new?"})}),b.jsx("div",{className:"feed-preview-list flex flex-row gap-6 bg-white rounded-lg shadow-lg overflow-x-scroll p-6 custom-scroll w-full h-120",children:x.map((S,E)=>b.jsx("div",{children:S.kind==="review"?b.jsx(PT,{review:S.data,className:"min-w-[300px]"}):b.jsx(kr,{recipe:S.data,backgroundColor:"var(--color-bright)"})},`${S.kind}-${S.data.id??E}`))})]}),b.jsxs("div",{className:"suggestions-preview-container flex flex-col md:items-center w-full",children:[b.jsxs("div",{className:"suggestions-preview-header mb-6 text-center",children:[b.jsx("h2",{className:"text-4xl font-heading-styled text-gradient-to-r py-2 mx-auto",children:"Suggestions for you!"}),b.jsx("b",{className:"font-body font-thin text-dark",children:"Recipe selection curated to increase your experience level"})]}),b.jsx("div",{className:"feed-preview-list flex flex-row gap-6 bg-white rounded-lg shadow-lg overflow-x-scroll p-6 custom-scroll w-full h-120",children:p.map(S=>b.jsx(kr,{recipe:S,backgroundColor:"var(--color-bright)"},S.id))})]}),b.jsxs("div",{className:"suggestions-preview-container flex flex-col md:items-end w-full",children:[b.jsx("div",{className:"suggestions-preview-header  md:text-right mb-2",children:b.jsx("h2",{className:"text-4xl font-heading-styled w-fit text-gradient-to-r   py-2 ",children:"Popular recipes!"})}),b.jsx("div",{className:"feed-preview-list flex flex-row gap-6 bg-white rounded-lg shadow-lg overflow-x-scroll p-6 custom-scroll w-full h-120",children:g.map(S=>b.jsx(kr,{recipe:S,backgroundColor:"var(--color-bright)"},S.id))})]})]})}function JT({listId:n,onClose:t,onAdded:i}){const[a,l]=L.useState([]),[o,c]=L.useState(!1),[f,d]=L.useState(!1);L.useEffect(()=>{(async()=>{c(!0);const{data:m}=await he.from("recipes").select("*");l(m||[]),c(!1)})()},[]);async function p(m){d(!0),await he.from("list_recipes").insert({list_id:n,recipe_id:m}),d(!1),i(),t()}return b.jsx("div",{className:`
      fixed inset-0 bg-black/40 backdrop-blur-sm
      flex items-center justify-center z-50
    `,children:b.jsxs("div",{className:`
        w-full max-w-lg bg-white rounded-xl p-6 
        border border-secondary/30 shadow-xl
      `,children:[b.jsx("h2",{className:"font-heading-styled text-2xl text-secondary mb-4",children:"Add Recipes"}),o?b.jsx("p",{className:"font-body text-dark",children:"Loading recipes"}):b.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3",children:a.map(m=>b.jsxs("div",{className:`flex justify-between items-center p-3
                  rounded-lg border bg-bright border-dark/10`,children:[b.jsx("span",{className:"font-body text-dark",children:m.title}),b.jsx("button",{onClick:()=>p(m.id),className:`
                    bg-main hover:bg-secondary text-bright
                    px-3 py-1 rounded-md font-heading-styled
                  `,disabled:f,children:"Add"})]},m.id))}),b.jsx("button",{onClick:t,className:`
            mt-5 w-full bg-dark/20 hover:bg-dark/30 
            text-dark font-body py-2 rounded-lg
          `,children:"Cancel"})]})})}function Rb({message:n,type:t="success",onClose:i}){return L.useEffect(()=>{const a=setTimeout(i,2500);return()=>clearTimeout(a)},[]),b.jsx("div",{className:`
        fixed bottom-6 right-6 z-50 px-5 py-3 rounded-xl shadow-lg
        text-bright font-body transition-opacity
        ${t==="success"?"bg-secondary/50":"bg-red-600"}
      `,children:n})}async function ZT(){const{data:n,error:t}=await he.from("lists").select(`
      id,
      user_id,
      title,
      description,
      visibility,
      created_at,
      profiles:user_id (
        username,
        first_name,
        last_name,
        profile_picture_url
      ),
      list_recipes(count)
    `).eq("visibility","PUBLIC").order("created_at",{ascending:!1});if(t)throw t;return n??[]}async function WT(n,t){let i=he.from("lists").select(`
      id,
      user_id,
      title,
      description,
      visibility,
      created_at,
      list_recipes(count)
    `).eq("user_id",n).order("created_at",{ascending:!1});t||(i=i.eq("visibility","PUBLIC"));const{data:a,error:l}=await i;if(l)throw l;return a??[]}async function k0(n){const{data:t,error:i}=await he.from("lists").select(`
      id,
      user_id,
      title,
      description,
      visibility,
      created_at,
      profiles:user_id (
        username,
        first_name,
        last_name,
        profile_picture_url
      )
    `).eq("id",n).maybeSingle();if(i)throw i;if(!t)return{playlist:null,recipes:[]};const{data:a,error:l}=await he.from("list_recipes").select(`
      added_at,
      recipes:recipe_id (
        id,
        title,
        short_description,
        image_url,
        prep_time,
        cook_time,
        servings,
        difficulty
      )
    `).eq("list_id",n);if(l)throw l;return{playlist:t,recipes:a??[]}}function eN(){const{playlistId:n}=Vo(),[t,i]=L.useState(null),[a,l]=L.useState([]),[o,c]=L.useState(!1),[f,d]=L.useState(null),[p,m]=L.useState(!1),[g,v]=L.useState(null);if(L.useEffect(()=>{n&&(c(!0),d(null),k0(n).then(({playlist:E,recipes:j})=>{i(E),l(j)}).catch(E=>d(E.message)).finally(()=>c(!1)))},[n]),o)return b.jsx("main",{className:"min-h-screen bg-bright",children:b.jsx("div",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8",children:b.jsx(ar,{message:"Loading list details"})})});if(f)return b.jsx("main",{className:"min-h-screen bg-bright",children:b.jsx("div",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8",children:b.jsx("p",{className:"text-sm text-color-danger font-body",children:f})})});if(!t)return b.jsx("main",{className:"min-h-screen bg-bright",children:b.jsx("div",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8",children:b.jsx("p",{className:"text-sm text-dark/60 font-body",children:"List not found."})})});const x=t.visibility==="PUBLIC",w=t.profiles,S=w?.first_name||w?.last_name?`${w?.first_name??""} ${w?.last_name??""}`.trim():w?.username??"Unknown cook";return b.jsxs("main",{className:"min-h-screen bg-bright",children:[b.jsxs("section",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8 sm:px-6 lg:px-8",children:[b.jsxs("header",{className:"mb-6",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-heading text-secondary sm:text-3xl",children:t.title}),b.jsxs("p",{className:"mt-1 text-sm text-dark/70 font-body",children:["by"," ",b.jsx("span",{className:"font-semibold text-secondary",children:S})]})]}),b.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold font-body ${x?"bg-green-100 text-green-700":"bg-off-white text-dark/70"}`,children:x?"Public list":"Private list"})]}),!o&&t&&b.jsx("button",{onClick:()=>m(!0),className:`
      mt-4 bg-main hover:bg-secondary 
      text-bright font-heading-styled 
      px-4 py-2 rounded-lg transition
    `,children:"+ Add Recipes"}),t.description&&b.jsx("p",{className:"mt-3 text-sm text-dark/80 font-body",children:t.description})]}),a.length?b.jsx("div",{className:"space-y-3",children:a.map(E=>E.recipes?b.jsx(kr,{variant:"list",addedAt:E.added_at,recipe:{id:E.recipes.id,title:E.recipes.title,short_description:E.recipes.short_description,image_url:E.recipes.image_url,prep_time:E.recipes.prep_time,cook_time:E.recipes.cook_time,servings:E.recipes.servings,difficulty:E.recipes.difficulty}},E.recipes.id):null)}):b.jsx("p",{className:"text-sm text-dark/60 font-body",children:"This list doesnt have any recipes yet."})]}),p&&b.jsx(JT,{listId:n,onClose:()=>m(!1),onAdded:()=>{k0(n).then(({recipes:E})=>{l(E),v({message:"Recipe added to list",type:"success"})})}}),g&&b.jsx(Rb,{message:g.message,type:g.type,onClose:()=>v(null)})]})}function tN(){const[n,t]=L.useState(""),[i,a]=L.useState(""),[l,o]=L.useState(!1),[c,f]=L.useState(!1),[d,p]=L.useState(!1),[m,g]=L.useState(null),[v,x]=L.useState(null),w=on();function S(M){if(!M)return null;const $=M.toLowerCase();return $.includes("invalid login credentials")?"Invalid email or password. Make sure your account is confirmed.":$.includes("email not confirmed")||$.includes("confirm")?"Email not confirmed. Check your inbox or resend the confirmation.":M}async function E(M){M.preventDefault(),g(null),x(null),f(!0);const{data:$,error:T}=await he.auth.signInWithPassword({email:n,password:i});if(f(!1),T){g(S(T.message));return}if($.user){const{data:H}=await he.from("profiles").select("xp").eq("auth_id",$.user.id).single();console.log("User profile:",H),H?.xp?w("/home"):w("/skill-assessment")}}async function j(){if(g(null),x(null),!n){g("Enter your email first to resend the confirmation link.");return}try{p(!0);const{error:M}=await he.auth.resend({type:"signup",email:n,options:{emailRedirectTo:`${window.location.origin}/login`}});M?g(M.message):x("Confirmation email sent. Please check your inbox (and spam).")}finally{p(!1)}}async function z(){if(g(null),x(null),!n){g("Enter your email first to receive a reset link.");return}const M=`${window.location.origin}/update-password`,{error:$}=await he.auth.resetPasswordForEmail(n,{redirectTo:M});$?g($.message):x("Password reset email sent. Check your inbox.")}const N=m?.toLowerCase().includes("confirm")||m?.toLowerCase().includes("not confirmed")||!1;return b.jsxs("div",{className:"fixed min-h-screen min-w-screen px-2 flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center",children:[b.jsx("div",{className:"logo fixed top-1 left-1 z-10 ",children:b.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-16"})}),b.jsx("div",{className:"absolute inset-0 backdrop-blur-xs pointer-events-none"}),b.jsx("div",{className:"mx-auto mt-12 max-w-md",children:b.jsxs("div",{className:"rounded-xl bg-bright/90 p-6 shadow-sm relative z-10",children:[b.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Login"}),b.jsx("p",{className:"mb-10 text-sm text-gray-600",children:"Log in to continue your Tempero journey: cook, review and level up."}),m&&b.jsx("div",{className:"mb-3 font-body rounded-lg bg-main/10 px-3 py-2 text-sm text-danger",children:m}),v&&b.jsx("div",{className:"mb-3 font-body rounded-lg bg-main/10 px-3 py-2 text-sm text-main",children:v}),b.jsxs("form",{onSubmit:E,className:"space-y-4",noValidate:!0,children:[b.jsxs("div",{className:"space-y-1 mb-5",children:[b.jsx("label",{htmlFor:"login-email",className:"text-lg font-heading text-dark",children:"Email"}),b.jsx("input",{id:"login-email",type:"email",autoComplete:"email",required:!0,value:n,onChange:M=>t(M.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"you@tempero.app"})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"login-pass",className:"text-lg font-heading text-dark",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"login-pass",type:l?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:M=>a(M.target.value),className:"w-full rounded-lg px-3 py-2 pr-24 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"Your password"}),b.jsx("button",{type:"button",onClick:()=>o(M=>!M),className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-600 hover:text-gray-900","aria-label":l?"Hide password":"Show password",children:l?"Hide":"Show"})]})]}),b.jsx("button",{type:"submit",disabled:c,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150",children:c?"Signing in":"Log in"})]}),b.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("button",{type:"button",onClick:z,className:"text-gray-700 underline underline-offset-4 hover:text-black",children:"Forgot password?"}),b.jsxs("span",{className:"text-gray-600",children:["No account?"," ",b.jsx(pt,{to:"/register",className:"underline underline-offset-4",children:"Register"})]})]}),N&&b.jsx("button",{type:"button",onClick:j,disabled:d,className:"self-start text-gray-700 underline underline-offset-4 hover:text-black disabled:opacity-70",children:d?"Resending":"Resend confirmation email"})]})]})})]})}const Ob="/Tempero/assets/febrian-zakaria-SiQgni-cqFg-unsplash-Dtt0wCGT.jpg";function nN({userId:n}){const[t,i]=L.useState([]),[a,l]=L.useState(!0);return L.useEffect(()=>{if(!n){l(!0);return}(async()=>{l(!0);const{data:c,error:f}=await he.from("recipes").select("*").eq("authorId",n);f?console.error("Error fetching recipes:",f):i(c),l(!1)})()},[n]),a?b.jsx(ar,{message:"Fetching recipes..."}):b.jsxs("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,minmax(260px,1fr))]",children:[t.map(o=>b.jsx(kr,{recipe:o},o.id)),b.jsx(YT,{})]})}function rN({userId:n}){const[t,i]=L.useState([]),[a,l]=L.useState(!0);return L.useEffect(()=>{(async()=>{let c=he.from("reviews").select("id,author_id,profiles(first_name, last_name),review,description,recipe_id,recipes(title)");n&&(c=c.eq("author_id",n));const{data:f,error:d}=await c.order("id",{ascending:!1});d?console.error("Error fetching reviews:",d):i(f),l(!1)})()},[n]),a?b.jsx(ar,{message:"Fetching reviews..."}):b.jsx("div",{className:"space-y-4",children:t.map(o=>b.jsxs("article",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm hover:shadow-md transition",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h4",{className:"font-semibold text-[#e57f22]",children:[o.profiles.first_name," ",o.profiles.last_name]}),b.jsx("h5",{className:"text-gray-500 text-sm",children:o.recipes.title}),b.jsxs("span",{className:"text-yellow-500",children:["".repeat(o.review),"".repeat(5-o.review)]})]}),b.jsx("p",{className:"mt-2 text-gray-700 text-sm leading-relaxed",children:o.description})]},o.id))})}function iN(n){const t=n.profiles;return t?t.first_name||t.last_name?`${t.first_name??""} ${t.last_name??""}`.trim():t.username??"Unknown cook":"Unknown cook"}function Ub({playlist:n,isOwnProfile:t,onDelete:i}){const a=iN(n),l=n.list_recipes?.[0]?.count??0;return b.jsxs("div",{className:"relative",children:[t&&b.jsx("button",{onClick:()=>i(n.id),className:"absolute top-3 right-3 text-color-danger hover:text-red-700 text-lg font-bold z-10 opacity-20 hover:opacity-100 transition-opacity",children:""}),b.jsxs(pt,{to:`/lists/${n.id}`,className:"block rounded-xl border border-secondary/20 bg-bright p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-md",children:[b.jsxs("div",{className:"flex items-start justify-between gap-2",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-heading font-semibold text-secondary",children:n.title}),b.jsxs("p",{className:"mt-1 text-xs font-body text-dark/70",children:["by ",b.jsx("span",{className:"font-medium",children:a})]})]}),b.jsx("span",{className:`rounded-full mr-4 px-2 py-0.5 text-xs font-body font-medium ${n.visibility==="PUBLIC"?"bg-main/10 text-main":"bg-dark/10 text-dark"}`,children:n.visibility==="PUBLIC"?"Public":"Private"})]}),n.description&&b.jsx("p",{className:"mt-3 line-clamp-2 text-sm font-body text-dark/80",children:n.description}),b.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs font-body text-dark/70",children:[b.jsxs("span",{children:[l," recipe",l===1?"":"s"]}),b.jsx("span",{className:"font-medium text-main",children:"View Recipes "})]})]})]})}function aN({userId:n,isOwnProfile:t}){const[i,a]=L.useState([]),[l,o]=L.useState(!1),[c,f]=L.useState(null),[d,p]=L.useState(null);L.useEffect(()=>{n&&(o(!0),WT(n,t).then(a).catch(g=>f(g.message)).finally(()=>o(!1)))},[n,t]);async function m(g){await he.from("lists").delete().eq("id",g),a(v=>v.filter(x=>x.id!==g)),p({message:"List removed",type:"success"})}return n?l?b.jsx(ar,{message:"Loading playlists"}):c?b.jsx("p",{className:"text-sm text-red-600",children:c}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.map(g=>b.jsx(Ub,{playlist:g,isOwnProfile:t,onDelete:m},g.id)),t&&b.jsxs(pt,{to:"/lists/new",className:`
              flex flex-col items-center justify-center
              rounded-xl border-2 border-dashed border-main/40
              bg-bright text-main h-40
              hover:border-main hover:bg-main/5 transition
            `,children:[b.jsx("span",{className:"text-3xl font-bold",children:""}),b.jsx("span",{className:"mt-1 font-heading text-lg",children:"Thematic List"})]})]}),d&&b.jsx(Rb,{message:d.message,type:d.type,onClose:()=>p(null)})]}):b.jsx("p",{className:"text-sm text-slate-500",children:"No user."})}function sN({userId:n}){const[t,i]=L.useState([]),[a,l]=L.useState(!0);return L.useEffect(()=>{if(!n){i([]),l(!1);return}(async()=>{l(!0);const{data:c,error:f}=await he.from("recipes").select(`
            id,
            title,
            short_description,
            image_url,
            prep_time,
            cook_time,
            servings,
            difficulty,
            recipe_likes!inner(auth_id)
          `).eq("recipe_likes.auth_id",n);if(f)console.error("Error fetching liked recipes:",f),i([]);else{const d=c?.map(({recipe_likes:p,...m})=>m)??[];i(d)}l(!1)})()},[n]),a?b.jsx(ar,{message:"Fetching liked recipes..."}):b.jsxs("section",{className:"space-y-4",children:[b.jsxs("header",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-heading-styled text-secondary",children:"Liked Recipes"}),b.jsx("p",{className:"text-sm text-dark/60 font-body",children:"Recipes this chef has liked."})]}),b.jsxs("span",{className:"text-xs font-heading-styled px-3 py-1 rounded-full bg-main/10 text-main border border-main/40",children:[t.length," ",t.length===1?"recipe":"recipes"]})]}),t.length===0?b.jsx("p",{className:"text-sm text-dark/60 font-body",children:"No liked recipes yet."}):b.jsx("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,minmax(260px,1fr))]",children:t.map(o=>b.jsx(kr,{recipe:o},o.id))})]})}const lN=[{label:"Master Chef",icon:""},{label:"Bake Off",icon:""},{label:"Sous Chef",icon:""},{label:"Vegetarian",icon:""}];function oN(){const{username:n}=Vo(),[t,i]=L.useState("recipes"),[a,l]=L.useState(null),[o,c]=L.useState(null),[f,d]=L.useState(!1),[p,m]=L.useState(!1),[g,v]=L.useState(!1),[x,w]=L.useState(!1),[S,E]=L.useState(0),[,j]=L.useState(null),[z,N]=L.useState(0),M=on();L.useEffect(()=>{(async()=>{const{data:B}=await he.auth.getUser();l(B?.user??null)})()},[]);const $=a&&o?a.id===o.auth_id:!1;L.useEffect(()=>{if(!n)return;let B=!1;return(async()=>{const{data:I,error:Y}=await he.from("profiles").select("*").eq("username",n).maybeSingle();if(B)return;if(Y||!I){c(null),d(!0);return}d(!1),c(I);const{count:P}=await he.from("followers").select("*",{count:"exact",head:!0}).eq("followed_id",I.auth_id),{count:V}=await he.from("followers").select("*",{count:"exact",head:!0}).eq("follower_id",I.auth_id);if(B||(E(P||0),N(V||0)),j(I.profile_picture_url||null),console.log("Profile picture:",I.profile_picture_url),a&&I&&a.id!==I.auth_id){const{data:k}=await he.from("followers").select("follower_id").eq("follower_id",a.id).eq("followed_id",I.auth_id).maybeSingle();B||v(!!k)}})(),()=>{B=!0}},[n,a]);async function T(){if(!(!a||!o)){w(!0);try{g?(await he.from("followers").delete().eq("follower_id",a.id).eq("followed_id",o.auth_id),v(!1),E(B=>B-1)):(await he.from("followers").insert({follower_id:a.id,followed_id:o.auth_id}),v(!0),E(B=>B+1))}catch(B){console.error("Follow error:",B)}finally{w(!1)}}}const H=o?.first_name||o?.last_name?`${o?.first_name??""} ${o?.last_name??""}`.trim():o?.username??"Unnamed User",C=o?.bio||"",D=C.slice(0,120),F=C.length>120;return f?b.jsx("div",{className:"min-h-screen w-full bg-bright flex justify-center items-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-2xl font-heading-styled text-secondary mb-4",children:"User not found."}),b.jsx("p",{className:"text-gray-600",children:"The profile you're looking for doesn't exist."})]})}):b.jsx("div",{className:"min-h-screen w-full bg-bright flex justify-center items-start py-10",children:b.jsxs("section",{className:"w-full max-w-7xl flex flex-col lg:flex-row items-start justify-center gap-10 px-4 sm:px-6 lg:px-10",children:[b.jsxs("article",{className:"relative w-full lg:w-1/3 bg-white border border-secondary/30 rounded-xl shadow-sm px-4 sm:px-6 py-6 flex flex-col items-center",children:[b.jsx("img",{src:o?.profile_picture_url?Bd(o.profile_picture_url):Ob,alt:H,className:`
              absolute left-0 sm:left-0 top-0
              h-44 w-32 sm:h-48 sm:w-32 
              object-cover rounded-tl-lg rounded-br-lg
            `}),b.jsxs("div",{className:"w-full max-w-[320px] mt-2 sm:mt-6 mx-auto text-center flex flex-col items-end",children:[b.jsx("h1",{className:"font-heading-styled text-3xl text-secondary mb-2",children:H}),o?.level&&o?.chef_type&&b.jsxs("div",{className:"bg-bright text-dark py-1 px-4 rounded-lg shadow-sm w-fit mb-4 font-body",children:[b.jsxs("span",{className:"font-heading-styled font-semibold",children:["Level ",o.level]})," ",""," ",b.jsx("span",{className:"text-main font-heading-styled font-semibold",children:o.chef_type})]}),b.jsxs("div",{className:"flex items-center justify-center gap-10 text-center font-body text-dark my-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-lg text-main font-heading-styled font-semibold",children:S}),b.jsx("p",{className:"text-sm font-heading-styled",children:"Followers"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-lg text-main font-heading-styled font-semibold",children:z}),b.jsx("p",{className:"text-sm font-heading-styled",children:"Following"})]})]}),a&&o?.auth_id!==a.id&&b.jsx("button",{className:`mt-3 w-full max-w-[460px] font-heading-styled py-2.5 rounded-lg transition ${g?"bg-gray-500 hover:bg-gray-600 text-white":"bg-main hover:bg-secondary text-bright"}`,onClick:T,disabled:x,children:x?"...":g?"Unfollow":"Follow"}),b.jsx("div",{className:"border-t border-dotted border-dark/40 w-full my-5"}),b.jsx("div",{className:"w-full max-w-[300px] flex flex-wrap gap-3 justify-center bg-white rounded-xl p-3 shadow-sm",children:lN.map((B,I)=>b.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-md bg-bright font-body text-dark text-sm",children:[B.icon," ",B.label]},I))}),b.jsx("div",{className:"border-t border-dotted border-dark/40 w-full my-5"}),b.jsx("p",{className:"font-body text-dark leading-7 text-left",children:C?b.jsxs(b.Fragment,{children:[p?C:D,F&&!p&&"... ",F&&b.jsx("button",{onClick:()=>m(!p),className:"text-main font-semibold ml-1",children:p?"Show less":"Read more"})]}):b.jsx("span",{className:"text-gray-500 italic",children:"This user has not provided a bio yet."})}),$&&b.jsx("button",{className:"my-6 w-full max-w-[460px] bg-main hover:bg-secondary transition text-bright font-heading-styled py-2.5 rounded-lg items-start",onClick:()=>M("/profile/edit"),children:"Edit Profile"})]})]}),b.jsxs("div",{className:"w-full lg:w-2/3",children:[b.jsxs("div",{className:"flex gap-6 mb-5 border-b border-dark/10 font-heading text-lg",children:[b.jsx("button",{className:`pb-2 ${t==="recipes"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("recipes"),children:"Recipes"}),b.jsx("button",{className:`pb-2 ${t==="reviews"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("reviews"),children:"Reviews"}),b.jsx("button",{className:`pb-2 ${t==="lists"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("lists"),children:"Lists"}),b.jsx("button",{className:`pb-2 ${t==="liked"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("liked"),children:"Liked"})]}),t==="recipes"?b.jsx(nN,{userId:o?.auth_id,username:o?.username}):t==="reviews"?b.jsx(rN,{userId:o?.auth_id,username:o?.username}):t==="lists"?b.jsx(aN,{userId:o?.auth_id,isOwnProfile:$}):b.jsx(sN,{userId:o?.auth_id})]})]})})}function uN(){const[n,t]=L.useState([]),[i,a]=L.useState(!1),[l,o]=L.useState(null);return L.useEffect(()=>{a(!0),o(null),ZT().then(t).catch(c=>o(c.message)).finally(()=>a(!1))},[]),b.jsx("main",{className:"min-h-screen bg-bright",children:b.jsxs("section",{className:"mx-auto max-w-5xl px-4 pb-12 pt-8 sm:px-6 lg:px-10",children:[b.jsxs("header",{className:"mb-6",children:[b.jsx("h1",{className:"text-2xl font-heading text-secondary sm:text-3xl",children:"Recipe lists"}),b.jsx("p",{className:"mt-1 text-sm font-body text-dark",children:"Explore recipe collections created and shared by the Tempero community."})]}),i&&b.jsx(ar,{message:"Loading public recipe lists"}),l&&b.jsx("p",{className:"text-sm text-red-600",children:l}),!i&&!l&&!n.length&&b.jsx("p",{className:"text-sm text-dark/70 font-body",children:"No public recipe lists have been created yet."}),b.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:n.map(c=>b.jsx(Ub,{playlist:c,isOwnProfile:!1,onDelete:()=>{}},c.id))})]})})}function cN(){const{id:n}=Vo(),t=on(),i=Mn(),[a,l]=L.useState(!1),[o,c]=L.useState(!1),f=i.state?.xpGained??0,d=i.state?.leveledUp??!1,p=i.state?.newLevel??1,m=i.state?.newChefType??"",[g,v]=L.useState(null),[x,w]=L.useState(!0),[S,E]=L.useState(null),[j,z]=L.useState(!1),[N,M]=L.useState(0),[$,T]=L.useState(!1),[H,C]=L.useState(!1),[D,F]=L.useState([]),[B,I]=L.useState(0),[Y,P]=L.useState(0),[V,k]=L.useState(0),[A,te]=L.useState(0);L.useEffect(()=>{if(d){c(!0);const X=setTimeout(()=>c(!1),4e3);return()=>clearTimeout(X)}else if(f>0){l(!0);const X=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(X)}},[f,d]),L.useEffect(()=>{let X=!0;(async()=>{const{data:W}=await he.auth.getUser();X&&E(W?.user?.id??null)})();const{data:K}=he.auth.onAuthStateChange((W,ce)=>{E(ce?.user?.id??null)});return()=>{X=!1,K.subscription.unsubscribe()}},[]),L.useEffect(()=>{if(!n)return;(async()=>{w(!0);const{data:K,error:W}=await he.from("recipes").select(`
          id,
          title,
          short_description,
          image_url,
          authorId,
          prep_time,
          cook_time,
          servings,
          difficulty,
          created_at,
          updated_at,
          profiles:profiles!Recipes_authorId_fkey(auth_id, username, first_name, last_name),
          recipe_ingredients:recipe-ingredients(id, name, amount, unit, notes),
          recipe_steps:recipe-steps(index, text),
          recipe_tags:recipe-tags(tag_id, tags(name))
          `).eq("id",n).single();if(W||!K){console.error(W),v(null),w(!1);return}const ce={id:K.id,title:K.title,short_description:K.short_description,image_url:K.image_url,authorId:K.authorId,authorUsername:K.profiles?.username??null,authorName:dN(K),prep_time:K.prep_time,cook_time:K.cook_time,servings:K.servings,difficulty:K.difficulty,created_at:K.created_at,updated_at:K.updated_at,ingredients:K.recipe_ingredients?.map(fe=>({id:String(fe.id),name:fe.name,amount:String(fe.amount),unit:fe.unit??void 0,note:fe.notes??void 0}))??[],steps:K.recipe_steps?.map(fe=>({id:`step-${fe.index}`,index:fe.index,description:fe.text}))??[],tags:K.recipe_tags?.map(fe=>fe.tags.name)??[]};v(ce),w(!1)})()},[n]),L.useEffect(()=>{if(!n)return;(async()=>{try{const{data:K,error:W}=await he.from("recipe_likes").select("auth_id").eq("recipe_id",n);if(W){console.error("Error fetching likes:",W);return}const ce=K?.length??0;if(M(ce),S){const fe=K?.some(pe=>pe.auth_id===S);T(!!fe)}else T(!1)}catch(K){console.error("Unexpected error fetching likes:",K)}})()},[n,S]),L.useEffect(()=>{if(!n)return;(async()=>{const{data:K,error:W}=await he.from("reviews").select(`
          id,
          difficulty,
          prep_time,
          taste,
          average_rating,
          description,
          profiles!reviews_author_id_fkey(first_name, last_name, chef_type)
        `).eq("recipe_id",n);if(W){console.error("Error fetching reviews:",W);return}const ce=(K||[]).map(fe=>({...fe,profiles:Array.isArray(fe.profiles)?fe.profiles[0]:fe.profiles,average_rating:fe.average_rating??0}));if(F(ce),ce.length>0){const fe=ce.reduce((Ie,jt)=>Ie+jt.difficulty,0)/ce.length,pe=ce.reduce((Ie,jt)=>Ie+jt.prep_time,0)/ce.length,Ae=ce.reduce((Ie,jt)=>Ie+jt.taste,0)/ce.length,Ee=(fe+pe+Ae)/3;I(fe),P(pe),k(Ae),te(Ee)}})()},[n]);const Z=L.useMemo(()=>Md(g?.image_url??null,900),[g?.image_url]),R=!!g&&S===g.authorId,q=()=>{g&&t(`/upload-recipe?recipeId=${g.id}`)},Q=async()=>{if(!(!g||!R||!S||!window.confirm("Delete this recipe? This action cannot be undone.")))try{z(!0),g.image_url&&await Ld(g.image_url);const{error:K}=await he.from("recipes").delete().eq("id",g.id).eq("authorId",S);if(K)throw K;t("/")}catch(K){console.error("Failed to delete recipe",K),alert("Couldn't delete the recipe. Please try again.")}finally{z(!1)}},U=async()=>{if(g){if(!S){alert("You need to login to like a recipe.");return}C(!0);try{if($){const{error:X}=await he.from("recipe_likes").delete().eq("recipe_id",g.id).eq("auth_id",S);if(X)throw X;T(!1),M(K=>Math.max(0,K-1))}else{const{error:X}=await he.from("recipe_likes").insert({recipe_id:g.id,auth_id:S});if(X)throw X;T(!0),M(K=>K+1)}}catch(X){console.error("Error toggling like:",X),alert("It was not possible to update the like. Try again.")}finally{C(!1)}}};return x?b.jsx(ar,{message:"Whisking the recipe..."}):g?b.jsxs("div",{className:"min-h-screen bg-bright text-dark",children:[o&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-bright rounded-2xl p-8 shadow-2xl border-4 border-main max-w-md mx-4 text-center animate-bounce-in",children:[b.jsx("div",{className:"text-6xl mb-4",children:""}),b.jsx("h2",{className:"text-3xl font-heading-styled text-main mb-2",children:"Congratulations!"}),b.jsxs("p",{className:"text-xl font-heading text-secondary mb-4",children:["You've reached Level ",p]}),b.jsxs("p",{className:"text-lg font-body text-dark mb-2",children:["You are now a ",b.jsx("span",{className:"font-semibold text-main",children:m})]}),b.jsxs("p",{className:"text-sm font-body text-dark/70",children:["+",f," XP"]})]})}),a&&!d&&b.jsxs("div",{className:"fixed bottom-6 right-6 z-50 bg-main text-bright px-6 py-3 rounded-lg shadow-lg font-heading animate-fade-in",children:[" Great job! You earned ",f," XP"]}),b.jsxs("div",{className:"pt-24 pb-16 px-4 sm:px-10 max-w-6xl mx-auto",children:[b.jsxs("header",{className:"mb-10",children:[b.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[b.jsxs("div",{className:"flex-1 min-w-[260px] space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[b.jsxs("span",{className:"inline-flex items-center rounded-lg bg-main/10 text-main border border-main px-4 py-1 font-heading",children:["Level ",g.difficulty??1]}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:g.tags.map(X=>b.jsx("span",{className:"px-3 py-1.5 rounded-lg border border-secondary/40 text-secondary text-sm font-heading",children:X},X))}),b.jsxs("button",{onClick:U,disabled:H||!S,className:`inline-flex items-center gap-2 rounded-full px-3 py-1 border font-heading text-sm transition-colors ${$?"bg-main text-bright border-main":"bg-white text-main border-main hover:bg-main/10"} disabled:opacity-60 disabled:cursor-not-allowed`,children:[b.jsx("span",{children:$?" Liked":" Like"}),b.jsxs("span",{className:"text-xs text-dark/80",children:[N," ",N===1?"like":"likes"]})]})]}),b.jsx("h1",{className:"text-4xl sm:text-5xl font-heading-styled text-secondary mt-8",children:g.title})]}),R&&b.jsxs("div",{className:"flex gap-2 self-start",children:[b.jsx("button",{onClick:q,className:"inline-flex items-center gap-2 rounded-lg border border-secondary px-4 py-1 font-heading text-secondary hover:bg-secondary hover:text-bright transition-colors",children:"Edit"}),b.jsx("button",{onClick:Q,disabled:j,className:"inline-flex items-center gap-2 rounded-lg bg-danger/80 px-4 py-1 font-heading text-bright hover:bg-danger focus:ring-none  disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:j?"Deleting...":"Delete"})]})]}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[b.jsx("p",{className:"text-dark/70 font-body flex-1",children:g.short_description}),b.jsxs("aside",{className:"w-full lg:w-80 bg-white/70 border border-main/40 rounded-2xl p-6 shadow-sm",children:[b.jsx("h2",{className:"mb-4 text-2xl font-heading-styled text-main text-center",children:"Rating"}),b.jsxs("ul",{className:"space-y-3 font-body text-dark mb-6",children:[b.jsxs("li",{className:"flex justify-between",children:[b.jsx("span",{className:"font-semibold",children:"Difficulty"}),b.jsxs("span",{children:[b.jsx("span",{className:"text-dark",children:B.toFixed(1)}),b.jsx("span",{className:"text-main",children:"/5"})]})]}),b.jsxs("li",{className:"flex justify-between",children:[b.jsx("span",{className:"font-semibold",children:"Time Required"}),b.jsxs("span",{children:[b.jsx("span",{className:"text-dark",children:Y.toFixed(1)}),b.jsx("span",{className:"text-main",children:"/5"})]})]}),b.jsxs("li",{className:"flex justify-between",children:[b.jsx("span",{className:"font-semibold",children:"Quality and Taste"}),b.jsxs("span",{children:[b.jsx("span",{className:"text-dark",children:V.toFixed(1)}),b.jsx("span",{className:"text-main",children:"/5"})]})]})]}),b.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4 border-t border-main/20",children:[b.jsx(Db,{rating:A}),b.jsx("span",{className:"text-lg font-heading text-dark",children:A.toFixed(1)})]}),S&&!R&&b.jsx("button",{className:"mt-4 w-full bg-main hover:bg-secondary text-bright font-heading text-sm py-1.5 rounded-lg transition-colors",onClick:()=>t(`/review/${g.id}`),children:"Review Recipe"})]})]})]}),b.jsxs("section",{className:"flex flex-col lg:flex-row gap-8 mb-12",children:[b.jsxs("div",{className:"flex-1",children:[Z&&b.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-secondary/20",children:b.jsx("img",{src:Z,alt:g.title,className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6 font-heading text-sm text-dark/80",children:[b.jsx(Hf,{label:"Prep time",value:`${g.prep_time} min`}),b.jsx(Hf,{label:"Cook time",value:`${g.cook_time} min`}),b.jsx(Hf,{label:"Servings",value:g.servings}),b.jsx(fN,{label:"Author",username:g.authorUsername,displayName:g.authorName})]})]}),b.jsxs("aside",{className:"w-full lg:w-80 bg-white/70 border border-main/40 rounded-2xl p-6 shadow-sm",children:[b.jsx("h2",{className:"mb-4 text-2xl font-heading-styled text-main text-center",children:"Ingredients"}),b.jsx("ul",{className:"space-y-3 font-body text-dark",children:g.ingredients.map(X=>b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-main",children:""}),b.jsxs("div",{children:[b.jsx("span",{className:"font-semibold",children:X.name}),X.amount&&b.jsxs(b.Fragment,{children:[" ","-"," ",b.jsxs("span",{className:"text-main",children:[X.amount," ",X.unit??""]})]}),X.note&&b.jsx("p",{className:"text-xs text-dark/50 mt-0.5",children:X.note})]})]},X.id))})]})]}),b.jsx("section",{className:"space-y-6",children:g.steps.sort((X,K)=>X.index-K.index).map(X=>b.jsxs("article",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[b.jsxs("h3",{className:"text-2xl font-heading-styled text-main mb-2",children:["Step ",X.index]}),b.jsx("p",{className:"text-dark font-body leading-relaxed",children:X.description})]},X.id))}),b.jsxs("section",{className:"mt-16",children:[b.jsx("h2",{className:"text-3xl font-heading-styled text-secondary mb-8",children:"Reviews"}),D.length===0?b.jsx("p",{className:"text-dark/60 font-body text-center py-8",children:"No reviews yet. Be the first to review this recipe!"}):b.jsx("div",{className:"space-y-6",children:D.map(X=>b.jsx(hN,{review:X},X.id))})]}),b.jsxs("div",{className:"mt-6 text-xs text-dark/60 flex flex-col sm:flex-row sm:justify-end gap-2",children:[b.jsxs("span",{children:["Created at"," ",g.created_at?new Date(g.created_at).toLocaleString():"--"]}),b.jsxs("span",{children:["Last edited at"," ",g.updated_at?new Date(g.updated_at).toLocaleString():"--"]})]})]})]}):b.jsx("div",{className:"min-h-screen bg-bright flex items-center justify-center",children:b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("p",{className:"text-3xl font-heading-styled text-secondary",children:"Recipe not found"}),b.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded-lg bg-main text-bright font-heading",children:"Go back"})]})})}function Hf({label:n,value:t}){return b.jsxs("div",{className:"rounded-xl bg-white/70 border border-secondary/20 p-3 text-center shadow-sm",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary/60 font-heading",children:n}),b.jsx("p",{className:"text-lg font-heading text-secondary",children:t??"--"})]})}function fN({label:n,username:t,displayName:i}){return b.jsxs("div",{className:"rounded-xl bg-white/70 border border-secondary/20 p-3 text-center shadow-sm",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary/60 font-heading",children:n}),t?b.jsx(pt,{to:`/profile/${t}`,className:"text-lg font-heading text-main hover:text-secondary transition-colors",children:i}):b.jsx("p",{className:"text-lg font-heading text-secondary/70",children:i||"Unknown"})]})}function dN(n){const t=n.profiles?.first_name?.trim()??"",i=n.profiles?.last_name?.trim()??"",a=`${t} ${i}`.trim();return a||(n.profiles?.username??"Unknown author")}function Db({rating:n}){const t=[],i=Math.max(0,Math.min(5,n));for(let a=1;a<=5;a++){const l=a<=Math.floor(i),c=a===Math.ceil(i)&&i%1!==0?i%1*100:l?100:0;t.push(b.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:`star-gradient-${a}-${n}`,children:[b.jsx("stop",{offset:`${c}%`,stopColor:"#FF6B35"}),b.jsx("stop",{offset:`${c}%`,stopColor:"#E5E7EB"})]})}),b.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:`url(#star-gradient-${a}-${n})`,stroke:"#FF6B35",strokeWidth:"1"})]},a))}return b.jsx("div",{className:"flex gap-1",children:t})}function hN({review:n}){const[t,i]=L.useState([]),[a,l]=L.useState(""),[o,c]=L.useState(!1),[f,d]=L.useState(null),[p,m]=L.useState(!1),g=n.profiles?.chef_type||"Cook",v=n.profiles&&`${n.profiles.first_name||""} ${n.profiles.last_name||""}`.trim()||"Anonymous",x=Number(n.average_rating)||0;L.useEffect(()=>{he.auth.getUser().then(({data:S})=>{d(S?.user?.id??null)})},[]),L.useEffect(()=>{(async()=>{const{data:E,error:j}=await he.from("comments").select("id, body, created_at, author_id").eq("review_id",n.id).order("created_at",{ascending:!0});if(!j&&E){const z=E.map($=>$.author_id),{data:N}=await he.from("profiles").select("auth_id, username, first_name, last_name").in("auth_id",z),M=new Map(N?.map($=>[$.auth_id,$])||[]);i(E.map($=>({id:$.id,body:$.body,created_at:$.created_at,author:M.get($.author_id)||null})))}})()},[n.id]);const w=async()=>{if(!a.trim()||!f)return;c(!0);const{data:S,error:E}=await he.from("comments").insert({review_id:n.id,author_id:f,body:a.trim()}).select("id, body, created_at, author_id").single();if(c(!1),!E&&S){const{data:j}=await he.from("profiles").select("username, first_name, last_name").eq("auth_id",f).single();i(z=>[...z,{id:S.id,body:S.body,created_at:S.created_at,author:j||null}]),l("")}};return b.jsxs("div",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:"text-lg font-heading text-dark",children:[b.jsx("span",{className:"text-main",children:g}),"  ",v]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Db,{rating:x}),b.jsx("span",{className:"text-sm font-heading text-dark",children:x.toFixed(1)})]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm font-body",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-dark/60",children:"Difficulty: "}),b.jsx("span",{className:"text-dark",children:n.difficulty}),b.jsx("span",{className:"text-main",children:"/5"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-dark/60",children:"Time Required: "}),b.jsx("span",{className:"text-dark",children:n.prep_time}),b.jsx("span",{className:"text-main",children:"/5"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-dark/60",children:"Quality & Taste: "}),b.jsx("span",{className:"text-dark",children:n.taste}),b.jsx("span",{className:"text-main",children:"/5"})]})]}),n.description&&b.jsx("p",{className:"text-dark/80 font-body mb-4",children:n.description}),b.jsxs("button",{onClick:()=>m(!p),className:"flex items-center gap-2 text-sm font-heading text-main hover:text-secondary transition-colors mb-4",children:[b.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:b.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"See comments"]}),p&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-main/20",children:[b.jsxs("h4",{className:"text-sm font-heading text-secondary mb-3",children:["Comments (",t.length,")"]}),b.jsx("div",{className:"space-y-3 mb-4",children:t.map(S=>{const E=S.author&&(`${S.author.first_name||""} ${S.author.last_name||""}`.trim()||S.author.username)||"Anonymous";return b.jsxs("div",{className:"bg-bright/50 rounded-lg p-3",children:[b.jsxs("div",{className:"flex items-center justify-between mb-1",children:[b.jsx("span",{className:"text-xs font-heading text-main",children:E}),b.jsx("span",{className:"text-xs text-dark/50",children:new Date(S.created_at).toLocaleDateString()})]}),b.jsx("p",{className:"text-sm font-body text-dark",children:S.body})]},S.id)})}),f&&b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:a,onChange:S=>l(S.target.value),onKeyDown:S=>S.key==="Enter"&&w(),placeholder:"Add a comment...",className:"flex-1 rounded-lg border border-dark/20 px-3 py-2 text-sm font-body outline-none focus:ring-2 focus:ring-main"}),b.jsx("button",{onClick:w,disabled:!a.trim()||o,className:"bg-main hover:bg-secondary text-bright px-4 py-2 rounded-lg text-sm font-heading disabled:opacity-50",children:o?"...":"Post"})]})]})]})}function mN(){const[n,t]=L.useState(""),[i,a]=L.useState(""),[l,o]=L.useState(""),[c,f]=L.useState(""),[d,p]=L.useState(""),[m,g]=L.useState(!1),[v,x]=L.useState(!1),[w,S]=L.useState(null),E=on(),[j,z]=L.useState(null),[N,M]=L.useState(!1),[$,T]=L.useState(null);L.useEffect(()=>{T(null),z(null);const C=i.trim();if(!C)return;if(C!==C.toLowerCase()){T("Username must be lowercase only.");return}if(C.length<4){T("Username must be at least 4 characters.");return}let D=!0;M(!0);const F=setTimeout(async()=>{const{data:B,error:I}=await he.rpc("is_username_available",{p_username:C.toLowerCase()});if(D){if(M(!1),I){console.error("Username check error:",I),T("Could not check username. Try again."),z(null);return}z(!!B)}},400);return()=>{D=!1,clearTimeout(F)}},[i]);async function H(C){if(C.preventDefault(),S(null),j!==!0){S("Please choose an available username.");return}if(d.length<8){S("Password must be at least 8 characters.");return}if(l.length>20){S("First name must be at most 20 characters.");return}if(l.length<=2){S("First name must be at least 2 characters.");return}if(c.length>20){S("Last name must be at most 20 characters.");return}if(c.length<=2){S("Last name must be at least 2 characters.");return}x(!0);const{error:D}=await he.auth.signUp({email:n,password:d,options:{data:{username:i.trim().toLowerCase(),first_name:l.trim(),last_name:c.trim(),profile_picture_url:null}}});if(x(!1),D){S(D.message);return}E("/login")}return b.jsxs("div",{className:"fixed  min-h-screen min-w-screen px-2 flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center ",children:[b.jsx("div",{className:"logo fixed top-1 left-1 z-10 ",children:b.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-16"})}),b.jsx("div",{className:"absolute inset-0  backdrop-blur-xs  pointer-events-none"}),b.jsx("div",{className:"mx-auto mt-12 max-w-md ",children:b.jsxs("div",{className:"max-h-[85vh] flex flex-col rounded-xl bg-bright/90 p-6 shadow-sm bg-fixed bg-no-scroll relative z-10 overflow-visible",children:[b.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Register"}),b.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Start your journey with Tempero: cook, review and level up."}),w&&b.jsx("div",{className:"mb-3 font-body rounded-lg  bg-main/10 px-3 py-2 text-sm text-danger",children:w}),b.jsxs("form",{onSubmit:H,className:"space-y-4 -mx-6 px-6 flex-1 min-h-0 w-full+6 overflow-y-auto overflow-x-visible custom-scroll",noValidate:!0,children:[b.jsxs("div",{className:"space-y-1 mb-5",children:[b.jsx("label",{htmlFor:"reg-email",className:"text-lg font-heading text-dark",children:"Email"}),b.jsx("input",{id:"reg-email",type:"email",autoComplete:"email",required:!0,value:n,onChange:C=>t(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"you@tempero.app"})]}),b.jsxs("div",{className:"space-y-0.5 mb-3",children:[b.jsx("label",{htmlFor:"reg-username",className:"text-lg font-heading text-dark",children:"Username"}),b.jsx("input",{id:"reg-username",type:"text",autoComplete:"username",required:!0,value:i,onChange:C=>a(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Choose a unique username"})]}),b.jsxs("div",{className:"mt-1 text-sm",children:[N&&b.jsx("span",{className:"text-gray-600",children:"Checking availability"}),!N&&$&&b.jsx("span",{className:"text-danger",children:$}),!N&&j===!1&&!$&&b.jsx("span",{className:"text-danger",children:"Username is already taken."}),!N&&j===!0&&b.jsx("span",{className:"text-main",children:"Username is available."})]}),b.jsxs("div",{className:"space-y-0.5 mb-3",children:[b.jsx("label",{htmlFor:"reg-firstname",className:"text-lg font-heading text-dark",children:"First Name"}),b.jsx("input",{id:"reg-firstname",type:"text",autoComplete:"given-name",required:!0,value:l,onChange:C=>o(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Enter your first name"})]}),b.jsxs("div",{className:"space-y-0.5 mb-3",children:[b.jsx("label",{htmlFor:"reg-lastname",className:"text-lg font-heading text-dark",children:"Last Name"}),b.jsx("input",{id:"reg-lastname",type:"text",autoComplete:"family-name",required:!0,value:c,onChange:C=>f(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Enter your last name"})]}),b.jsxs("div",{className:"space-y-1 ",children:[b.jsx("label",{htmlFor:"reg-pass",className:"text-lg font-heading text-dark",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"reg-pass",type:m?"text":"password",autoComplete:"new-password",required:!0,value:d,onChange:C=>p(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Minimum 8 characters"}),b.jsx("button",{type:"button",onClick:()=>g(C=>!C),className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-600 hover:text-gray-900","aria-label":m?"Hide password":"Show password",children:m?"Hide":"Show"})]}),b.jsx("p",{className:"text-xs text-gray-500 mt-4 mb-5",children:"Use at least 8 characters. Consider a mix of letters, numbers, and symbols."})]}),b.jsx("button",{type:"submit",disabled:v||j!==!0,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70  duration-150",children:v?"Creating account":"Register"})]}),b.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Already have an account?"," ",b.jsx(pt,{to:"/login",className:"underline underline-offset-4",children:"Log in"})]})]})})]})}const $f=[{level:1,name:"New cook",minXp:1e3,maxXp:1999},{level:2,name:"Junior Cook",minXp:2e3,maxXp:2999},{level:3,name:"Home Chef",minXp:3e3,maxXp:3999},{level:4,name:"Sous Chef",minXp:4e3,maxXp:4999},{level:5,name:"Star Chef",minXp:5e3,maxXp:Number.POSITIVE_INFINITY}];function pN(n){const t=Math.max(0,Math.floor(n||0)),i=$f.find(c=>t>=c.minXp&&t<=c.maxXp)??$f[$f.length-1],a=t-i.minXp,l=i.maxXp===Number.POSITIVE_INFINITY?null:i.maxXp-i.minXp+1,o=l?Math.min(1,a/l):1;return{level:i.level,name:i.name,xp:t,minXp:i.minXp,maxXp:i.maxXp===Number.POSITIVE_INFINITY?null:i.maxXp,progress:o}}function gN(){const{id:n}=Vo(),t=on(),[i,a]=L.useState(null),[l,o]=L.useState(!0),[c,f]=L.useState(!1),[d,p]=L.useState(0),[m,g]=L.useState(0),[v,x]=L.useState(0),[w,S]=L.useState(""),[E,j]=L.useState(null);L.useEffect(()=>{if(!n){o(!1);return}(async()=>{const{data:M,error:$}=await he.from("recipes").select("title").eq("id",n).single();if($){console.error("Error fetching recipe:",$),o(!1);return}a(M?.title??null),o(!1)})()},[n]);async function z(){if(n){if(d===0||m===0||v===0){j("Please rate all three categories before submitting.");return}if(d<1||d>5||m<1||m>5||v<1||v>5){j("All ratings must be between 1 and 5.");return}f(!0),j(null);try{const{data:{user:N}}=await he.auth.getUser();if(!N){j("You must be logged in to submit a review.");return}const M=parseFloat(((d+m+v)/3).toFixed(4)),$=new Date().toISOString(),T={recipe_id:n,author_id:N.id,difficulty:Number(d),prep_time:Number(m),taste:Number(v),average_rating:Number(M),description:w.trim()||null,created_at:$,updated_at:$};console.log("Review payload:",T),console.log("Taste value type:",typeof T.taste,"value:",T.taste);const{error:H}=await he.from("reviews").insert(T);if(H)throw console.error("Insert error details:",JSON.stringify(H,null,2)),H;const{data:C}=await he.from("recipes").select("difficulty").eq("id",n).single(),{data:D}=await he.from("profiles").select("xp, level").eq("auth_id",N.id).single();let F=0,B=!1,I=1,Y="New Cook";if(C&&D){const P=C.difficulty??1,V=D.level??1,k=D.xp??0;F=100+(P-V)*20;const A=k+F,te=pN(A);B=te.level>V,I=te.level,Y=te.name,await he.from("profiles").update({xp:A,level:te.level,chef_type:te.name}).eq("auth_id",N.id)}t(`/recipe/${n}`,{state:{xpGained:F,leveledUp:B,newLevel:I,newChefType:Y}})}catch(N){console.error("Error submitting review:",N),j(N?.message||"Failed to submit review. Please try again.")}finally{f(!1)}}}return l?b.jsx(ar,{message:"Loading..."}):b.jsx("div",{className:"min-h-screen bg-bright",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10",children:[b.jsx("h1",{className:"text-3xl font-heading-styled text-secondary",children:"Review recipe"}),b.jsx("p",{className:"text-xl font-heading-styled text-dark mt-2",children:i??""}),b.jsxs("div",{className:"mt-8 space-y-6",children:[b.jsx(Ff,{title:"Difficulty",description:"How challenging was this recipe to follow?",rating:d,onRate:p}),b.jsx(Ff,{title:"Time Required",description:"Was the cooking time accurate and reasonable?",rating:m,onRate:g}),b.jsx(Ff,{title:"Quality & Taste",description:"How satisfied were you with the final result?",rating:v,onRate:x}),b.jsxs("div",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[b.jsx("h2",{className:"text-xl font-heading text-secondary mb-2",children:"Your Review"}),b.jsx("p",{className:"text-sm font-body text-dark/70 mb-4",children:"Share your experience with this recipe"}),b.jsx("textarea",{value:w,onChange:N=>S(N.target.value),className:"w-full rounded-lg border border-dark/20 px-3 py-2 font-body outline-none focus:ring-2 focus:ring-main transition-all",rows:6,placeholder:"Write your review here..."})]}),E&&b.jsx("div",{className:"bg-danger/20 text-danger rounded-lg px-4 py-3 text-sm",children:E}),b.jsx("button",{className:"w-full bg-main hover:bg-secondary text-bright font-heading py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:z,disabled:c,children:c?"Submitting...":"Submit Review"})]})]})})}function Ff({title:n,description:t,rating:i,onRate:a}){return b.jsxs("div",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[b.jsx("h2",{className:"text-xl font-heading text-secondary mb-2",children:n}),b.jsx("p",{className:"text-sm font-body text-dark/70 mb-4",children:t}),b.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(l=>b.jsx("button",{onClick:()=>a(l),className:"transition-transform hover:scale-110",children:b.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",children:b.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:l<=i?"#FF6B35":"#E5E7EB",stroke:"#FF6B35",strokeWidth:"1"})})},l))})]})}const yN=[1,2,3,4,5],vN=[1,2,3,4,5],bN=[{id:"short",label:"Cook time <30 min"},{id:"medium",label:"Cook time 30120 min"},{id:"long",label:"Cook time >120 min"}],xN=[{id:"followed",label:"Followed"},{id:"not-followed",label:"Not followed"}],wa=10;function wN(){const[n,t]=L.useState("recipes"),[i,a]=L.useState(""),[l,o]=L.useState(!1),[c,f]=L.useState(null),[d,p]=L.useState([]),[m,g]=L.useState([]),[v,x]=L.useState([]),[w,S]=L.useState([]),[E,j]=L.useState(new Set),[z,N]=L.useState(new Set),[M,$]=L.useState(new Set),[T,H]=L.useState(new Set),[C,D]=L.useState(!1),[F,B]=L.useState(!1),[I,Y]=L.useState(!1),[P,V]=L.useState(i);L.useEffect(()=>{const W=setTimeout(()=>V(i.trim()),350);return()=>clearTimeout(W)},[i]),L.useEffect(()=>{let W=!1;return D(!1),B(!1),Y(!1),(async()=>{o(!0),f(null);try{if(n==="recipes"){let ce=he.from("recipes").select("id,title,short_description,image_url,prep_time,cook_time,servings,difficulty").order("title",{ascending:!0});P&&(ce=ce.ilike("title",`%${P}%`));const{data:fe,error:pe}=await ce;if(W)return;if(pe)throw pe;p(fe??[]),g([]),x([]),S([])}else if(n==="users"){let ce=he.from("profiles").select("auth_id,username,first_name,last_name,avatar_url:profile_picture_url,level").order("username",{ascending:!0});P&&(ce=ce.or(`username.ilike.%${P}%,first_name.ilike.%${P}%,last_name.ilike.%${P}%`));const{data:fe,error:pe}=await ce;if(W)return;if(pe)throw pe;g(fe??[]),p([]),x([]),S([])}else{let ce=he.from("lists").select(`
                id,
                user_id,
                title,
                description,
                visibility,
                created_at,
                profiles:profiles (
                  username
                )
              `).neq("visibility","private").order("title",{ascending:!0});P&&(ce=ce.ilike("title",`%${P}%`));const{data:fe,error:pe}=await ce;if(W)return;if(pe)throw pe;const Ae=(fe??[]).map(Ee=>({id:Ee.id,user_id:Ee.user_id,title:Ee.title,description:Ee.description,visibility:Ee.visibility,created_at:Ee.created_at,username:Ee.profiles?.username??null}));x(Ae),p([]),g([]);try{const{data:{user:Ee}}=await he.auth.getUser();if(!Ee)S([]);else{const{data:Ie,error:jt}=await he.from("followers").select("followed_id").eq("follower_id",Ee.id);S(jt||!Ie?[]:Ie.map(gt=>gt.followed_id))}}catch{S([])}}}catch(ce){W||f(ce instanceof Error?ce.message:"Failed to fetch results.")}finally{W||o(!1)}})(),()=>{W=!0}},[n,P]);const k=L.useMemo(()=>d.filter(W=>{if(E.size>0){const ce=typeof W.difficulty=="string"?parseInt(W.difficulty,10):W.difficulty;if(!ce||!E.has(ce))return!1}if(M.size>0){const ce=W.cook_time??0;if(!(M.has("short")&&ce<30||M.has("medium")&&ce>=30&&ce<=120||M.has("long")&&ce>120))return!1}return!0}),[d,E,M]),A=C||!P?k:k.slice(0,wa),te=L.useMemo(()=>m.filter(W=>{if(z.size>0){const ce=W.level??null;if(!ce||!z.has(ce))return!1}return!0}),[m,z]),Z=F||!P?te:te.slice(0,wa),R=L.useMemo(()=>v.filter(W=>{if(W.visibility?.toLowerCase()==="private")return!1;const fe=w.includes(W.user_id);if(T.size===0)return!0;const pe=T.has("followed"),Ae=T.has("not-followed");let Ee=!1;return pe&&fe&&(Ee=!0),Ae&&!fe&&(Ee=!0),Ee}),[v,T,w]),q=I||!P?R:R.slice(0,wa);function Q(W){j(ce=>{const fe=new Set(ce);return fe.has(W)?fe.delete(W):fe.add(W),fe})}function U(W){$(ce=>{const fe=new Set(ce);return fe.has(W)?fe.delete(W):fe.add(W),fe})}function X(W){N(ce=>{const fe=new Set(ce);return fe.has(W)?fe.delete(W):fe.add(W),fe})}function K(W){H(ce=>{const fe=new Set(ce);return fe.has(W)?fe.delete(W):fe.add(W),fe})}return b.jsx("div",{className:"min-h-screen w-full bg-amber-50",children:b.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 py-8",children:[b.jsxs("div",{className:"flex gap-10 items-center mb-6",children:[b.jsx("button",{className:`text-xl tracking-wide ${n==="users"?"text-[#e57f22] underline underline-offset-8":"text-gray-700 hover:text-[#e57f22]"}`,onClick:()=>t("users"),children:"USERS"}),b.jsx("button",{className:`text-xl tracking-wide ${n==="recipes"?"text-[#e57f22] underline underline-offset-8":"text-gray-700 hover:text-[#e57f22]"}`,onClick:()=>t("recipes"),children:"RECIPES"}),b.jsx("button",{className:`text-xl tracking-wide ${n==="lists"?"text-[#e57f22] underline underline-offset-8":"text-gray-700 hover:text-[#e57f22]"}`,onClick:()=>t("lists"),children:"LISTS"})]}),b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"relative w-full max-w-xl",children:[b.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:b.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),b.jsx("input",{value:i,onChange:W=>a(W.target.value),placeholder:n==="recipes"?"Find a recipe by name":n==="users"?"Find a user by name or username":"Find a list by title",className:"w-full rounded-lg border border-gray-300 bg-white pl-9 pr-3 py-2 shadow-sm focus:ring-2 focus:ring-[#e57f22] outline-none"})]})}),n==="recipes"&&b.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4 text-gray-700",children:[b.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:yN.map(W=>b.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[b.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:E.has(W),onChange:()=>Q(W)}),b.jsxs("span",{className:"italic",children:["Difficulty ",W]})]},W))}),b.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:bN.map(W=>b.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[b.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:M.has(W.id),onChange:()=>U(W.id)}),b.jsx("span",{className:"italic",children:W.label})]},W.id))})]}),n==="users"&&b.jsx("div",{className:"mt-6 flex flex-col items-center gap-4 text-gray-700",children:b.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:vN.map(W=>b.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[b.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:z.has(W),onChange:()=>X(W)}),b.jsxs("span",{className:"italic",children:["Level ",W]})]},W))})}),n==="lists"&&b.jsx("div",{className:"mt-6 flex flex-col items-center gap-4 text-gray-700",children:b.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:xN.map(W=>b.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[b.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:T.has(W.id),onChange:()=>K(W.id)}),b.jsx("span",{className:"italic",children:W.label})]},W.id))})}),b.jsx("h2",{className:"mt-8 mb-4 text-2xl font-semibold text-[#e57f22]",children:n==="recipes"?"RECIPES":n==="users"?"USERS":"LISTS"}),l?b.jsx("div",{className:"py-12 text-center text-gray-700",children:"Loading"}):c?b.jsx("div",{className:"py-12 text-center text-red-600",children:c}):n==="recipes"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:A.map(W=>b.jsx(kr,{recipe:{...W,id:String(W.id)},variant:"grid"},W.id))}),P&&k.length>wa&&b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsx("button",{onClick:()=>D(W=>!W),className:"px-4 py-2 rounded-md border border-[#e57f22] text-[#e57f22] text-sm font-medium hover:bg-[#e57f22] hover:text-white transition",children:C?"Show less":`Show all ${k.length} recipes`})})]}):n==="users"?b.jsxs(b.Fragment,{children:[b.jsx(_N,{users:Z}),P&&m.length>wa&&b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsx("button",{onClick:()=>B(W=>!W),className:"px-4 py-2 rounded-md border border-[#e57f22] text-[#e57f22] text-sm font-medium hover:bg-[#e57f22] hover:text-white transition",children:F?"Show less":`Show all ${m.length} users`})})]}):b.jsxs(b.Fragment,{children:[b.jsx(SN,{lists:q}),P&&v.length>wa&&b.jsx("div",{className:"mt-6 flex justify-center",children:b.jsx("button",{onClick:()=>Y(W=>!W),className:"px-4 py-2 rounded-md border border-[#e57f22] text-[#e57f22] text-sm font-medium hover:bg-[#e57f22] hover:text-white transition",children:I?"Show less":`Show all ${v.length} lists`})})]})]})})}function _N({users:n}){return n.length?b.jsx("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:n.map(t=>{const i=t.first_name||t.last_name?`${t.first_name??""} ${t.last_name??""}`.trim():t.username,a=t.avatar_url?Bd(t.avatar_url):Ob;return b.jsxs(pt,{to:`/profile/${t.username}`,className:"block rounded-lg overflow-hidden shadow-sm border border-gray-200 bg-white hover:shadow-md transition",children:[b.jsx("img",{src:a,alt:i,className:"w-full h-44 object-cover"}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-[#e57f22]",children:i}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["@",t.username]}),t.level&&b.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Level ",t.level]})]})]},t.auth_id)})}):b.jsx("div",{className:"py-12 text-center text-gray-600",children:"No users found. Try a different search."})}function SN({lists:n}){return n.length?b.jsx("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3",children:n.map(t=>{const i=t.visibility?.toLowerCase()==="public"?"Public":t.visibility;return b.jsxs("article",{className:"rounded-lg overflow-hidden shadow-sm border border-gray-200 bg-white hover:shadow-md transition p-4 flex flex-col justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-[#e57f22]",children:t.title}),t.description&&b.jsx("p",{className:"mt-2 text-sm text-gray-700 leading-relaxed line-clamp-4",children:t.description})]}),b.jsxs("div",{className:"mt-3 text-xs text-gray-500 space-y-1",children:[b.jsxs("p",{children:[" Creator: @",t.username??t.user_id]}),b.jsxs("p",{children:[" Visibility: ",i]}),t.created_at&&b.jsxs("p",{children:[" Created:"," ",new Date(t.created_at).toLocaleDateString()]})]})]},t.id)})}):b.jsx("div",{className:"py-12 text-center text-gray-600",children:"No lists found. Try adjusting your search or filters."})}const A0={title:"",short_description:"",preparation_time:null,cooking_time:null,servings:null,difficulty:null,ingredients:[],steps:[],tags:[],imageFile:null},zb=L.createContext(void 0);function EN({children:n}){const[t,i]=L.useState(A0),a=o=>i(o),l=()=>i(A0);return b.jsx(zb.Provider,{value:{form:t,setForm:a,reset:l},children:n})}function Ma(){const n=L.useContext(zb);if(!n)throw new Error("useUploadRecipe must be used within UploadRecipeProvider");return n}const jN=[{name:"g",system:"metric",kind:"mass",base:"g",factorToBase:1,factorFromBase:1},{name:"kg",system:"metric",kind:"mass",base:"g",factorToBase:1e3,factorFromBase:1/1e3},{name:"oz",system:"imperial",kind:"mass",base:"g",factorToBase:28.3495,factorFromBase:1/28.3495},{name:"lb",system:"imperial",kind:"mass",base:"g",factorToBase:453.592,factorFromBase:1/453.592},{name:"ml",system:"metric",kind:"volume",base:"ml",factorToBase:1,factorFromBase:1},{name:"L",system:"metric",kind:"volume",base:"ml",factorToBase:1e3,factorFromBase:1/1e3},{name:"tsp",system:"imperial",kind:"volume",base:"ml",factorToBase:4.92892,factorFromBase:1/4.92892},{name:"tbsp",system:"imperial",kind:"volume",base:"ml",factorToBase:14.7868,factorFromBase:1/14.7868},{name:"fl oz",system:"imperial",kind:"volume",base:"ml",factorToBase:29.5735,factorFromBase:1/29.5735},{name:"cup",system:"imperial",kind:"volume",base:"ml",factorToBase:240,factorFromBase:1/240},{name:"pint",system:"imperial",kind:"volume",base:"ml",factorToBase:473.176,factorFromBase:1/473.176},{name:"quart",system:"imperial",kind:"volume",base:"ml",factorToBase:946.353,factorFromBase:1/946.353},{name:"gal",system:"imperial",kind:"volume",base:"ml",factorToBase:3785.41,factorFromBase:1/3785.41},{name:"piece",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"slice",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"clove",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"pinch",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"dash",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"handful",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"bunch",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1}];function Lb(){return`${Date.now()}-${Math.random().toString(36).slice(2)}`}function kN(){const{form:n,setForm:t}=Ma();return b.jsxs("div",{className:"space-y-3 ",children:[b.jsxs("label",{className:"block",children:[b.jsx("div",{className:" font-heading mb-1",children:"Title"}),b.jsx("input",{value:n.title,onChange:i=>t(a=>({...a,title:i.target.value})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Recipe title"})]}),b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"font-heading",children:"Short description"}),b.jsx("textarea",{value:n.short_description,onChange:i=>t(a=>({...a,short_description:i.target.value})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",rows:3})]}),b.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"font-heading mb-1",children:"Preparation time (minutes)"}),b.jsx("input",{type:"number",min:1,value:n.preparation_time??"",onChange:i=>t(a=>({...a,preparation_time:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"e.g. 15"})]}),b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"font-heading mb-1",children:"Cooking time (minutes)"}),b.jsx("input",{type:"number",min:1,value:n.cooking_time??"",onChange:i=>t(a=>({...a,cooking_time:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"e.g. 30"})]}),b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"font-heading mb-1",children:"Servings"}),b.jsx("input",{type:"number",min:1,value:n.servings??"",onChange:i=>t(a=>({...a,servings:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"e.g. 4"})]}),b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"font-heading mb-1",children:"Difficulty"}),b.jsxs("select",{value:n.difficulty??"",onChange:i=>t(a=>({...a,difficulty:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",children:[b.jsx("option",{value:"",children:"Select"}),Array.from({length:5},(i,a)=>a+1).map(i=>b.jsxs("option",{value:String(i),children:[i," ",i===1?" Very easy":i===5?" Very hard":""]},i))]})]})]})]})}function AN(){const{form:n,setForm:t}=Ma();function i(){t(o=>({...o,ingredients:[...o.ingredients,{id:crypto.randomUUID(),name:"",amount:1,unit:"",note:""}]}))}function a(o,c){t(f=>{const d=[...f.ingredients];return d[o]={...d[o],...c},{...f,ingredients:d}})}function l(o){t(c=>({...c,ingredients:c.ingredients.filter((f,d)=>d!==o)}))}return b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"flex flex-col gap-2",children:n.ingredients.map((o,c)=>b.jsxs("div",{className:"space-y-1 mb-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.name,onChange:f=>a(c,{name:f.target.value}),placeholder:"Ingredient"}),b.jsx("input",{type:"number",min:0,step:"any",className:"w-20 rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.amount??"",onChange:f=>{const d=f.target.value;a(c,{amount:d===""?null:parseFloat(d)})},placeholder:"Amt"}),b.jsxs("select",{className:"w-28 rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.unit??"",onChange:f=>a(c,{unit:f.target.value}),children:[b.jsx("option",{value:"",children:"Unit"}),jN.map(f=>b.jsx("option",{value:f.name,children:f.name},f.name))]}),b.jsx("button",{type:"button",onClick:()=>l(c),className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded",children:""})]}),b.jsx("input",{className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.note||"",onChange:f=>a(c,{note:f.target.value}),placeholder:"Note (optional)"})]},o.id))}),b.jsx("button",{type:"button",onClick:i,className:"mt-2 px-3 py-2 bg-main text-bright rounded text-sm",children:"Add ingredient"})]})}function TN(){const{form:n,setForm:t}=Ma();function i(){t(o=>({...o,steps:[...o.steps,{id:Lb(),index:o.steps.length+1,description:""}]}))}function a(o,c){t(f=>{const d=[...f.steps];return d[o]={...d[o],description:c},{...f,steps:d}})}function l(o){t(c=>({...c,steps:c.steps.filter((f,d)=>d!==o)}))}return b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"flex flex-col gap-3",children:n.steps.map((o,c)=>b.jsxs("div",{className:"flex-col items-start gap-3",children:[b.jsxs("div",{className:"w-16 text-sm font-medium pt-2",children:["Step ",c+1]}),b.jsxs("div",{className:"flex",children:[b.jsx("textarea",{className:"flex-1 w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-white/70 focus:ring-1 focus:ring-main focus:shadow-main/20 transition-all duration-200 ease-in-out",value:o.description,onChange:f=>a(c,f.target.value),rows:2,placeholder:`Describe step ${c+1}`}),b.jsx("button",{type:"button",onClick:()=>l(c),"aria-label":`Remove step ${c+1}`,className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded",children:""})]})]},o.id||c))}),b.jsx("button",{type:"button",onClick:i,className:"mt-2 px-3 py-2 bg-main text-bright rounded text-sm",children:"Add step"})]})}function NN(){const{form:n,setForm:t}=Ma(),[i,a]=L.useState(!1),l=n.imageFile?URL.createObjectURL(n.imageFile):n.imagePath?Md(n.imagePath):null;async function o(c){const f=c.target.files?.[0];if(f){t(d=>({...d,imageFile:f}));try{if(a(!0),!(f.type==="image/jpeg"||f.name.toLowerCase().endsWith(".jpg")||f.name.toLowerCase().endsWith(".jpeg"))){alert("Only JPG/JPEG images are supported. Please upload a .jpg or .jpeg file.");return}const p=n.imagePath;if(p)try{await Ld(p)}catch(v){console.warn("Could not delete old image:",v)}const m=await Kv(f),g=await Qv(m,"recipes");t(v=>({...v,imagePath:g}))}catch(d){console.error(d),alert("Failed to upload image.")}finally{a(!1)}}}return b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"block",children:[b.jsx("div",{className:"text-sm font-medium",children:"Cover image"}),b.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"mt-2 text-main underline hover:cursor-pointer",disabled:i})]}),l&&b.jsx("div",{className:"mt-2",children:b.jsx("img",{src:l,alt:"preview",className:"max-h-48 rounded"})}),i&&b.jsx("div",{className:"text-sm text-gray-500",children:"Uploading..."})]})}function CN(){const{form:n,setForm:t}=Ma(),[i,a]=L.useState(""),[l,o]=L.useState([]),[c,f]=L.useState(!1),d=L.useRef(null),p=n.preparation_time!=null?`${n.preparation_time} minutes`:"",m=n.cooking_time!=null?`${n.cooking_time} minutes`:"",g=n.difficulty!=null?`${n.difficulty}`:"";L.useEffect(()=>{if(d.current&&window.clearTimeout(d.current),!i||i.trim()===""){o([]);return}return f(!0),d.current=window.setTimeout(async()=>{const S=i.trim();try{const{data:E,error:j}=await he.rpc("search_tags_trgm",{q:S});if(!j&&Array.isArray(E)){o(E),f(!1);return}}catch{}try{const{data:E,error:j}=await he.from("tags").select("id,name").ilike("name",`%${S}%`).limit(10);!j&&Array.isArray(E)?o(E):o([])}catch{o([])}finally{f(!1)}},250),()=>{d.current&&window.clearTimeout(d.current)}},[i]);function v(S){const E=(S??i).trim();E&&(t(j=>({...j,tags:Array.from(new Set([...(j.tags??[]).map(z=>z.name),E])).map(z=>({name:z}))})),a(""),o([]))}function x(S){if(S.key==="Enter"&&(S.preventDefault(),l.length>0?v(l[0].name):v()),S.key==="ArrowDown"&&l.length>0){const E=document.querySelector(".tag-suggestion-item");E&&E.focus()}}function w(S){t(E=>({...E,tags:(E.tags??[]).filter(j=>j.name!==S)}))}return b.jsxs("div",{className:"space-y-3 relative",children:[b.jsx("h3",{className:"font-medium",children:"Preview"}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Title:"})," ",n.title||""]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Preparation time:"})," ",p]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Cooking time:"})," ",m]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Servings:"})," ",n.servings??""]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Difficulty:"})," ",g]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Ingredients:"})," ",n.ingredients.length," items"]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Steps:"})," ",n.steps.length," steps"]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"text-sm font-medium",children:"Tags"}),b.jsxs("div",{className:"relative",children:[b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("input",{value:i,onChange:S=>a(S.target.value),onKeyDown:x,placeholder:"Add tag and press Enter",className:"rounded-lg border px-3 py-2 outline-none shadow-sm bg-white/70 focus:ring-1 focus:ring-main transition-all duration-150 w-full"}),b.jsx("button",{type:"button",onClick:()=>v(),className:"px-3 py-2 bg-main text-bright rounded",children:"Add"})]}),i.trim()!==""&&b.jsx("div",{className:"absolute z-20 mt-1 w-full bg-bright/95 border rounded shadow-lg max-h-48 overflow-auto",children:c?b.jsx("div",{className:"p-2 text-sm text-gray-500",children:"Loading..."}):l.length===0?b.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No suggestions"}):l.map(S=>b.jsx("button",{type:"button",onClick:()=>v(S.name),className:"tag-suggestion-item w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:S.name},S.id))})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(n.tags??[]).length===0?b.jsx("div",{className:"text-sm text-gray-500",children:"No tags"}):(n.tags??[]).map(S=>b.jsxs("span",{className:"inline-flex items-center gap-2 bg-gray-100 text-sm px-2 py-1 rounded",children:[b.jsx("span",{children:S.name}),b.jsx("button",{type:"button",onClick:()=>w(S.name),"aria-label":`Remove tag ${S.name}`,className:"text-red-600 hover:bg-red-50 rounded px-1",children:""})]},S.name))})]}),b.jsxs("div",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Image:"})," ",n.imageFile?n.imageFile.name:"None"]}),b.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Use Publish to send to the server."})]})}const _a=[{id:"details",title:"Details",comp:kN},{id:"ingredients",title:"Ingredients",comp:AN},{id:"steps",title:"Steps",comp:TN},{id:"media",title:"Media",comp:NN},{id:"review",title:"Review",comp:CN}];function RN(){const{form:n,setForm:t,reset:i}=Ma(),[a,l]=L.useState(0),[o,c]=L.useState([]),[f,d]=L.useState(null),p=L.useMemo(()=>_a[a].comp,[a]),m=on(),[g]=$0(),v=g.get("recipeId"),x=!!v;L.useEffect(()=>{if(!v){i(),d(null);return}let z=!1;return d(null),(async()=>{try{const{data:N}=await he.auth.getUser(),M=N?.user?.id??null;if(!M){d("You must be logged in to edit a recipe.");return}const{data:$,error:T}=await he.from("recipes").select(`id,title,short_description,image_url,authorId,prep_time,cook_time,servings,difficulty,
                        recipe_ingredients:recipe-ingredients(id,name,amount,unit,notes),
                        recipe_steps:recipe-steps(index,text),
                        recipe_tags:recipe-tags(tags(name))`).eq("id",v).single();if(T||!$){d("Could not load recipe for editing.");return}if($.authorId!==M){d("You can only edit your own recipes.");return}if(z)return;t(()=>({title:$.title??"",short_description:$.short_description??"",preparation_time:$.prep_time??null,cooking_time:$.cook_time??null,servings:$.servings??null,difficulty:$.difficulty??null,ingredients:$.recipe_ingredients?.map(H=>({id:String(H.id),name:H.name??"",amount:H.amount??null,unit:H.unit??"",note:H.notes??""}))??[],steps:$.recipe_steps?.sort((H,C)=>H.index-C.index).map((H,C)=>({id:H.index?`step-${H.index}`:Lb(),index:C+1,description:H.text??""}))??[],tags:$.recipe_tags?.map(H=>H.tags?.name).filter(Boolean).map(H=>({name:H}))??[],imageFile:null,imagePath:$.image_url??null,id:$.id}))}catch(N){console.error("Failed to load recipe for edit",N),d("Unexpected error loading recipe.")}})(),()=>{z=!0}},[v]);function w(z){const N=[];return z===0&&((!n.title||n.title.trim()==="")&&N.push("Title is required."),(!n.short_description||n.short_description.trim()==="")&&N.push("Short description is required."),n.preparation_time===null||n.preparation_time===void 0||Number.isNaN(Number(n.preparation_time))?N.push("Preparation time is required."):typeof n.preparation_time=="number"&&n.preparation_time<0&&N.push("Preparation time must be a positive number."),n.cooking_time===null||n.cooking_time===void 0||Number.isNaN(Number(n.cooking_time))?N.push("Cooking time is required."):typeof n.cooking_time=="number"&&n.cooking_time<0&&N.push("Cooking time must be a positive number."),n.difficulty===null||n.difficulty===void 0?N.push("Difficulty is required."):typeof n.difficulty=="number"&&(n.difficulty<1||n.difficulty>5)&&N.push("Difficulty must be between 1 and 5.")),z===1&&(!n.ingredients||n.ingredients.length===0?N.push("Add at least one ingredient."):n.ingredients.forEach((M,$)=>{(!M.name||M.name.trim()==="")&&N.push(`Ingredient ${$+1}: name is required.`),M.amount===null||M.amount===void 0||M.amount<=0?N.push(`Ingredient ${$+1}: amount is required.`):typeof M.amount=="number"&&Number.isNaN(M.amount)&&N.push(`Ingredient ${$+1}: amount must be a number.`)})),z===2&&(!n.steps||n.steps.length===0?N.push("Add at least one step."):n.steps.forEach((M,$)=>{(!M.description||M.description.trim()==="")&&N.push(`Step ${$+1}: description is required.`)})),N}function S(){const z=w(a);if(z.length>0){c(z);return}c([]),a<_a.length-1&&l(N=>N+1)}function E(){a>0&&l(z=>z-1)}async function j(){const z=[];for(let N=0;N<=2;N++){const M=w(N);M.length>0&&z.push({index:N,msgs:M})}if(z.length>0){c(z[0].msgs),l(z[0].index);return}c([]);try{const{data:{user:N},error:M}=await he.auth.getUser();if(M||!N){c(["You must be logged in to upload a recipe."]);return}const $={title:n.title,authorId:N.id,short_description:n.short_description,image_url:n.imagePath??null,prep_time:n.preparation_time,cook_time:n.cooking_time,servings:n.servings,difficulty:n.difficulty};let T,H=null;if(n.id?{data:T,error:H}=await he.from("recipes").upsert([{id:n.id,...$}]).select("id").single():{data:T,error:H}=await he.from("recipes").insert([$]).select("id").single(),H||!T)throw H||new Error("Failed to create recipe");const C=T.id,D=n.ingredients.map(B=>({name:B.name,amount:B.amount??null,unit:B.unit,notes:B.note??null})),{error:F}=await he.rpc("replace_recipe_ingredients",{p_recipe_id:C,p_ingredients:D});if(F)throw F;if(n.steps.length>0){const B=n.steps.map((Y,P)=>({recipe_id:C,index:P+1,text:Y.description})),{error:I}=await he.from("recipe-steps").upsert(B);if(I)throw I}if(n.tags&&n.tags.length>0){const B=n.tags.map(I=>I.name.trim()).filter(Boolean);if(B.length>0){const I=B.map(A=>({name:A})),{data:Y,error:P}=await he.from("tags").upsert(I,{onConflict:"name"}).select("id,name");if(P)throw P;const V=new Map;(Y??[]).forEach(A=>V.set(A.name,A.id));const k=B.map(A=>({recipe_id:C,tag_id:V.get(A)})).filter(A=>A.tag_id!=null);if(k.length>0){const{error:A}=await he.from("recipe-tags").upsert(k);if(A)throw A}}}m(`/recipe/${C}`)}catch(N){console.error(N),c(["Something went wrong while saving the recipe."])}}return b.jsxs("div",{className:"rounded-lg bg-bright/90 p-4 shadow-sm flex flex-col min-h-90 max-h-[70vh] overflow-x-visible",children:[b.jsxs("div",{className:"mb-3 overflow-x-visible",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-medium",children:_a[a].title}),b.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",a+1," / ",_a.length]})]}),b.jsx("div",{className:"h-2 bg-gray-200 rounded-full mt-3 overflow-y-hidden overflow-x-visible",children:b.jsx("div",{className:"h-full bg-main transition-all duration-300 ease-in-out",style:{width:`${(a+1)/_a.length*100}%`}})}),f&&b.jsx("div",{className:"mt-3 p-3 bg-danger/20 text-danger rounded",children:b.jsx("p",{className:"text-sm",children:f})}),o.length>0&&b.jsx("div",{className:"mt-3 p-3 bg-danger/20  text-danger rounded",children:b.jsx("ul",{className:"list-disc pl-5 text-sm",children:o.map((z,N)=>b.jsx("li",{children:z},N))})})]}),b.jsx("div",{className:"flex-1 min-h-0 overflow-x-visible overflow-y-scroll custom-scroll py-2 ",children:b.jsx(p,{})}),b.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[b.jsx("button",{type:"button",onClick:E,disabled:a===0,className:`px-4 py-2 rounded bg-transparent border border-gray-300 text-sm ${a===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-400 hover:text-bright transition-all duration-200"}`,children:"Back"}),b.jsx("div",{className:"flex items-center gap-2",children:a<_a.length-1?b.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 rounded bg-secondary hover:-translate-y-1 hover:opacity-80 transition-all duration-200  text-bright text-sm",children:"Next"}):b.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 rounded bg-main hover:-translate-y-1 hover:opacity-80 transition-all duration-200  text-bright text-sm",children:x?"Update":"Publish"})})]})]})}function ON(){const[n]=$0(),t=!!n.get("recipeId");return b.jsx(EN,{children:b.jsx("div",{className:"min-h-screen bg-bright/5 ",children:b.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[b.jsx("h1",{className:"text-2xl font-heading-styled text-main mb-4",children:t?"Edit recipe":"Upload a recipe"}),b.jsx(RN,{})]})})})}function UN(){const[n,t]=L.useState(null),[i,a]=L.useState([]),[l,o]=L.useState(!0),c=on();return L.useEffect(()=>{(async()=>{const{data:f}=await he.auth.getUser();t(f?.user??null)})()},[]),L.useEffect(()=>{if(!n){o(!1);return}(async()=>{o(!0);const{data:d,error:p}=await he.from("recipes").select(`
          id,
          title,
          short_description,
          image_url,
          prep_time,
          cook_time,
          servings,
          difficulty,
          recipe_likes!inner(auth_id)
        `).eq("recipe_likes.auth_id",n.id);if(p){console.error("Error fetching favorite recipes:",p),a([]),o(!1);return}const m=(d??[]).map(({recipe_likes:g,...v})=>v);a(m),o(!1)})()},[n]),l?b.jsx(ar,{message:"Fetching your favorite recipes..."}):n?b.jsx("div",{className:"min-h-screen bg-bright",children:b.jsxs("main",{className:"max-w-6xl mx-auto pt-24 pb-16 px-4 sm:px-8",children:[b.jsxs("header",{className:"mb-10 flex flex-wrap items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-heading-styled text-secondary mb-2",children:"Favorites"}),b.jsx("p",{className:"text-dark/70 font-body max-w-xl",children:"Your curated collection of recipes you've liked on Tempero."})]}),b.jsxs("span",{className:"inline-flex items-center rounded-full bg-main/10 text-main border border-main/40 px-4 py-1 font-heading text-sm",children:[i.length," ",i.length===1?"recipe":"recipes"]})]}),i.length===0?b.jsx("p",{className:"text-dark/70 font-body",children:"You haven't added any favorites yet. Browse recipes and tap the like button to save your favorites here."}):b.jsx("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,minmax(260px,1fr))]",children:i.map(f=>b.jsx(kr,{recipe:f},f.id))})]})}):b.jsx("div",{className:"min-h-screen bg-bright flex items-center justify-center",children:b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("h1",{className:"text-3xl font-heading-styled text-secondary",children:"Favorites"}),b.jsx("p",{className:"text-dark/70 font-body",children:"You need to be logged in to see your favorite recipes."}),b.jsx("button",{onClick:()=>c("/login"),className:"px-4 py-2 rounded-lg bg-main text-bright font-heading hover:bg-secondary transition-colors",children:"Go to login"})]})})}function DN(){const[n,t]=L.useState(!0),[i,a]=L.useState(null),l=Mn();return L.useEffect(()=>{let o=!0;return he.auth.getUser().then(({data:c})=>{o&&(a(c.user??null),t(!1))}),()=>{o=!1}},[]),n?null:i?b.jsx(M0,{}):b.jsx(e_,{to:"/login",state:{from:l.pathname},replace:!0})}function zN(){return b.jsx("div",{className:"p-6 text-center",children:b.jsx("img",{src:rE,alt:"404 Not Found",className:"mx-auto scale-50"})})}function LN(){return b.jsxs("div",{className:"min-h-screen flex flex-col bg-bright",children:[b.jsx(aE,{}),b.jsx("main",{className:"flex-1 py-5 px-4 sm:px-6 lg:px-8",children:b.jsx(M0,{})}),b.jsx(iE,{})]})}function MN(){return b.jsx(k_,{basename:"/Tempero",children:b.jsxs(n_,{children:[b.jsx(Et,{path:"login",element:b.jsx(tN,{})}),b.jsx(Et,{path:"register",element:b.jsx(mN,{})}),b.jsxs(Et,{element:b.jsx(LN,{}),children:[b.jsx(Et,{index:!0,element:b.jsx(By,{})}),b.jsx(Et,{path:"about",element:b.jsx(By,{})}),b.jsx(Et,{path:"faq",element:b.jsx(IT,{})}),b.jsx(Et,{path:"*",element:b.jsx(zN,{})}),b.jsxs(Et,{element:b.jsx(DN,{}),children:[b.jsx(Et,{path:"home",element:b.jsx(XT,{})}),b.jsx(Et,{path:"skill-assessment",element:b.jsx(sE,{})}),b.jsx(Et,{path:"lists/new",element:b.jsx(lE,{})}),b.jsx(Et,{path:"lists",element:b.jsx(uN,{})}),b.jsx(Et,{path:"lists/:playlistId",element:b.jsx(eN,{})}),b.jsx(Et,{path:"profile/:username",element:b.jsx(oN,{})}),b.jsx(Et,{path:"profile/edit",element:b.jsx(yE,{})}),b.jsx(Et,{path:"search",element:b.jsx(wN,{})}),b.jsx(Et,{path:"upload-recipe",element:b.jsx(ON,{})}),b.jsx(Et,{path:"recipe/:id",element:b.jsx(cN,{})}),b.jsx(Et,{path:"review/:id",element:b.jsx(gN,{})}),b.jsx(Et,{path:"favorites",element:b.jsx(UN,{})})]})]})]})})}o1.createRoot(document.getElementById("root")).render(b.jsx(e1.StrictMode,{children:b.jsx(MN,{})}));
