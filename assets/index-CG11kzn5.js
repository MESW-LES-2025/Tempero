function e1(n,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const o=Object.getOwnPropertyDescriptor(a,l);o&&Object.defineProperty(n,l,o.get?o:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function Ys(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function t1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var i=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),i}var dd={exports:{}},As={};var Xg;function n1(){if(Xg)return As;Xg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var d in l)d!=="key"&&(o[d]=l[d])}else o=l;return l=o.ref,{$$typeof:n,type:a,key:u,ref:l!==void 0?l:null,props:o}}return As.Fragment=t,As.jsx=i,As.jsxs=i,As}var Jg;function r1(){return Jg||(Jg=1,dd.exports=n1()),dd.exports}var g=r1(),fd={exports:{}},Ce={};var Zg;function i1(){if(Zg)return Ce;Zg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function j($,K,D){this.props=$,this.context=K,this.refs=S,this.updater=D||w}j.prototype.isReactComponent={},j.prototype.setState=function($,K){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,K,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=j.prototype;function T($,K,D){this.props=$,this.context=K,this.refs=S,this.updater=D||w}var B=T.prototype=new L;B.constructor=T,E(B,j.prototype),B.isPureReactComponent=!0;var V=Array.isArray;function A(){}var M={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R($,K,D){var ee=D.ref;return{$$typeof:n,type:$,key:K,ref:ee!==void 0?ee:null,props:D}}function I($,K){return R($.type,K,$.props)}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function H($){var K={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(D){return K[D]})}var G=/\/+/g;function q($,K){return typeof $=="object"&&$!==null&&$.key!=null?H(""+$.key):K.toString(36)}function F($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(A,A):($.status="pending",$.then(function(K){$.status==="pending"&&($.status="fulfilled",$.value=K)},function(K){$.status==="pending"&&($.status="rejected",$.reason=K)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function k($,K,D,ee,W){var te=typeof $;(te==="undefined"||te==="boolean")&&($=null);var he=!1;if($===null)he=!0;else switch(te){case"bigint":case"string":case"number":he=!0;break;case"object":switch($.$$typeof){case n:case t:he=!0;break;case h:return he=$._init,k(he($._payload),K,D,ee,W)}}if(he)return W=W($),he=ee===""?"."+q($,0):ee,V(W)?(D="",he!=null&&(D=he.replace(G,"$&/")+"/"),k(W,K,D,"",function(_e){return _e})):W!=null&&(P(W)&&(W=I(W,D+(W.key==null||$&&$.key===W.key?"":(""+W.key).replace(G,"$&/")+"/")+he)),K.push(W)),1;he=0;var oe=ee===""?".":ee+":";if(V($))for(var fe=0;fe<$.length;fe++)ee=$[fe],te=oe+q(ee,fe),he+=k(ee,K,D,te,W);else if(fe=x($),typeof fe=="function")for($=fe.call($),fe=0;!(ee=$.next()).done;)ee=ee.value,te=oe+q(ee,fe++),he+=k(ee,K,D,te,W);else if(te==="object"){if(typeof $.then=="function")return k(F($),K,D,ee,W);throw K=String($),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return he}function N($,K,D){if($==null)return $;var ee=[],W=0;return k($,ee,"","",function(te){return K.call(D,te,W++)}),ee}function Z($){if($._status===-1){var K=$._result;K=K(),K.then(function(D){($._status===0||$._status===-1)&&($._status=1,$._result=D)},function(D){($._status===0||$._status===-1)&&($._status=2,$._result=D)}),$._status===-1&&($._status=0,$._result=K)}if($._status===1)return $._result.default;throw $._result}var X=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},O={map:N,forEach:function($,K,D){N($,function(){K.apply(this,arguments)},D)},count:function($){var K=0;return N($,function(){K++}),K},toArray:function($){return N($,function(K){return K})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ce.Activity=y,Ce.Children=O,Ce.Component=j,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=T,Ce.StrictMode=a,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ce.__COMPILER_RUNTIME={__proto__:null,c:function($){return M.H.useMemoCache($)}},Ce.cache=function($){return function(){return $.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function($,K,D){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ee=E({},$.props),W=$.key;if(K!=null)for(te in K.key!==void 0&&(W=""+K.key),K)!C.call(K,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&K.ref===void 0||(ee[te]=K[te]);var te=arguments.length-2;if(te===1)ee.children=D;else if(1<te){for(var he=Array(te),oe=0;oe<te;oe++)he[oe]=arguments[oe+2];ee.children=he}return R($.type,W,ee)},Ce.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Ce.createElement=function($,K,D){var ee,W={},te=null;if(K!=null)for(ee in K.key!==void 0&&(te=""+K.key),K)C.call(K,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(W[ee]=K[ee]);var he=arguments.length-2;if(he===1)W.children=D;else if(1<he){for(var oe=Array(he),fe=0;fe<he;fe++)oe[fe]=arguments[fe+2];W.children=oe}if($&&$.defaultProps)for(ee in he=$.defaultProps,he)W[ee]===void 0&&(W[ee]=he[ee]);return R($,te,W)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function($){return{$$typeof:d,render:$}},Ce.isValidElement=P,Ce.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:Z}},Ce.memo=function($,K){return{$$typeof:p,type:$,compare:K===void 0?null:K}},Ce.startTransition=function($){var K=M.T,D={};M.T=D;try{var ee=$(),W=M.S;W!==null&&W(D,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(A,X)}catch(te){X(te)}finally{K!==null&&D.types!==null&&(K.types=D.types),M.T=K}},Ce.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ce.use=function($){return M.H.use($)},Ce.useActionState=function($,K,D){return M.H.useActionState($,K,D)},Ce.useCallback=function($,K){return M.H.useCallback($,K)},Ce.useContext=function($){return M.H.useContext($)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function($,K){return M.H.useDeferredValue($,K)},Ce.useEffect=function($,K){return M.H.useEffect($,K)},Ce.useEffectEvent=function($){return M.H.useEffectEvent($)},Ce.useId=function(){return M.H.useId()},Ce.useImperativeHandle=function($,K,D){return M.H.useImperativeHandle($,K,D)},Ce.useInsertionEffect=function($,K){return M.H.useInsertionEffect($,K)},Ce.useLayoutEffect=function($,K){return M.H.useLayoutEffect($,K)},Ce.useMemo=function($,K){return M.H.useMemo($,K)},Ce.useOptimistic=function($,K){return M.H.useOptimistic($,K)},Ce.useReducer=function($,K,D){return M.H.useReducer($,K,D)},Ce.useRef=function($){return M.H.useRef($)},Ce.useState=function($){return M.H.useState($)},Ce.useSyncExternalStore=function($,K,D){return M.H.useSyncExternalStore($,K,D)},Ce.useTransition=function(){return M.H.useTransition()},Ce.version="19.2.0",Ce}var Wg;function bf(){return Wg||(Wg=1,fd.exports=i1()),fd.exports}var z=bf();const a1=Ys(z);var hd={exports:{}},Ts={},md={exports:{}},pd={};var ey;function s1(){return ey||(ey=1,(function(n){function t(k,N){var Z=k.length;k.push(N);e:for(;0<Z;){var X=Z-1>>>1,O=k[X];if(0<l(O,N))k[X]=N,k[Z]=O,Z=X;else break e}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var N=k[0],Z=k.pop();if(Z!==N){k[0]=Z;e:for(var X=0,O=k.length,$=O>>>1;X<$;){var K=2*(X+1)-1,D=k[K],ee=K+1,W=k[ee];if(0>l(D,Z))ee<O&&0>l(W,D)?(k[X]=W,k[ee]=Z,X=ee):(k[X]=D,k[K]=Z,X=K);else if(ee<O&&0>l(W,Z))k[X]=W,k[ee]=Z,X=ee;else break e}}return N}function l(k,N){var Z=k.sortIndex-N.sortIndex;return Z!==0?Z:k.id-N.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],h=1,y=null,b=3,x=!1,w=!1,E=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function B(k){for(var N=i(p);N!==null;){if(N.callback===null)a(p);else if(N.startTime<=k)a(p),N.sortIndex=N.expirationTime,t(f,N);else break;N=i(p)}}function V(k){if(E=!1,B(k),!w)if(i(f)!==null)w=!0,A||(A=!0,H());else{var N=i(p);N!==null&&F(V,N.startTime-k)}}var A=!1,M=-1,C=5,R=-1;function I(){return S?!0:!(n.unstable_now()-R<C)}function P(){if(S=!1,A){var k=n.unstable_now();R=k;var N=!0;try{e:{w=!1,E&&(E=!1,L(M),M=-1),x=!0;var Z=b;try{t:{for(B(k),y=i(f);y!==null&&!(y.expirationTime>k&&I());){var X=y.callback;if(typeof X=="function"){y.callback=null,b=y.priorityLevel;var O=X(y.expirationTime<=k);if(k=n.unstable_now(),typeof O=="function"){y.callback=O,B(k),N=!0;break t}y===i(f)&&a(f),B(k)}else a(f);y=i(f)}if(y!==null)N=!0;else{var $=i(p);$!==null&&F(V,$.startTime-k),N=!1}}break e}finally{y=null,b=Z,x=!1}N=void 0}}finally{N?H():A=!1}}}var H;if(typeof T=="function")H=function(){T(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=P,H=function(){q.postMessage(null)}}else H=function(){j(P,0)};function F(k,N){M=j(function(){k(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var N=3;break;default:N=b}var Z=b;b=N;try{return k()}finally{b=Z}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(k,N){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=b;b=k;try{return N()}finally{b=Z}},n.unstable_scheduleCallback=function(k,N,Z){var X=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?X+Z:X):Z=X,k){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Z+O,k={id:h++,callback:N,priorityLevel:k,startTime:Z,expirationTime:O,sortIndex:-1},Z>X?(k.sortIndex=Z,t(p,k),i(f)===null&&k===i(p)&&(E?(L(M),M=-1):E=!0,F(V,Z-X))):(k.sortIndex=O,t(f,k),w||x||(w=!0,A||(A=!0,H()))),k},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(k){var N=b;return function(){var Z=b;b=N;try{return k.apply(this,arguments)}finally{b=Z}}}})(pd)),pd}var ty;function l1(){return ty||(ty=1,md.exports=s1()),md.exports}var gd={exports:{}},Vt={};var ny;function o1(){if(ny)return Vt;ny=1;var n=bf();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)p+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(f,p,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:f,containerInfo:p,implementation:h}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vt.createPortal=function(f,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(f,p,null,h)},Vt.flushSync=function(f){var p=u.T,h=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=p,a.p=h,a.d.f()}},Vt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},Vt.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Vt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var h=p.as,y=d(h,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;h==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):h==="script"&&a.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var h=d(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},Vt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var h=p.as,y=d(h,p.crossOrigin);a.d.L(f,h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(f,p){if(typeof f=="string")if(p){var h=d(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},Vt.requestFormReset=function(f){a.d.r(f)},Vt.unstable_batchedUpdates=function(f,p){return f(p)},Vt.useFormState=function(f,p,h){return u.H.useFormState(f,p,h)},Vt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vt.version="19.2.0",Vt}var ry;function u1(){if(ry)return gd.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gd.exports=o1(),gd.exports}var iy;function c1(){if(iy)return Ts;iy=1;var n=l1(),t=bf(),i=u1();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function u(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function f(e){if(o(e)!==e)throw Error(a(188))}function p(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(a(188));return r!==e?null:e}for(var s=e,c=r;;){var m=s.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){s=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===s)return f(m),e;if(v===c)return f(m),r;v=v.sibling}throw Error(a(188))}if(s.return!==c.return)s=m,c=v;else{for(var _=!1,U=m.child;U;){if(U===s){_=!0,s=m,c=v;break}if(U===c){_=!0,c=m,s=v;break}U=U.sibling}if(!_){for(U=v.child;U;){if(U===s){_=!0,s=v,c=m;break}if(U===c){_=!0,c=v,s=m;break}U=U.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:r}function h(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=h(e),r!==null)return r;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),T=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case A:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case T:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case B:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return r=e.displayName||null,r!==null?r:q(e.type)||"Memo";case C:r=e._payload,e=e._init;try{return q(e(r))}catch{}}return null}var F=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},X=[],O=-1;function $(e){return{current:e}}function K(e){0>O||(e.current=X[O],X[O]=null,O--)}function D(e,r){O++,X[O]=e.current,e.current=r}var ee=$(null),W=$(null),te=$(null),he=$(null);function oe(e,r){switch(D(te,r),D(W,e),D(ee,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?bg(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=bg(r),e=xg(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ee),D(ee,e)}function fe(){K(ee),K(W),K(te)}function _e(e){e.memoizedState!==null&&D(he,e);var r=ee.current,s=xg(r,e.type);r!==s&&(D(W,e),D(ee,s))}function ve(e){W.current===e&&(K(ee),K(W)),he.current===e&&(K(he),Es._currentValue=Z)}var Ee,Rt;function st(e){if(Ee===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Ee=r&&r[1]||"",Rt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+e+Rt}var $e=!1;function Qe(e,r){if(!e||$e)return"";$e=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ie=ae}Reflect.construct(e,[],de)}else{try{de.call()}catch(ae){ie=ae}e.call(de.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),_=v[0],U=v[1];if(_&&U){var Y=_.split(`
`),re=U.split(`
`);for(m=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;m<re.length&&!re[m].includes("DetermineComponentFrameRoot");)m++;if(c===Y.length||m===re.length)for(c=Y.length-1,m=re.length-1;1<=c&&0<=m&&Y[c]!==re[m];)m--;for(;1<=c&&0<=m;c--,m--)if(Y[c]!==re[m]){if(c!==1||m!==1)do if(c--,m--,0>m||Y[c]!==re[m]){var le=`
`+Y[c].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=c&&0<=m);break}}}finally{$e=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?st(s):""}function Ie(e,r){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return e.child!==r&&r!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return Qe(e.type,!1);case 11:return Qe(e.type.render,!1);case 1:return Qe(e.type,!0);case 31:return st("Activity");default:return""}}function Ye(e){try{var r="",s=null;do r+=Ie(e,s),s=e,e=e.return;while(e);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var dt=Object.prototype.hasOwnProperty,vt=n.unstable_scheduleCallback,nt=n.unstable_cancelCallback,Lt=n.unstable_shouldYield,ft=n.unstable_requestPaint,Oe=n.unstable_now,Mt=n.unstable_getCurrentPriorityLevel,se=n.unstable_ImmediatePriority,pe=n.unstable_UserBlockingPriority,ge=n.unstable_NormalPriority,Te=n.unstable_LowPriority,Ae=n.unstable_IdlePriority,lt=n.log,bt=n.unstable_setDisableYieldValue,ot=null,Ke=null;function xt(e){if(typeof lt=="function"&&bt(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ot,e)}catch{}}var Fe=Math.clz32?Math.clz32:Ws,Kn=Math.log,Xt=Math.LN2;function Ws(e){return e>>>=0,e===0?32:31-(Kn(e)/Xt|0)|0}var Qn=256,Ti=262144,cn=4194304;function Ft(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bn(e,r,s){var c=e.pendingLanes;if(c===0)return 0;var m=0,v=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var U=c&134217727;return U!==0?(c=U&~v,c!==0?m=Ft(c):(_&=U,_!==0?m=Ft(_):s||(s=U&~e,s!==0&&(m=Ft(s))))):(U=c&~v,U!==0?m=Ft(U):_!==0?m=Ft(_):s||(s=c&~e,s!==0&&(m=Ft(s)))),m===0?0:r!==0&&r!==m&&(r&v)===0&&(v=m&-m,s=r&-r,v>=s||v===32&&(s&4194048)!==0)?r:m}function In(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function el(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var e=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),e}function qn(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function Ba(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hb(e,r,s,c,m,v){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var U=e.entanglements,Y=e.expirationTimes,re=e.hiddenUpdates;for(s=_&~s;0<s;){var le=31-Fe(s),de=1<<le;U[le]=0,Y[le]=-1;var ie=re[le];if(ie!==null)for(re[le]=null,le=0;le<ie.length;le++){var ae=ie[le];ae!==null&&(ae.lane&=-536870913)}s&=~de}c!==0&&th(e,c,0),v!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=v&~(_&~r))}function th(e,r,s){e.pendingLanes|=r,e.suspendedLanes&=~r;var c=31-Fe(r);e.entangledLanes|=r,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function nh(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var c=31-Fe(s),m=1<<c;m&r|e[c]&r&&(e[c]|=r),s&=~m}}function rh(e,r){var s=r&-r;return s=(s&42)!==0?1:eu(s),(s&(e.suspendedLanes|r))!==0?0:s}function eu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ih(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:$g(e.type))}function ah(e,r){var s=N.p;try{return N.p=e,r()}finally{N.p=s}}var Nr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Nr,Zt="__reactProps$"+Nr,Ci="__reactContainer$"+Nr,nu="__reactEvents$"+Nr,$b="__reactListeners$"+Nr,Fb="__reactHandles$"+Nr,sh="__reactResources$"+Nr,Ia="__reactMarker$"+Nr;function ru(e){delete e[Bt],delete e[Zt],delete e[nu],delete e[$b],delete e[Fb]}function Ri(e){var r=e[Bt];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Ci]||s[Bt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=Ng(e);e!==null;){if(s=e[Bt])return s;e=Ng(e)}return r}e=s,s=e.parentNode}return null}function Oi(e){if(e=e[Bt]||e[Ci]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function qa(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Ui(e){var r=e[sh];return r||(r=e[sh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(e){e[Ia]=!0}var lh=new Set,oh={};function ri(e,r){Di(e,r),Di(e+"Capture",r)}function Di(e,r){for(oh[e]=r,e=0;e<r.length;e++)lh.add(r[e])}var Vb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},ch={};function Gb(e){return dt.call(ch,e)?!0:dt.call(uh,e)?!1:Vb.test(e)?ch[e]=!0:(uh[e]=!0,!1)}function tl(e,r,s){if(Gb(r))if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+s)}}function nl(e,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+s)}}function ar(e,r,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(r,s,""+c)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dh(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yb(e,r,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){s=""+_,v.call(this,_)}}),Object.defineProperty(e,r,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function iu(e){if(!e._valueTracker){var r=dh(e)?"checked":"value";e._valueTracker=Yb(e,r,""+e[r])}}function fh(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),c="";return e&&(c=dh(e)?e.checked?"true":"false":e.value),e=c,e!==s?(r.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kb=/[\n"\\]/g;function jn(e){return e.replace(Kb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function au(e,r,s,c,m,v,_,U){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+En(r)):e.value!==""+En(r)&&(e.value=""+En(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?su(e,_,En(r)):s!=null?su(e,_,En(s)):c!=null&&e.removeAttribute("value"),m==null&&v!=null&&(e.defaultChecked=!!v),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?e.name=""+En(U):e.removeAttribute("name")}function hh(e,r,s,c,m,v,_,U){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),r!=null||s!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){iu(e);return}s=s!=null?""+En(s):"",r=r!=null?""+En(r):s,U||r===e.value||(e.value=r),e.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=U?e.checked:!!c,e.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),iu(e)}function su(e,r,s){r==="number"&&rl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function zi(e,r,s,c){if(e=e.options,r){r={};for(var m=0;m<s.length;m++)r["$"+s[m]]=!0;for(s=0;s<e.length;s++)m=r.hasOwnProperty("$"+e[s].value),e[s].selected!==m&&(e[s].selected=m),m&&c&&(e[s].defaultSelected=!0)}else{for(s=""+En(s),r=null,m=0;m<e.length;m++){if(e[m].value===s){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}r!==null||e[m].disabled||(r=e[m])}r!==null&&(r.selected=!0)}}function mh(e,r,s){if(r!=null&&(r=""+En(r),r!==e.value&&(e.value=r),s==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=s!=null?""+En(s):""}function ph(e,r,s,c){if(r==null){if(c!=null){if(s!=null)throw Error(a(92));if(F(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),r=s}s=En(r),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),iu(e)}function Li(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Qb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(e,r,s){var c=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":c?e.setProperty(r,s):typeof s!="number"||s===0||Qb.has(r)?r==="float"?e.cssFloat=s:e[r]=(""+s).trim():e[r]=s+"px"}function yh(e,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&s[m]!==c&&gh(e,m,c)}else for(var v in r)r.hasOwnProperty(v)&&gh(e,v,r[v])}function lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(e){return Jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sr(){}var ou=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,Bi=null;function vh(e){var r=Oi(e);if(r&&(e=r.stateNode)){var s=e[Zt]||null;e:switch(e=r.stateNode,r.type){case"input":if(au(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var c=s[r];if(c!==e&&c.form===e.form){var m=c[Zt]||null;if(!m)throw Error(a(90));au(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<s.length;r++)c=s[r],c.form===e.form&&fh(c)}break e;case"textarea":mh(e,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&zi(e,!!s.multiple,r,!1)}}}var cu=!1;function bh(e,r,s){if(cu)return e(r,s);cu=!0;try{var c=e(r);return c}finally{if(cu=!1,(Mi!==null||Bi!==null)&&(Vl(),Mi&&(r=Mi,e=Bi,Bi=Mi=null,vh(r),e)))for(r=0;r<e.length;r++)vh(e[r])}}function Pa(e,r){var s=e.stateNode;if(s===null)return null;var c=s[Zt]||null;if(c===null)return null;s=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(lr)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){du=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{du=!1}var Ar=null,fu=null,al=null;function xh(){if(al)return al;var e,r=fu,s=r.length,c,m="value"in Ar?Ar.value:Ar.textContent,v=m.length;for(e=0;e<s&&r[e]===m[e];e++);var _=s-e;for(c=1;c<=_&&r[s-c]===m[v-c];c++);return al=m.slice(e,1<c?1-c:void 0)}function sl(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function wh(){return!1}function Wt(e){function r(s,c,m,v,_){this._reactName=s,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var U in e)e.hasOwnProperty(U)&&(s=e[U],this[U]=s?s(v):v[U]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ll:wh,this.isPropagationStopped=wh,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),r}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Wt(ii),$a=y({},ii,{view:0,detail:0}),Zb=Wt($a),hu,mu,Fa,ul=y({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(hu=e.screenX-Fa.screenX,mu=e.screenY-Fa.screenY):mu=hu=0,Fa=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),_h=Wt(ul),Wb=y({},ul,{dataTransfer:0}),ex=Wt(Wb),tx=y({},$a,{relatedTarget:0}),pu=Wt(tx),nx=y({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),rx=Wt(nx),ix=y({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ax=Wt(ix),sx=y({},ii,{data:0}),Sh=Wt(sx),lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cx(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=ux[e])?!!r[e]:!1}function gu(){return cx}var dx=y({},$a,{key:function(e){if(e.key){var r=lx[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fx=Wt(dx),hx=y({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=Wt(hx),mx=y({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),px=Wt(mx),gx=y({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),yx=Wt(gx),vx=y({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=Wt(vx),xx=y({},ii,{newState:0,oldState:0}),wx=Wt(xx),_x=[9,13,27,32],yu=lr&&"CompositionEvent"in window,Va=null;lr&&"documentMode"in document&&(Va=document.documentMode);var Sx=lr&&"TextEvent"in window&&!Va,jh=lr&&(!yu||Va&&8<Va&&11>=Va),kh=" ",Nh=!1;function Ah(e,r){switch(e){case"keyup":return _x.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function Ex(e,r){switch(e){case"compositionend":return Th(r);case"keypress":return r.which!==32?null:(Nh=!0,kh);case"textInput":return e=r.data,e===kh&&Nh?null:e;default:return null}}function jx(e,r){if(Ii)return e==="compositionend"||!yu&&Ah(e,r)?(e=xh(),al=fu=Ar=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jh&&r.locale!=="ko"?null:r.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!kx[e.type]:r==="textarea"}function Rh(e,r,s,c){Mi?Bi?Bi.push(c):Bi=[c]:Mi=c,r=Zl(r,"onChange"),0<r.length&&(s=new ol("onChange","change",null,s,c),e.push({event:s,listeners:r}))}var Ga=null,Ya=null;function Nx(e){hg(e,0)}function cl(e){var r=qa(e);if(fh(r))return e}function Oh(e,r){if(e==="change")return r}var Uh=!1;if(lr){var vu;if(lr){var bu="oninput"in document;if(!bu){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),bu=typeof Dh.oninput=="function"}vu=bu}else vu=!1;Uh=vu&&(!document.documentMode||9<document.documentMode)}function zh(){Ga&&(Ga.detachEvent("onpropertychange",Lh),Ya=Ga=null)}function Lh(e){if(e.propertyName==="value"&&cl(Ya)){var r=[];Rh(r,Ya,e,uu(e)),bh(Nx,r)}}function Ax(e,r,s){e==="focusin"?(zh(),Ga=r,Ya=s,Ga.attachEvent("onpropertychange",Lh)):e==="focusout"&&zh()}function Tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Ya)}function Cx(e,r){if(e==="click")return cl(r)}function Rx(e,r){if(e==="input"||e==="change")return cl(r)}function Ox(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var dn=typeof Object.is=="function"?Object.is:Ox;function Ka(e,r){if(dn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),c=Object.keys(r);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var m=s[c];if(!dt.call(r,m)||!dn(e[m],r[m]))return!1}return!0}function Mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,r){var s=Mh(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=r&&c>=r)return{node:s,offset:r-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Mh(s)}}function Ih(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Ih(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function qh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=rl(e.document);r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=rl(e.document)}return r}function xu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Ux=lr&&"documentMode"in document&&11>=document.documentMode,qi=null,wu=null,Qa=null,_u=!1;function Ph(e,r,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_u||qi==null||qi!==rl(c)||(c=qi,"selectionStart"in c&&xu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qa&&Ka(Qa,c)||(Qa=c,c=Zl(wu,"onSelect"),0<c.length&&(r=new ol("onSelect","select",null,r,s),e.push({event:r,listeners:c}),r.target=qi)))}function ai(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Pi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},Su={},Hh={};lr&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function si(e){if(Su[e])return Su[e];if(!Pi[e])return e;var r=Pi[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in Hh)return Su[e]=r[s];return e}var $h=si("animationend"),Fh=si("animationiteration"),Vh=si("animationstart"),Dx=si("transitionrun"),zx=si("transitionstart"),Lx=si("transitioncancel"),Gh=si("transitionend"),Yh=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function Pn(e,r){Yh.set(e,r),ri(r,[e])}var dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Hi=0,ju=0;function fl(){for(var e=Hi,r=ju=Hi=0;r<e;){var s=kn[r];kn[r++]=null;var c=kn[r];kn[r++]=null;var m=kn[r];kn[r++]=null;var v=kn[r];if(kn[r++]=null,c!==null&&m!==null){var _=c.pending;_===null?m.next=m:(m.next=_.next,_.next=m),c.pending=m}v!==0&&Kh(s,m,v)}}function hl(e,r,s,c){kn[Hi++]=e,kn[Hi++]=r,kn[Hi++]=s,kn[Hi++]=c,ju|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ku(e,r,s,c){return hl(e,r,s,c),ml(e)}function li(e,r){return hl(e,null,null,r),ml(e)}function Kh(e,r,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var m=!1,v=e.return;v!==null;)v.childLanes|=s,c=v.alternate,c!==null&&(c.childLanes|=s),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(m=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,m&&r!==null&&(m=31-Fe(s),e=v.hiddenUpdates,c=e[m],c===null?e[m]=[r]:c.push(r),r.lane=s|536870912),v):null}function ml(e){if(50<ys)throw ys=0,zc=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var $i={};function Mx(e,r,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,r,s,c){return new Mx(e,r,s,c)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function or(e,r){var s=e.alternate;return s===null?(s=fn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Qh(e,r){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,r=s.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function pl(e,r,s,c,m,v){var _=0;if(c=e,typeof e=="function")Nu(e)&&(_=1);else if(typeof e=="string")_=Hw(e,s,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=fn(31,s,r,m),e.elementType=R,e.lanes=v,e;case E:return oi(s.children,m,v,r);case S:_=8,m|=24;break;case j:return e=fn(12,s,r,m|2),e.elementType=j,e.lanes=v,e;case V:return e=fn(13,s,r,m),e.elementType=V,e.lanes=v,e;case A:return e=fn(19,s,r,m),e.elementType=A,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:_=10;break e;case L:_=9;break e;case B:_=11;break e;case M:_=14;break e;case C:_=16,c=null;break e}_=29,s=Error(a(130,e===null?"null":typeof e,"")),c=null}return r=fn(_,s,r,m),r.elementType=e,r.type=c,r.lanes=v,r}function oi(e,r,s,c){return e=fn(7,e,c,r),e.lanes=s,e}function Au(e,r,s){return e=fn(6,e,null,r),e.lanes=s,e}function Xh(e){var r=fn(18,null,null,0);return r.stateNode=e,r}function Tu(e,r,s){return r=fn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Jh=new WeakMap;function Nn(e,r){if(typeof e=="object"&&e!==null){var s=Jh.get(e);return s!==void 0?s:(r={value:e,source:r,stack:Ye(r)},Jh.set(e,r),r)}return{value:e,source:r,stack:Ye(r)}}var Fi=[],Vi=0,gl=null,Xa=0,An=[],Tn=0,Tr=null,Jn=1,Zn="";function ur(e,r){Fi[Vi++]=Xa,Fi[Vi++]=gl,gl=e,Xa=r}function Zh(e,r,s){An[Tn++]=Jn,An[Tn++]=Zn,An[Tn++]=Tr,Tr=e;var c=Jn;e=Zn;var m=32-Fe(c)-1;c&=~(1<<m),s+=1;var v=32-Fe(r)+m;if(30<v){var _=m-m%5;v=(c&(1<<_)-1).toString(32),c>>=_,m-=_,Jn=1<<32-Fe(r)+m|s<<m|c,Zn=v+e}else Jn=1<<v|s<<m|c,Zn=e}function Cu(e){e.return!==null&&(ur(e,1),Zh(e,1,0))}function Ru(e){for(;e===gl;)gl=Fi[--Vi],Fi[Vi]=null,Xa=Fi[--Vi],Fi[Vi]=null;for(;e===Tr;)Tr=An[--Tn],An[Tn]=null,Zn=An[--Tn],An[Tn]=null,Jn=An[--Tn],An[Tn]=null}function Wh(e,r){An[Tn++]=Jn,An[Tn++]=Zn,An[Tn++]=Tr,Jn=r.id,Zn=r.overflow,Tr=e}var It=null,ut=null,qe=!1,Cr=null,Cn=!1,Ou=Error(a(519));function Rr(e){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ja(Nn(r,e)),Ou}function em(e){var r=e.stateNode,s=e.type,c=e.memoizedProps;switch(r[Bt]=e,r[Zt]=c,s){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<bs.length;s++)Le(bs[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),hh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),ph(r,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||c.suppressHydrationWarning===!0||yg(r.textContent,s)?(c.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),c.onScroll!=null&&Le("scroll",r),c.onScrollEnd!=null&&Le("scrollend",r),c.onClick!=null&&(r.onclick=sr),r=!0):r=!1,r||Rr(e,!0)}function tm(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:It=It.return}}function Gi(e){if(e!==It)return!1;if(!qe)return tm(e),qe=!0,!1;var r=e.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Xc(e.type,e.memoizedProps)),s=!s),s&&ut&&Rr(e),tm(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ut=kg(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ut=kg(e)}else r===27?(r=ut,Vr(e.type)?(e=td,td=null,ut=e):ut=r):ut=It?On(e.stateNode.nextSibling):null;return!0}function ui(){ut=It=null,qe=!1}function Uu(){var e=Cr;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),Cr=null),e}function Ja(e){Cr===null?Cr=[e]:Cr.push(e)}var Du=$(null),ci=null,cr=null;function Or(e,r,s){D(Du,r._currentValue),r._currentValue=s}function dr(e){e._currentValue=Du.current,K(Du)}function zu(e,r,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),e===s)break;e=e.return}}function Lu(e,r,s,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var v=m.dependencies;if(v!==null){var _=m.child;v=v.firstContext;e:for(;v!==null;){var U=v;v=m;for(var Y=0;Y<r.length;Y++)if(U.context===r[Y]){v.lanes|=s,U=v.alternate,U!==null&&(U.lanes|=s),zu(v.return,s,e),c||(_=null);break e}v=U.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(a(341));_.lanes|=s,v=_.alternate,v!==null&&(v.lanes|=s),zu(_,s,e),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===e){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Yi(e,r,s,c){e=null;for(var m=r,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var U=m.type;dn(m.pendingProps.value,_.value)||(e!==null?e.push(U):e=[U])}}else if(m===he.current){if(_=m.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Es):e=[Es])}m=m.return}e!==null&&Lu(r,e,s,c),r.flags|=262144}function yl(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){ci=e,cr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return nm(ci,e)}function vl(e,r){return ci===null&&di(e),nm(e,r)}function nm(e,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},cr===null){if(e===null)throw Error(a(308));cr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else cr=cr.next=r;return s}var Bx=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){r.aborted=!0,e.forEach(function(s){return s()})}},Ix=n.unstable_scheduleCallback,qx=n.unstable_NormalPriority,jt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new Bx,data:new Map,refCount:0}}function Za(e){e.refCount--,e.refCount===0&&Ix(qx,function(){e.controller.abort()})}var Wa=null,Bu=0,Ki=0,Qi=null;function Px(e,r){if(Wa===null){var s=Wa=[];Bu=0,Ki=Pc(),Qi={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Bu++,r.then(rm,rm),r}function rm(){if(--Bu===0&&Wa!==null){Qi!==null&&(Qi.status="fulfilled");var e=Wa;Wa=null,Ki=0,Qi=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Hx(e,r){var s=[],c={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return e.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<s.length;m++)(0,s[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),c}var im=k.S;k.S=function(e,r){Pp=Oe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Px(e,r),im!==null&&im(e,r)};var fi=$(null);function Iu(){var e=fi.current;return e!==null?e:tt.pooledCache}function bl(e,r){r===null?D(fi,fi.current):D(fi,r.pool)}function am(){var e=Iu();return e===null?null:{parent:jt._currentValue,pool:e}}var Xi=Error(a(460)),qu=Error(a(474)),xl=Error(a(542)),wl={then:function(){}};function sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lm(e,r,s){switch(s=e[s],s===void 0?e.push(r):s!==r&&(r.then(sr,sr),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,um(e),e;default:if(typeof r.status=="string")r.then(sr,sr);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,um(e),e}throw mi=r,Xi}}function hi(e){try{var r=e._init;return r(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(mi=s,Xi):s}}var mi=null;function om(){if(mi===null)throw Error(a(459));var e=mi;return mi=null,e}function um(e){if(e===Xi||e===xl)throw Error(a(483))}var Ji=null,es=0;function _l(e){var r=es;return es+=1,Ji===null&&(Ji=[]),lm(Ji,e,r)}function ts(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Sl(e,r){throw r.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function cm(e){function r(J,Q){if(e){var ne=J.deletions;ne===null?(J.deletions=[Q],J.flags|=16):ne.push(Q)}}function s(J,Q){if(!e)return null;for(;Q!==null;)r(J,Q),Q=Q.sibling;return null}function c(J){for(var Q=new Map;J!==null;)J.key!==null?Q.set(J.key,J):Q.set(J.index,J),J=J.sibling;return Q}function m(J,Q){return J=or(J,Q),J.index=0,J.sibling=null,J}function v(J,Q,ne){return J.index=ne,e?(ne=J.alternate,ne!==null?(ne=ne.index,ne<Q?(J.flags|=67108866,Q):ne):(J.flags|=67108866,Q)):(J.flags|=1048576,Q)}function _(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function U(J,Q,ne,ce){return Q===null||Q.tag!==6?(Q=Au(ne,J.mode,ce),Q.return=J,Q):(Q=m(Q,ne),Q.return=J,Q)}function Y(J,Q,ne,ce){var Se=ne.type;return Se===E?le(J,Q,ne.props.children,ce,ne.key):Q!==null&&(Q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&hi(Se)===Q.type)?(Q=m(Q,ne.props),ts(Q,ne),Q.return=J,Q):(Q=pl(ne.type,ne.key,ne.props,null,J.mode,ce),ts(Q,ne),Q.return=J,Q)}function re(J,Q,ne,ce){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=Tu(ne,J.mode,ce),Q.return=J,Q):(Q=m(Q,ne.children||[]),Q.return=J,Q)}function le(J,Q,ne,ce,Se){return Q===null||Q.tag!==7?(Q=oi(ne,J.mode,ce,Se),Q.return=J,Q):(Q=m(Q,ne),Q.return=J,Q)}function de(J,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Au(""+Q,J.mode,ne),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return ne=pl(Q.type,Q.key,Q.props,null,J.mode,ne),ts(ne,Q),ne.return=J,ne;case w:return Q=Tu(Q,J.mode,ne),Q.return=J,Q;case C:return Q=hi(Q),de(J,Q,ne)}if(F(Q)||H(Q))return Q=oi(Q,J.mode,ne,null),Q.return=J,Q;if(typeof Q.then=="function")return de(J,_l(Q),ne);if(Q.$$typeof===T)return de(J,vl(J,Q),ne);Sl(J,Q)}return null}function ie(J,Q,ne,ce){var Se=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Se!==null?null:U(J,Q,""+ne,ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ne.key===Se?Y(J,Q,ne,ce):null;case w:return ne.key===Se?re(J,Q,ne,ce):null;case C:return ne=hi(ne),ie(J,Q,ne,ce)}if(F(ne)||H(ne))return Se!==null?null:le(J,Q,ne,ce,null);if(typeof ne.then=="function")return ie(J,Q,_l(ne),ce);if(ne.$$typeof===T)return ie(J,Q,vl(J,ne),ce);Sl(J,ne)}return null}function ae(J,Q,ne,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return J=J.get(ne)||null,U(Q,J,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return J=J.get(ce.key===null?ne:ce.key)||null,Y(Q,J,ce,Se);case w:return J=J.get(ce.key===null?ne:ce.key)||null,re(Q,J,ce,Se);case C:return ce=hi(ce),ae(J,Q,ne,ce,Se)}if(F(ce)||H(ce))return J=J.get(ne)||null,le(Q,J,ce,Se,null);if(typeof ce.then=="function")return ae(J,Q,ne,_l(ce),Se);if(ce.$$typeof===T)return ae(J,Q,ne,vl(Q,ce),Se);Sl(Q,ce)}return null}function ye(J,Q,ne,ce){for(var Se=null,Pe=null,be=Q,Ue=Q=0,Be=null;be!==null&&Ue<ne.length;Ue++){be.index>Ue?(Be=be,be=null):Be=be.sibling;var He=ie(J,be,ne[Ue],ce);if(He===null){be===null&&(be=Be);break}e&&be&&He.alternate===null&&r(J,be),Q=v(He,Q,Ue),Pe===null?Se=He:Pe.sibling=He,Pe=He,be=Be}if(Ue===ne.length)return s(J,be),qe&&ur(J,Ue),Se;if(be===null){for(;Ue<ne.length;Ue++)be=de(J,ne[Ue],ce),be!==null&&(Q=v(be,Q,Ue),Pe===null?Se=be:Pe.sibling=be,Pe=be);return qe&&ur(J,Ue),Se}for(be=c(be);Ue<ne.length;Ue++)Be=ae(be,J,Ue,ne[Ue],ce),Be!==null&&(e&&Be.alternate!==null&&be.delete(Be.key===null?Ue:Be.key),Q=v(Be,Q,Ue),Pe===null?Se=Be:Pe.sibling=Be,Pe=Be);return e&&be.forEach(function(Xr){return r(J,Xr)}),qe&&ur(J,Ue),Se}function je(J,Q,ne,ce){if(ne==null)throw Error(a(151));for(var Se=null,Pe=null,be=Q,Ue=Q=0,Be=null,He=ne.next();be!==null&&!He.done;Ue++,He=ne.next()){be.index>Ue?(Be=be,be=null):Be=be.sibling;var Xr=ie(J,be,He.value,ce);if(Xr===null){be===null&&(be=Be);break}e&&be&&Xr.alternate===null&&r(J,be),Q=v(Xr,Q,Ue),Pe===null?Se=Xr:Pe.sibling=Xr,Pe=Xr,be=Be}if(He.done)return s(J,be),qe&&ur(J,Ue),Se;if(be===null){for(;!He.done;Ue++,He=ne.next())He=de(J,He.value,ce),He!==null&&(Q=v(He,Q,Ue),Pe===null?Se=He:Pe.sibling=He,Pe=He);return qe&&ur(J,Ue),Se}for(be=c(be);!He.done;Ue++,He=ne.next())He=ae(be,J,Ue,He.value,ce),He!==null&&(e&&He.alternate!==null&&be.delete(He.key===null?Ue:He.key),Q=v(He,Q,Ue),Pe===null?Se=He:Pe.sibling=He,Pe=He);return e&&be.forEach(function(Ww){return r(J,Ww)}),qe&&ur(J,Ue),Se}function et(J,Q,ne,ce){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:e:{for(var Se=ne.key;Q!==null;){if(Q.key===Se){if(Se=ne.type,Se===E){if(Q.tag===7){s(J,Q.sibling),ce=m(Q,ne.props.children),ce.return=J,J=ce;break e}}else if(Q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&hi(Se)===Q.type){s(J,Q.sibling),ce=m(Q,ne.props),ts(ce,ne),ce.return=J,J=ce;break e}s(J,Q);break}else r(J,Q);Q=Q.sibling}ne.type===E?(ce=oi(ne.props.children,J.mode,ce,ne.key),ce.return=J,J=ce):(ce=pl(ne.type,ne.key,ne.props,null,J.mode,ce),ts(ce,ne),ce.return=J,J=ce)}return _(J);case w:e:{for(Se=ne.key;Q!==null;){if(Q.key===Se)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){s(J,Q.sibling),ce=m(Q,ne.children||[]),ce.return=J,J=ce;break e}else{s(J,Q);break}else r(J,Q);Q=Q.sibling}ce=Tu(ne,J.mode,ce),ce.return=J,J=ce}return _(J);case C:return ne=hi(ne),et(J,Q,ne,ce)}if(F(ne))return ye(J,Q,ne,ce);if(H(ne)){if(Se=H(ne),typeof Se!="function")throw Error(a(150));return ne=Se.call(ne),je(J,Q,ne,ce)}if(typeof ne.then=="function")return et(J,Q,_l(ne),ce);if(ne.$$typeof===T)return et(J,Q,vl(J,ne),ce);Sl(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Q!==null&&Q.tag===6?(s(J,Q.sibling),ce=m(Q,ne),ce.return=J,J=ce):(s(J,Q),ce=Au(ne,J.mode,ce),ce.return=J,J=ce),_(J)):s(J,Q)}return function(J,Q,ne,ce){try{es=0;var Se=et(J,Q,ne,ce);return Ji=null,Se}catch(be){if(be===Xi||be===xl)throw be;var Pe=fn(29,be,null,J.mode);return Pe.lanes=ce,Pe.return=J,Pe}finally{}}}var pi=cm(!0),dm=cm(!1),Ur=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zr(e,r,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=ml(e),Kh(e,null,s),r}return hl(e,c,r,s),ml(e)}function ns(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var c=r.lanes;c&=e.pendingLanes,s|=c,r.lanes=s,nh(e,s)}}function $u(e,r){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var m=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};v===null?m=v=_:v=v.next=_,s=s.next}while(s!==null);v===null?m=v=r:v=v.next=r}else m=v=r;s={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}var Fu=!1;function rs(){if(Fu){var e=Qi;if(e!==null)throw e}}function is(e,r,s,c){Fu=!1;var m=e.updateQueue;Ur=!1;var v=m.firstBaseUpdate,_=m.lastBaseUpdate,U=m.shared.pending;if(U!==null){m.shared.pending=null;var Y=U,re=Y.next;Y.next=null,_===null?v=re:_.next=re,_=Y;var le=e.alternate;le!==null&&(le=le.updateQueue,U=le.lastBaseUpdate,U!==_&&(U===null?le.firstBaseUpdate=re:U.next=re,le.lastBaseUpdate=Y))}if(v!==null){var de=m.baseState;_=0,le=re=Y=null,U=v;do{var ie=U.lane&-536870913,ae=ie!==U.lane;if(ae?(Me&ie)===ie:(c&ie)===ie){ie!==0&&ie===Ki&&(Fu=!0),le!==null&&(le=le.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var ye=e,je=U;ie=r;var et=s;switch(je.tag){case 1:if(ye=je.payload,typeof ye=="function"){de=ye.call(et,de,ie);break e}de=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=je.payload,ie=typeof ye=="function"?ye.call(et,de,ie):ye,ie==null)break e;de=y({},de,ie);break e;case 2:Ur=!0}}ie=U.callback,ie!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:U.tag,payload:U.payload,callback:U.callback,next:null},le===null?(re=le=ae,Y=de):le=le.next=ae,_|=ie;if(U=U.next,U===null){if(U=m.shared.pending,U===null)break;ae=U,U=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);le===null&&(Y=de),m.baseState=Y,m.firstBaseUpdate=re,m.lastBaseUpdate=le,v===null&&(m.shared.lanes=0),qr|=_,e.lanes=_,e.memoizedState=de}}function fm(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function hm(e,r){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)fm(s[e],r)}var Zi=$(null),El=$(0);function mm(e,r){e=xr,D(El,e),D(Zi,r),xr=e|r.baseLanes}function Vu(){D(El,xr),D(Zi,Zi.current)}function Gu(){xr=El.current,K(Zi),K(El)}var hn=$(null),Rn=null;function Lr(e){var r=e.alternate;D(St,St.current&1),D(hn,e),Rn===null&&(r===null||Zi.current!==null||r.memoizedState!==null)&&(Rn=e)}function Yu(e){D(St,St.current),D(hn,e),Rn===null&&(Rn=e)}function pm(e){e.tag===22?(D(St,St.current),D(hn,e),Rn===null&&(Rn=e)):Mr()}function Mr(){D(St,St.current),D(hn,hn.current)}function mn(e){K(hn),Rn===e&&(Rn=null),K(St)}var St=$(0);function jl(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Wc(s)||ed(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,Re=null,Ze=null,kt=null,kl=!1,Wi=!1,gi=!1,Nl=0,as=0,ea=null,$x=0;function wt(){throw Error(a(321))}function Ku(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!dn(e[s],r[s]))return!1;return!0}function Qu(e,r,s,c,m,v){return fr=v,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=e===null||e.memoizedState===null?Zm:cc,gi=!1,v=s(c,m),gi=!1,Wi&&(v=ym(r,s,c,m)),gm(e),v}function gm(e){k.H=os;var r=Ze!==null&&Ze.next!==null;if(fr=0,kt=Ze=Re=null,kl=!1,as=0,ea=null,r)throw Error(a(300));e===null||Nt||(e=e.dependencies,e!==null&&yl(e)&&(Nt=!0))}function ym(e,r,s,c){Re=e;var m=0;do{if(Wi&&(ea=null),as=0,Wi=!1,25<=m)throw Error(a(301));if(m+=1,kt=Ze=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}k.H=Wm,v=r(s,c)}while(Wi);return v}function Fx(){var e=k.H,r=e.useState()[0];return r=typeof r.then=="function"?ss(r):r,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Re.flags|=1024),r}function Xu(){var e=Nl!==0;return Nl=0,e}function Ju(e,r,s){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s}function Zu(e){if(kl){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}kl=!1}fr=0,kt=Ze=Re=null,Wi=!1,as=Nl=0,ea=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Re.memoizedState=kt=e:kt=kt.next=e,kt}function Et(){if(Ze===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var r=kt===null?Re.memoizedState:kt.next;if(r!==null)kt=r,Ze=e;else{if(e===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},kt===null?Re.memoizedState=kt=e:kt=kt.next=e}return kt}function Al(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(e){var r=as;return as+=1,ea===null&&(ea=[]),e=lm(ea,e,r),r=Re,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,k.H=r===null||r.memoizedState===null?Zm:cc),e}function Tl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===T)return qt(e)}throw Error(a(438,String(e)))}function Wu(e){var r=null,s=Re.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Al(),Re.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(e),c=0;c<e;c++)s[c]=I;return r.index++,s}function hr(e,r){return typeof r=="function"?r(e):r}function Cl(e){var r=Et();return ec(r,Ze,e)}function ec(e,r,s){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var m=e.baseQueue,v=c.pending;if(v!==null){if(m!==null){var _=m.next;m.next=v.next,v.next=_}r.baseQueue=m=v,c.pending=null}if(v=e.baseState,m===null)e.memoizedState=v;else{r=m.next;var U=_=null,Y=null,re=r,le=!1;do{var de=re.lane&-536870913;if(de!==re.lane?(Me&de)===de:(fr&de)===de){var ie=re.revertLane;if(ie===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),de===Ki&&(le=!0);else if((fr&ie)===ie){re=re.next,ie===Ki&&(le=!0);continue}else de={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Y===null?(U=Y=de,_=v):Y=Y.next=de,Re.lanes|=ie,qr|=ie;de=re.action,gi&&s(v,de),v=re.hasEagerState?re.eagerState:s(v,de)}else ie={lane:de,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Y===null?(U=Y=ie,_=v):Y=Y.next=ie,Re.lanes|=de,qr|=de;re=re.next}while(re!==null&&re!==r);if(Y===null?_=v:Y.next=U,!dn(v,e.memoizedState)&&(Nt=!0,le&&(s=Qi,s!==null)))throw s;e.memoizedState=v,e.baseState=_,e.baseQueue=Y,c.lastRenderedState=v}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function tc(e){var r=Et(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var c=s.dispatch,m=s.pending,v=r.memoizedState;if(m!==null){s.pending=null;var _=m=m.next;do v=e(v,_.action),_=_.next;while(_!==m);dn(v,r.memoizedState)||(Nt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),s.lastRenderedState=v}return[v,c]}function vm(e,r,s){var c=Re,m=Et(),v=qe;if(v){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!dn((Ze||m).memoizedState,s);if(_&&(m.memoizedState=s,Nt=!0),m=m.queue,ic(wm.bind(null,c,m,e),[e]),m.getSnapshot!==r||_||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,ta(9,{destroy:void 0},xm.bind(null,c,m,s,r),null),tt===null)throw Error(a(349));v||(fr&127)!==0||bm(c,r,s)}return s}function bm(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Re.updateQueue,r===null?(r=Al(),Re.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function xm(e,r,s,c){r.value=s,r.getSnapshot=c,_m(r)&&Sm(e)}function wm(e,r,s){return s(function(){_m(r)&&Sm(e)})}function _m(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!dn(e,s)}catch{return!0}}function Sm(e){var r=li(e,2);r!==null&&an(r,e,2)}function nc(e){var r=Jt();if(typeof e=="function"){var s=e;if(e=s(),gi){xt(!0);try{s()}finally{xt(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:e},r}function Em(e,r,s,c){return e.baseState=s,ec(e,Ze,typeof c=="function"?c:hr)}function Vx(e,r,s,c,m){if(Ul(e))throw Error(a(485));if(e=r.action,e!==null){var v={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};k.T!==null?s(!0):v.isTransition=!1,c(v),s=r.pending,s===null?(v.next=r.pending=v,jm(r,v)):(v.next=s.next,r.pending=s.next=v)}}function jm(e,r){var s=r.action,c=r.payload,m=e.state;if(r.isTransition){var v=k.T,_={};k.T=_;try{var U=s(m,c),Y=k.S;Y!==null&&Y(_,U),km(e,r,U)}catch(re){rc(e,r,re)}finally{v!==null&&_.types!==null&&(v.types=_.types),k.T=v}}else try{v=s(m,c),km(e,r,v)}catch(re){rc(e,r,re)}}function km(e,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Nm(e,r,c)},function(c){return rc(e,r,c)}):Nm(e,r,s)}function Nm(e,r,s){r.status="fulfilled",r.value=s,Am(r),e.state=s,r=e.pending,r!==null&&(s=r.next,s===r?e.pending=null:(s=s.next,r.next=s,jm(e,s)))}function rc(e,r,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=s,Am(r),r=r.next;while(r!==c)}e.action=null}function Am(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Tm(e,r){return r}function Cm(e,r){if(qe){var s=tt.formState;if(s!==null){e:{var c=Re;if(qe){if(ut){t:{for(var m=ut,v=Cn;m.nodeType!==8;){if(!v){m=null;break t}if(m=On(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){ut=On(m.nextSibling),c=m.data==="F!";break e}}Rr(c)}c=!1}c&&(r=s[0])}}return s=Jt(),s.memoizedState=s.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:r},s.queue=c,s=Qm.bind(null,Re,c),c.dispatch=s,c=nc(!1),v=uc.bind(null,Re,!1,c.queue),c=Jt(),m={state:r,dispatch:null,action:e,pending:null},c.queue=m,s=Vx.bind(null,Re,m,v,s),m.dispatch=s,c.memoizedState=e,[r,s,!1]}function Rm(e){var r=Et();return Om(r,Ze,e)}function Om(e,r,s){if(r=ec(e,r,Tm)[0],e=Cl(hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=ss(r)}catch(_){throw _===Xi?xl:_}else c=r;r=Et();var m=r.queue,v=m.dispatch;return s!==r.memoizedState&&(Re.flags|=2048,ta(9,{destroy:void 0},Gx.bind(null,m,s),null)),[c,v,e]}function Gx(e,r){e.action=r}function Um(e){var r=Et(),s=Ze;if(s!==null)return Om(r,s,e);Et(),r=r.memoizedState,s=Et();var c=s.queue.dispatch;return s.memoizedState=e,[r,c,!1]}function ta(e,r,s,c){return e={tag:e,create:s,deps:c,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Al(),Re.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,r.lastEffect=e),e}function Dm(){return Et().memoizedState}function Rl(e,r,s,c){var m=Jt();Re.flags|=e,m.memoizedState=ta(1|r,{destroy:void 0},s,c===void 0?null:c)}function Ol(e,r,s,c){var m=Et();c=c===void 0?null:c;var v=m.memoizedState.inst;Ze!==null&&c!==null&&Ku(c,Ze.memoizedState.deps)?m.memoizedState=ta(r,v,s,c):(Re.flags|=e,m.memoizedState=ta(1|r,v,s,c))}function zm(e,r){Rl(8390656,8,e,r)}function ic(e,r){Ol(2048,8,e,r)}function Yx(e){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Al(),Re.updateQueue=r,r.events=[e];else{var s=r.events;s===null?r.events=[e]:s.push(e)}}function Lm(e){var r=Et().memoizedState;return Yx({ref:r,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Mm(e,r){return Ol(4,2,e,r)}function Bm(e,r){return Ol(4,4,e,r)}function Im(e,r){if(typeof r=="function"){e=e();var s=r(e);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function qm(e,r,s){s=s!=null?s.concat([e]):null,Ol(4,4,Im.bind(null,r,e),s)}function ac(){}function Pm(e,r){var s=Et();r=r===void 0?null:r;var c=s.memoizedState;return r!==null&&Ku(r,c[1])?c[0]:(s.memoizedState=[e,r],e)}function Hm(e,r){var s=Et();r=r===void 0?null:r;var c=s.memoizedState;if(r!==null&&Ku(r,c[1]))return c[0];if(c=e(),gi){xt(!0);try{e()}finally{xt(!1)}}return s.memoizedState=[c,r],c}function sc(e,r,s){return s===void 0||(fr&1073741824)!==0&&(Me&261930)===0?e.memoizedState=r:(e.memoizedState=s,e=$p(),Re.lanes|=e,qr|=e,s)}function $m(e,r,s,c){return dn(s,r)?s:Zi.current!==null?(e=sc(e,s,c),dn(e,r)||(Nt=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(Me&261930)===0?(Nt=!0,e.memoizedState=s):(e=$p(),Re.lanes|=e,qr|=e,r)}function Fm(e,r,s,c,m){var v=N.p;N.p=v!==0&&8>v?v:8;var _=k.T,U={};k.T=U,uc(e,!1,r,s);try{var Y=m(),re=k.S;if(re!==null&&re(U,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var le=Hx(Y,c);ls(e,r,le,yn(e))}else ls(e,r,c,yn(e))}catch(de){ls(e,r,{then:function(){},status:"rejected",reason:de},yn())}finally{N.p=v,_!==null&&U.types!==null&&(_.types=U.types),k.T=_}}function Kx(){}function lc(e,r,s,c){if(e.tag!==5)throw Error(a(476));var m=Vm(e).queue;Fm(e,m,r,Z,s===null?Kx:function(){return Gm(e),s(c)})}function Vm(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:Z},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:s},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Gm(e){var r=Vm(e);r.next===null&&(r=e.alternate.memoizedState),ls(e,r.next.queue,{},yn())}function oc(){return qt(Es)}function Ym(){return Et().memoizedState}function Km(){return Et().memoizedState}function Qx(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var s=yn();e=Dr(s);var c=zr(r,e,s);c!==null&&(an(c,r,s),ns(c,r,s)),r={cache:Mu()},e.payload=r;return}r=r.return}}function Xx(e,r,s){var c=yn();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Xm(r,s):(s=ku(e,r,s,c),s!==null&&(an(s,e,c),Jm(s,r,c)))}function Qm(e,r,s){var c=yn();ls(e,r,s,c)}function ls(e,r,s,c){var m={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Xm(r,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var _=r.lastRenderedState,U=v(_,s);if(m.hasEagerState=!0,m.eagerState=U,dn(U,_))return hl(e,r,m,0),tt===null&&fl(),!1}catch{}finally{}if(s=ku(e,r,m,c),s!==null)return an(s,e,c),Jm(s,r,c),!0}return!1}function uc(e,r,s,c){if(c={lane:2,revertLane:Pc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(r)throw Error(a(479))}else r=ku(e,s,c,2),r!==null&&an(r,e,2)}function Ul(e){var r=e.alternate;return e===Re||r!==null&&r===Re}function Xm(e,r){Wi=kl=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function Jm(e,r,s){if((s&4194048)!==0){var c=r.lanes;c&=e.pendingLanes,s|=c,r.lanes=s,nh(e,s)}}var os={readContext:qt,use:Tl,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};os.useEffectEvent=wt;var Zm={readContext:qt,use:Tl,useCallback:function(e,r){return Jt().memoizedState=[e,r===void 0?null:r],e},useContext:qt,useEffect:zm,useImperativeHandle:function(e,r,s){s=s!=null?s.concat([e]):null,Rl(4194308,4,Im.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Rl(4194308,4,e,r)},useInsertionEffect:function(e,r){Rl(4,2,e,r)},useMemo:function(e,r){var s=Jt();r=r===void 0?null:r;var c=e();if(gi){xt(!0);try{e()}finally{xt(!1)}}return s.memoizedState=[c,r],c},useReducer:function(e,r,s){var c=Jt();if(s!==void 0){var m=s(r);if(gi){xt(!0);try{s(r)}finally{xt(!1)}}}else m=r;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Xx.bind(null,Re,e),[c.memoizedState,e]},useRef:function(e){var r=Jt();return e={current:e},r.memoizedState=e},useState:function(e){e=nc(e);var r=e.queue,s=Qm.bind(null,Re,r);return r.dispatch=s,[e.memoizedState,s]},useDebugValue:ac,useDeferredValue:function(e,r){var s=Jt();return sc(s,e,r)},useTransition:function(){var e=nc(!1);return e=Fm.bind(null,Re,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,s){var c=Re,m=Jt();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),tt===null)throw Error(a(349));(Me&127)!==0||bm(c,r,s)}m.memoizedState=s;var v={value:s,getSnapshot:r};return m.queue=v,zm(wm.bind(null,c,v,e),[e]),c.flags|=2048,ta(9,{destroy:void 0},xm.bind(null,c,v,s,r),null),s},useId:function(){var e=Jt(),r=tt.identifierPrefix;if(qe){var s=Zn,c=Jn;s=(c&~(1<<32-Fe(c)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Nl++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=$x++,r="_"+r+"r_"+s.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:oc,useFormState:Cm,useActionState:Cm,useOptimistic:function(e){var r=Jt();r.memoizedState=r.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=uc.bind(null,Re,!0,s),s.dispatch=r,[e,r]},useMemoCache:Wu,useCacheRefresh:function(){return Jt().memoizedState=Qx.bind(null,Re)},useEffectEvent:function(e){var r=Jt(),s={impl:e};return r.memoizedState=s,function(){if((Ve&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},cc={readContext:qt,use:Tl,useCallback:Pm,useContext:qt,useEffect:ic,useImperativeHandle:qm,useInsertionEffect:Mm,useLayoutEffect:Bm,useMemo:Hm,useReducer:Cl,useRef:Dm,useState:function(){return Cl(hr)},useDebugValue:ac,useDeferredValue:function(e,r){var s=Et();return $m(s,Ze.memoizedState,e,r)},useTransition:function(){var e=Cl(hr)[0],r=Et().memoizedState;return[typeof e=="boolean"?e:ss(e),r]},useSyncExternalStore:vm,useId:Ym,useHostTransitionStatus:oc,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,r){var s=Et();return Em(s,Ze,e,r)},useMemoCache:Wu,useCacheRefresh:Km};cc.useEffectEvent=Lm;var Wm={readContext:qt,use:Tl,useCallback:Pm,useContext:qt,useEffect:ic,useImperativeHandle:qm,useInsertionEffect:Mm,useLayoutEffect:Bm,useMemo:Hm,useReducer:tc,useRef:Dm,useState:function(){return tc(hr)},useDebugValue:ac,useDeferredValue:function(e,r){var s=Et();return Ze===null?sc(s,e,r):$m(s,Ze.memoizedState,e,r)},useTransition:function(){var e=tc(hr)[0],r=Et().memoizedState;return[typeof e=="boolean"?e:ss(e),r]},useSyncExternalStore:vm,useId:Ym,useHostTransitionStatus:oc,useFormState:Um,useActionState:Um,useOptimistic:function(e,r){var s=Et();return Ze!==null?Em(s,Ze,e,r):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Wu,useCacheRefresh:Km};Wm.useEffectEvent=Lm;function dc(e,r,s,c){r=e.memoizedState,s=s(c,r),s=s==null?r:y({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fc={enqueueSetState:function(e,r,s){e=e._reactInternals;var c=yn(),m=Dr(c);m.payload=r,s!=null&&(m.callback=s),r=zr(e,m,c),r!==null&&(an(r,e,c),ns(r,e,c))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var c=yn(),m=Dr(c);m.tag=1,m.payload=r,s!=null&&(m.callback=s),r=zr(e,m,c),r!==null&&(an(r,e,c),ns(r,e,c))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=yn(),c=Dr(s);c.tag=2,r!=null&&(c.callback=r),r=zr(e,c,s),r!==null&&(an(r,e,s),ns(r,e,s))}};function ep(e,r,s,c,m,v,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,_):r.prototype&&r.prototype.isPureReactComponent?!Ka(s,c)||!Ka(m,v):!0}function tp(e,r,s,c){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,c),r.state!==e&&fc.enqueueReplaceState(r,r.state,null)}function yi(e,r){var s=r;if("ref"in r){s={};for(var c in r)c!=="ref"&&(s[c]=r[c])}if(e=e.defaultProps){s===r&&(s=y({},s));for(var m in e)s[m]===void 0&&(s[m]=e[m])}return s}function np(e){dl(e)}function rp(e){console.error(e)}function ip(e){dl(e)}function Dl(e,r){try{var s=e.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function ap(e,r,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function hc(e,r,s){return s=Dr(s),s.tag=3,s.payload={element:null},s.callback=function(){Dl(e,r)},s}function sp(e){return e=Dr(e),e.tag=3,e}function lp(e,r,s,c){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;e.payload=function(){return m(v)},e.callback=function(){ap(r,s,c)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ap(r,s,c),typeof m!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})})}function Jx(e,r,s,c,m){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=s.alternate,r!==null&&Yi(r,s,m,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return Rn===null?Gl():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=m,c===wl?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([c]):r.add(c),Bc(e,c,m)),!1;case 22:return s.flags|=65536,c===wl?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([c]):s.add(c)),Bc(e,c,m)),!1}throw Error(a(435,s.tag))}return Bc(e,c,m),Gl(),!1}if(qe)return r=hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Ou&&(e=Error(a(422),{cause:c}),Ja(Nn(e,s)))):(c!==Ou&&(r=Error(a(423),{cause:c}),Ja(Nn(r,s))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Nn(c,s),m=hc(e.stateNode,c,m),$u(e,m),_t!==4&&(_t=2)),!1;var v=Error(a(520),{cause:c});if(v=Nn(v,s),gs===null?gs=[v]:gs.push(v),_t!==4&&(_t=2),r===null)return!0;c=Nn(c,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,e=m&-m,s.lanes|=e,e=hc(s.stateNode,c,e),$u(s,e),!1;case 1:if(r=s.type,v=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pr===null||!Pr.has(v))))return s.flags|=65536,m&=-m,s.lanes|=m,m=sp(m),lp(m,e,s,c),$u(s,m),!1}s=s.return}while(s!==null);return!1}var mc=Error(a(461)),Nt=!1;function Pt(e,r,s,c){r.child=e===null?dm(r,null,s,c):pi(r,e.child,s,c)}function op(e,r,s,c,m){s=s.render;var v=r.ref;if("ref"in c){var _={};for(var U in c)U!=="ref"&&(_[U]=c[U])}else _=c;return di(r),c=Qu(e,r,s,_,v,m),U=Xu(),e!==null&&!Nt?(Ju(e,r,m),mr(e,r,m)):(qe&&U&&Cu(r),r.flags|=1,Pt(e,r,c,m),r.child)}function up(e,r,s,c,m){if(e===null){var v=s.type;return typeof v=="function"&&!Nu(v)&&v.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=v,cp(e,r,v,c,m)):(e=pl(s.type,null,c,r,r.mode,m),e.ref=r.ref,e.return=r,r.child=e)}if(v=e.child,!_c(e,m)){var _=v.memoizedProps;if(s=s.compare,s=s!==null?s:Ka,s(_,c)&&e.ref===r.ref)return mr(e,r,m)}return r.flags|=1,e=or(v,c),e.ref=r.ref,e.return=r,r.child=e}function cp(e,r,s,c,m){if(e!==null){var v=e.memoizedProps;if(Ka(v,c)&&e.ref===r.ref)if(Nt=!1,r.pendingProps=c=v,_c(e,m))(e.flags&131072)!==0&&(Nt=!0);else return r.lanes=e.lanes,mr(e,r,m)}return pc(e,r,s,c,m)}function dp(e,r,s,c){var m=c.children,v=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|s:s,e!==null){for(c=r.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~v}else c=0,r.child=null;return fp(e,r,v,s,c)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&bl(r,v!==null?v.cachePool:null),v!==null?mm(r,v):Vu(),pm(r);else return c=r.lanes=536870912,fp(e,r,v!==null?v.baseLanes|s:s,s,c)}else v!==null?(bl(r,v.cachePool),mm(r,v),Mr(),r.memoizedState=null):(e!==null&&bl(r,null),Vu(),Mr());return Pt(e,r,m,s),r.child}function us(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function fp(e,r,s,c,m){var v=Iu();return v=v===null?null:{parent:jt._currentValue,pool:v},r.memoizedState={baseLanes:s,cachePool:v},e!==null&&bl(r,null),Vu(),pm(r),e!==null&&Yi(e,r,c,!0),r.childLanes=m,null}function zl(e,r){return r=Ml({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function hp(e,r,s){return pi(r,e.child,null,s),e=zl(r,r.pendingProps),e.flags|=2,mn(r),r.memoizedState=null,e}function Zx(e,r,s){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(qe){if(c.mode==="hidden")return e=zl(r,c),r.lanes=536870912,us(null,e);if(Yu(r),(e=ut)?(e=jg(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=Xh(e),s.return=r,r.child=s,It=r,ut=null)):e=null,e===null)throw Rr(r);return r.lanes=536870912,null}return zl(r,c)}var v=e.memoizedState;if(v!==null){var _=v.dehydrated;if(Yu(r),m)if(r.flags&256)r.flags&=-257,r=hp(e,r,s);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(a(558));else if(Nt||Yi(e,r,s,!1),m=(s&e.childLanes)!==0,Nt||m){if(c=tt,c!==null&&(_=rh(c,s),_!==0&&_!==v.retryLane))throw v.retryLane=_,li(e,_),an(c,e,_),mc;Gl(),r=hp(e,r,s)}else e=v.treeContext,ut=On(_.nextSibling),It=r,qe=!0,Cr=null,Cn=!1,e!==null&&Wh(r,e),r=zl(r,c),r.flags|=4096;return r}return e=or(e.child,{mode:c.mode,children:c.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Ll(e,r){var s=r.ref;if(s===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(r.flags|=4194816)}}function pc(e,r,s,c,m){return di(r),s=Qu(e,r,s,c,void 0,m),c=Xu(),e!==null&&!Nt?(Ju(e,r,m),mr(e,r,m)):(qe&&c&&Cu(r),r.flags|=1,Pt(e,r,s,m),r.child)}function mp(e,r,s,c,m,v){return di(r),r.updateQueue=null,s=ym(r,c,s,m),gm(e),c=Xu(),e!==null&&!Nt?(Ju(e,r,v),mr(e,r,v)):(qe&&c&&Cu(r),r.flags|=1,Pt(e,r,s,v),r.child)}function pp(e,r,s,c,m){if(di(r),r.stateNode===null){var v=$i,_=s.contextType;typeof _=="object"&&_!==null&&(v=qt(_)),v=new s(c,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=fc,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=c,v.state=r.memoizedState,v.refs={},Pu(r),_=s.contextType,v.context=typeof _=="object"&&_!==null?qt(_):$i,v.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(dc(r,s,_,c),v.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&fc.enqueueReplaceState(v,v.state,null),is(r,c,v,m),rs(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(e===null){v=r.stateNode;var U=r.memoizedProps,Y=yi(s,U);v.props=Y;var re=v.context,le=s.contextType;_=$i,typeof le=="object"&&le!==null&&(_=qt(le));var de=s.getDerivedStateFromProps;le=typeof de=="function"||typeof v.getSnapshotBeforeUpdate=="function",U=r.pendingProps!==U,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(U||re!==_)&&tp(r,v,c,_),Ur=!1;var ie=r.memoizedState;v.state=ie,is(r,c,v,m),rs(),re=r.memoizedState,U||ie!==re||Ur?(typeof de=="function"&&(dc(r,s,de,c),re=r.memoizedState),(Y=Ur||ep(r,s,Y,c,ie,re,_))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=re),v.props=c,v.state=re,v.context=_,c=Y):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,Hu(e,r),_=r.memoizedProps,le=yi(s,_),v.props=le,de=r.pendingProps,ie=v.context,re=s.contextType,Y=$i,typeof re=="object"&&re!==null&&(Y=qt(re)),U=s.getDerivedStateFromProps,(re=typeof U=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==de||ie!==Y)&&tp(r,v,c,Y),Ur=!1,ie=r.memoizedState,v.state=ie,is(r,c,v,m),rs();var ae=r.memoizedState;_!==de||ie!==ae||Ur||e!==null&&e.dependencies!==null&&yl(e.dependencies)?(typeof U=="function"&&(dc(r,s,U,c),ae=r.memoizedState),(le=Ur||ep(r,s,le,c,ie,ae,Y)||e!==null&&e.dependencies!==null&&yl(e.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ae,Y),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ae,Y)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),v.props=c,v.state=ae,v.context=Y,c=le):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ie===e.memoizedState||(r.flags|=1024),c=!1)}return v=c,Ll(e,r),c=(r.flags&128)!==0,v||c?(v=r.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,e!==null&&c?(r.child=pi(r,e.child,null,m),r.child=pi(r,null,s,m)):Pt(e,r,s,m),r.memoizedState=v.state,e=r.child):e=mr(e,r,m),e}function gp(e,r,s,c){return ui(),r.flags|=256,Pt(e,r,s,c),r.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:am()}}function vc(e,r,s){return e=e!==null?e.childLanes&~s:0,r&&(e|=gn),e}function yp(e,r,s){var c=r.pendingProps,m=!1,v=(r.flags&128)!==0,_;if((_=v)||(_=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(qe){if(m?Lr(r):Mr(),(e=ut)?(e=jg(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=Xh(e),s.return=r,r.child=s,It=r,ut=null)):e=null,e===null)throw Rr(r);return ed(e)?r.lanes=32:r.lanes=536870912,null}var U=c.children;return c=c.fallback,m?(Mr(),m=r.mode,U=Ml({mode:"hidden",children:U},m),c=oi(c,m,s,null),U.return=r,c.return=r,U.sibling=c,r.child=U,c=r.child,c.memoizedState=yc(s),c.childLanes=vc(e,_,s),r.memoizedState=gc,us(null,c)):(Lr(r),bc(r,U))}var Y=e.memoizedState;if(Y!==null&&(U=Y.dehydrated,U!==null)){if(v)r.flags&256?(Lr(r),r.flags&=-257,r=xc(e,r,s)):r.memoizedState!==null?(Mr(),r.child=e.child,r.flags|=128,r=null):(Mr(),U=c.fallback,m=r.mode,c=Ml({mode:"visible",children:c.children},m),U=oi(U,m,s,null),U.flags|=2,c.return=r,U.return=r,c.sibling=U,r.child=c,pi(r,e.child,null,s),c=r.child,c.memoizedState=yc(s),c.childLanes=vc(e,_,s),r.memoizedState=gc,r=us(null,c));else if(Lr(r),ed(U)){if(_=U.nextSibling&&U.nextSibling.dataset,_)var re=_.dgst;_=re,c=Error(a(419)),c.stack="",c.digest=_,Ja({value:c,source:null,stack:null}),r=xc(e,r,s)}else if(Nt||Yi(e,r,s,!1),_=(s&e.childLanes)!==0,Nt||_){if(_=tt,_!==null&&(c=rh(_,s),c!==0&&c!==Y.retryLane))throw Y.retryLane=c,li(e,c),an(_,e,c),mc;Wc(U)||Gl(),r=xc(e,r,s)}else Wc(U)?(r.flags|=192,r.child=e.child,r=null):(e=Y.treeContext,ut=On(U.nextSibling),It=r,qe=!0,Cr=null,Cn=!1,e!==null&&Wh(r,e),r=bc(r,c.children),r.flags|=4096);return r}return m?(Mr(),U=c.fallback,m=r.mode,Y=e.child,re=Y.sibling,c=or(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,re!==null?U=or(re,U):(U=oi(U,m,s,null),U.flags|=2),U.return=r,c.return=r,c.sibling=U,r.child=c,us(null,c),c=r.child,U=e.child.memoizedState,U===null?U=yc(s):(m=U.cachePool,m!==null?(Y=jt._currentValue,m=m.parent!==Y?{parent:Y,pool:Y}:m):m=am(),U={baseLanes:U.baseLanes|s,cachePool:m}),c.memoizedState=U,c.childLanes=vc(e,_,s),r.memoizedState=gc,us(e.child,c)):(Lr(r),s=e.child,e=s.sibling,s=or(s,{mode:"visible",children:c.children}),s.return=r,s.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=s,r.memoizedState=null,s)}function bc(e,r){return r=Ml({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ml(e,r){return e=fn(22,e,null,r),e.lanes=0,e}function xc(e,r,s){return pi(r,e.child,null,s),e=bc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function vp(e,r,s){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r),zu(e.return,r,s)}function wc(e,r,s,c,m,v){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:m,treeForkCount:v}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=s,_.tailMode=m,_.treeForkCount=v)}function bp(e,r,s){var c=r.pendingProps,m=c.revealOrder,v=c.tail;c=c.children;var _=St.current,U=(_&2)!==0;if(U?(_=_&1|2,r.flags|=128):_&=1,D(St,_),Pt(e,r,c,s),c=qe?Xa:0,!U&&e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,s,r);else if(e.tag===19)vp(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(s=r.child,m=null;s!==null;)e=s.alternate,e!==null&&jl(e)===null&&(m=s),s=s.sibling;s=m,s===null?(m=r.child,r.child=null):(m=s.sibling,s.sibling=null),wc(r,!1,m,s,v,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=r.child,r.child=null;m!==null;){if(e=m.alternate,e!==null&&jl(e)===null){r.child=m;break}e=m.sibling,m.sibling=s,s=m,m=e}wc(r,!0,s,null,v,c);break;case"together":wc(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function mr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),qr|=r.lanes,(s&r.childLanes)===0)if(e!==null){if(Yi(e,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,s=or(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=or(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function _c(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&yl(e)))}function Wx(e,r,s){switch(r.tag){case 3:oe(r,r.stateNode.containerInfo),Or(r,jt,e.memoizedState.cache),ui();break;case 27:case 5:_e(r);break;case 4:oe(r,r.stateNode.containerInfo);break;case 10:Or(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Yu(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Lr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?yp(e,r,s):(Lr(r),e=mr(e,r,s),e!==null?e.sibling:null);Lr(r);break;case 19:var m=(e.flags&128)!==0;if(c=(s&r.childLanes)!==0,c||(Yi(e,r,s,!1),c=(s&r.childLanes)!==0),m){if(c)return bp(e,r,s);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),D(St,St.current),c)break;return null;case 22:return r.lanes=0,dp(e,r,s,r.pendingProps);case 24:Or(r,jt,e.memoizedState.cache)}return mr(e,r,s)}function xp(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps)Nt=!0;else{if(!_c(e,s)&&(r.flags&128)===0)return Nt=!1,Wx(e,r,s);Nt=(e.flags&131072)!==0}else Nt=!1,qe&&(r.flags&1048576)!==0&&Zh(r,Xa,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(e=hi(r.elementType),r.type=e,typeof e=="function")Nu(e)?(c=yi(e,c),r.tag=1,r=pp(null,r,e,c,s)):(r.tag=0,r=pc(null,r,e,c,s));else{if(e!=null){var m=e.$$typeof;if(m===B){r.tag=11,r=op(null,r,e,c,s);break e}else if(m===M){r.tag=14,r=up(null,r,e,c,s);break e}}throw r=q(e)||e,Error(a(306,r,""))}}return r;case 0:return pc(e,r,r.type,r.pendingProps,s);case 1:return c=r.type,m=yi(c,r.pendingProps),pp(e,r,c,m,s);case 3:e:{if(oe(r,r.stateNode.containerInfo),e===null)throw Error(a(387));c=r.pendingProps;var v=r.memoizedState;m=v.element,Hu(e,r),is(r,c,null,s);var _=r.memoizedState;if(c=_.cache,Or(r,jt,c),c!==v.cache&&Lu(r,[jt],s,!0),rs(),c=_.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=gp(e,r,c,s);break e}else if(c!==m){m=Nn(Error(a(424)),r),Ja(m),r=gp(e,r,c,s);break e}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=On(e.firstChild),It=r,qe=!0,Cr=null,Cn=!0,s=dm(r,null,c,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ui(),c===m){r=mr(e,r,s);break e}Pt(e,r,c,s)}r=r.child}return r;case 26:return Ll(e,r),e===null?(s=Rg(r.type,null,r.pendingProps,null))?r.memoizedState=s:qe||(s=r.type,e=r.pendingProps,c=Wl(te.current).createElement(s),c[Bt]=r,c[Zt]=e,Ht(c,s,e),Dt(c),r.stateNode=c):r.memoizedState=Rg(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return _e(r),e===null&&qe&&(c=r.stateNode=Ag(r.type,r.pendingProps,te.current),It=r,Cn=!0,m=ut,Vr(r.type)?(td=m,ut=On(c.firstChild)):ut=m),Pt(e,r,r.pendingProps.children,s),Ll(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&qe&&((m=c=ut)&&(c=Tw(c,r.type,r.pendingProps,Cn),c!==null?(r.stateNode=c,It=r,ut=On(c.firstChild),Cn=!1,m=!0):m=!1),m||Rr(r)),_e(r),m=r.type,v=r.pendingProps,_=e!==null?e.memoizedProps:null,c=v.children,Xc(m,v)?c=null:_!==null&&Xc(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=Qu(e,r,Fx,null,null,s),Es._currentValue=m),Ll(e,r),Pt(e,r,c,s),r.child;case 6:return e===null&&qe&&((e=s=ut)&&(s=Cw(s,r.pendingProps,Cn),s!==null?(r.stateNode=s,It=r,ut=null,e=!0):e=!1),e||Rr(r)),null;case 13:return yp(e,r,s);case 4:return oe(r,r.stateNode.containerInfo),c=r.pendingProps,e===null?r.child=pi(r,null,c,s):Pt(e,r,c,s),r.child;case 11:return op(e,r,r.type,r.pendingProps,s);case 7:return Pt(e,r,r.pendingProps,s),r.child;case 8:return Pt(e,r,r.pendingProps.children,s),r.child;case 12:return Pt(e,r,r.pendingProps.children,s),r.child;case 10:return c=r.pendingProps,Or(r,r.type,c.value),Pt(e,r,c.children,s),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,di(r),m=qt(m),c=c(m),r.flags|=1,Pt(e,r,c,s),r.child;case 14:return up(e,r,r.type,r.pendingProps,s);case 15:return cp(e,r,r.type,r.pendingProps,s);case 19:return bp(e,r,s);case 31:return Zx(e,r,s);case 22:return dp(e,r,s,r.pendingProps);case 24:return di(r),c=qt(jt),e===null?(m=Iu(),m===null&&(m=tt,v=Mu(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=s),m=v),r.memoizedState={parent:c,cache:m},Pu(r),Or(r,jt,m)):((e.lanes&s)!==0&&(Hu(e,r),is(r,null,null,s),rs()),m=e.memoizedState,v=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Or(r,jt,c)):(c=v.cache,Or(r,jt,c),c!==m.cache&&Lu(r,[jt],s,!0))),Pt(e,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function pr(e){e.flags|=4}function Sc(e,r,s,c,m){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Yp())e.flags|=8192;else throw mi=wl,qu}else e.flags&=-16777217}function wp(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lg(r))if(Yp())e.flags|=8192;else throw mi=wl,qu}function Bl(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Xn():536870912,e.lanes|=r,aa|=r)}function cs(e,r){if(!qe)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ct(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(r)for(var m=e.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)s|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=s,r}function ew(e,r,s){var c=r.pendingProps;switch(Ru(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return s=r.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),dr(jt),fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gi(r)?pr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Uu())),ct(r),null;case 26:var m=r.type,v=r.memoizedState;return e===null?(pr(r),v!==null?(ct(r),wp(r,v)):(ct(r),Sc(r,m,null,c,s))):v?v!==e.memoizedState?(pr(r),ct(r),wp(r,v)):(ct(r),r.flags&=-16777217):(e=e.memoizedProps,e!==c&&pr(r),ct(r),Sc(r,m,e,c,s)),null;case 27:if(ve(r),s=te.current,m=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==c&&pr(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return ct(r),null}e=ee.current,Gi(r)?em(r):(e=Ag(m,c,s),r.stateNode=e,pr(r))}return ct(r),null;case 5:if(ve(r),m=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==c&&pr(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return ct(r),null}if(v=ee.current,Gi(r))em(r);else{var _=Wl(te.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?_.createElement(m,{is:c.is}):_.createElement(m)}}v[Bt]=r,v[Zt]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=v;e:switch(Ht(v,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&pr(r)}}return ct(r),Sc(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,s),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==c&&pr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(e=te.current,Gi(r)){if(e=r.stateNode,s=r.memoizedProps,c=null,m=It,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Bt]=r,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||yg(e.nodeValue,s)),e||Rr(r,!0)}else e=Wl(e).createTextNode(c),e[Bt]=r,r.stateNode=e}return ct(r),null;case 31:if(s=r.memoizedState,e===null||e.memoizedState!==null){if(c=Gi(r),s!==null){if(e===null){if(!c)throw Error(a(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Bt]=r}else ui(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),e=!1}else s=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return r.flags&256?(mn(r),r):(mn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ct(r),null;case 13:if(c=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Gi(r),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Bt]=r}else ui(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),m=!1}else m=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(mn(r),r):(mn(r),null)}return mn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)),s!==e&&s&&(r.child.flags|=8192),Bl(r,r.updateQueue),ct(r),null);case 4:return fe(),e===null&&Vc(r.stateNode.containerInfo),ct(r),null;case 10:return dr(r.type),ct(r),null;case 19:if(K(St),c=r.memoizedState,c===null)return ct(r),null;if(m=(r.flags&128)!==0,v=c.rendering,v===null)if(m)cs(c,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(v=jl(e),v!==null){for(r.flags|=128,cs(c,!1),e=v.updateQueue,r.updateQueue=e,Bl(r,e),r.subtreeFlags=0,e=s,s=r.child;s!==null;)Qh(s,e),s=s.sibling;return D(St,St.current&1|2),qe&&ur(r,c.treeForkCount),r.child}e=e.sibling}c.tail!==null&&Oe()>$l&&(r.flags|=128,m=!0,cs(c,!1),r.lanes=4194304)}else{if(!m)if(e=jl(v),e!==null){if(r.flags|=128,m=!0,e=e.updateQueue,r.updateQueue=e,Bl(r,e),cs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!qe)return ct(r),null}else 2*Oe()-c.renderingStartTime>$l&&s!==536870912&&(r.flags|=128,m=!0,cs(c,!1),r.lanes=4194304);c.isBackwards?(v.sibling=r.child,r.child=v):(e=c.last,e!==null?e.sibling=v:r.child=v,c.last=v)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Oe(),e.sibling=null,s=St.current,D(St,m?s&1|2:s&1),qe&&ur(r,c.treeForkCount),e):(ct(r),null);case 22:case 23:return mn(r),Gu(),c=r.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(s&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),s=r.updateQueue,s!==null&&Bl(r,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==s&&(r.flags|=2048),e!==null&&K(fi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),dr(jt),ct(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function tw(e,r){switch(Ru(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return dr(jt),fe(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ve(r),null;case 31:if(r.memoizedState!==null){if(mn(r),r.alternate===null)throw Error(a(340));ui()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(mn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ui()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return K(St),null;case 4:return fe(),null;case 10:return dr(r.type),null;case 22:case 23:return mn(r),Gu(),e!==null&&K(fi),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return dr(jt),null;case 25:return null;default:return null}}function _p(e,r){switch(Ru(r),r.tag){case 3:dr(jt),fe();break;case 26:case 27:case 5:ve(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&mn(r);break;case 13:mn(r);break;case 19:K(St);break;case 10:dr(r.type);break;case 22:case 23:mn(r),Gu(),e!==null&&K(fi);break;case 24:dr(jt)}}function ds(e,r){try{var s=r.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var m=c.next;s=m;do{if((s.tag&e)===e){c=void 0;var v=s.create,_=s.inst;c=v(),_.destroy=c}s=s.next}while(s!==m)}}catch(U){Je(r,r.return,U)}}function Br(e,r,s){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&e)===e){var _=c.inst,U=_.destroy;if(U!==void 0){_.destroy=void 0,m=r;var Y=s,re=U;try{re()}catch(le){Je(m,Y,le)}}}c=c.next}while(c!==v)}}catch(le){Je(r,r.return,le)}}function Sp(e){var r=e.updateQueue;if(r!==null){var s=e.stateNode;try{hm(r,s)}catch(c){Je(e,e.return,c)}}}function Ep(e,r,s){s.props=yi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){Je(e,r,c)}}function fs(e,r){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(m){Je(e,r,m)}}function Wn(e,r){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(m){Je(e,r,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){Je(e,r,m)}else s.current=null}function jp(e){var r=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(m){Je(e,e.return,m)}}function Ec(e,r,s){try{var c=e.stateNode;Sw(c,e.type,s,r),c[Zt]=r}catch(m){Je(e,e.return,m)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,r,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(e),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=sr));else if(c!==4&&(c===27&&Vr(e.type)&&(s=e.stateNode,r=null),e=e.child,e!==null))for(kc(e,r,s),e=e.sibling;e!==null;)kc(e,r,s),e=e.sibling}function Il(e,r,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(c!==4&&(c===27&&Vr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Il(e,r,s),e=e.sibling;e!==null;)Il(e,r,s),e=e.sibling}function Np(e){var r=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Ht(r,c,s),r[Bt]=e,r[Zt]=s}catch(v){Je(e,e.return,v)}}var gr=!1,At=!1,Nc=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,zt=null;function nw(e,r){if(e=e.containerInfo,Kc=so,e=qh(e),xu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var _=0,U=-1,Y=-1,re=0,le=0,de=e,ie=null;t:for(;;){for(var ae;de!==s||m!==0&&de.nodeType!==3||(U=_+m),de!==v||c!==0&&de.nodeType!==3||(Y=_+c),de.nodeType===3&&(_+=de.nodeValue.length),(ae=de.firstChild)!==null;)ie=de,de=ae;for(;;){if(de===e)break t;if(ie===s&&++re===m&&(U=_),ie===v&&++le===c&&(Y=_),(ae=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=ae}s=U===-1||Y===-1?null:{start:U,end:Y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qc={focusedElem:e,selectionRange:s},so=!1,zt=r;zt!==null;)if(r=zt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,zt=e;else for(;zt!==null;){switch(r=zt,v=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)m=e[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,s=r,m=v.memoizedProps,v=v.memoizedState,c=s.stateNode;try{var ye=yi(s.type,m);e=c.getSnapshotBeforeUpdate(ye,v),c.__reactInternalSnapshotBeforeUpdate=e}catch(je){Je(s,s.return,je)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,s=e.nodeType,s===9)Zc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,zt=e;break}zt=r.return}}function Tp(e,r,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:vr(e,s),c&4&&ds(5,s);break;case 1:if(vr(e,s),c&4)if(e=s.stateNode,r===null)try{e.componentDidMount()}catch(_){Je(s,s.return,_)}else{var m=yi(s.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(m,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(s,s.return,_)}}c&64&&Sp(s),c&512&&fs(s,s.return);break;case 3:if(vr(e,s),c&64&&(e=s.updateQueue,e!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{hm(e,r)}catch(_){Je(s,s.return,_)}}break;case 27:r===null&&c&4&&Np(s);case 26:case 5:vr(e,s),r===null&&c&4&&jp(s),c&512&&fs(s,s.return);break;case 12:vr(e,s);break;case 31:vr(e,s),c&4&&Op(e,s);break;case 13:vr(e,s),c&4&&Up(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=dw.bind(null,s),Rw(e,s))));break;case 22:if(c=s.memoizedState!==null||gr,!c){r=r!==null&&r.memoizedState!==null||At,m=gr;var v=At;gr=c,(At=r)&&!v?br(e,s,(s.subtreeFlags&8772)!==0):vr(e,s),gr=m,At=v}break;case 30:break;default:vr(e,s)}}function Cp(e){var r=e.alternate;r!==null&&(e.alternate=null,Cp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&ru(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,en=!1;function yr(e,r,s){for(s=s.child;s!==null;)Rp(e,r,s),s=s.sibling}function Rp(e,r,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:At||Wn(s,r),yr(e,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Wn(s,r);var c=ht,m=en;Vr(s.type)&&(ht=s.stateNode,en=!1),yr(e,r,s),ws(s.stateNode),ht=c,en=m;break;case 5:At||Wn(s,r);case 6:if(c=ht,m=en,ht=null,yr(e,r,s),ht=c,en=m,ht!==null)if(en)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(s.stateNode)}catch(v){Je(s,r,v)}else try{ht.removeChild(s.stateNode)}catch(v){Je(s,r,v)}break;case 18:ht!==null&&(en?(e=ht,Sg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ha(e)):Sg(ht,s.stateNode));break;case 4:c=ht,m=en,ht=s.stateNode.containerInfo,en=!0,yr(e,r,s),ht=c,en=m;break;case 0:case 11:case 14:case 15:Br(2,s,r),At||Br(4,s,r),yr(e,r,s);break;case 1:At||(Wn(s,r),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Ep(s,r,c)),yr(e,r,s);break;case 21:yr(e,r,s);break;case 22:At=(c=At)||s.memoizedState!==null,yr(e,r,s),At=c;break;default:yr(e,r,s)}}function Op(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(s){Je(r,r.return,s)}}}function Up(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(s){Je(r,r.return,s)}}function rw(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Ap),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Ap),r;default:throw Error(a(435,e.tag))}}function ql(e,r){var s=rw(e);r.forEach(function(c){if(!s.has(c)){s.add(c);var m=fw.bind(null,e,c);c.then(m,m)}})}function tn(e,r){var s=r.deletions;if(s!==null)for(var c=0;c<s.length;c++){var m=s[c],v=e,_=r,U=_;e:for(;U!==null;){switch(U.tag){case 27:if(Vr(U.type)){ht=U.stateNode,en=!1;break e}break;case 5:ht=U.stateNode,en=!1;break e;case 3:case 4:ht=U.stateNode.containerInfo,en=!0;break e}U=U.return}if(ht===null)throw Error(a(160));Rp(v,_,m),ht=null,en=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Dp(r,e),r=r.sibling}var Hn=null;function Dp(e,r){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(r,e),nn(e),c&4&&(Br(3,e,e.return),ds(3,e),Br(5,e,e.return));break;case 1:tn(r,e),nn(e),c&512&&(At||s===null||Wn(s,s.return)),c&64&&gr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var m=Hn;if(tn(r,e),nn(e),c&512&&(At||s===null||Wn(s,s.return)),c&4){var v=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ia]||v[Bt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),Ht(v,c,s),v[Bt]=e,Dt(v),c=v;break e;case"link":var _=Dg("link","href",m).get(c+(s.href||""));if(_){for(var U=0;U<_.length;U++)if(v=_[U],v.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&v.getAttribute("rel")===(s.rel==null?null:s.rel)&&v.getAttribute("title")===(s.title==null?null:s.title)&&v.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(U,1);break t}}v=m.createElement(c),Ht(v,c,s),m.head.appendChild(v);break;case"meta":if(_=Dg("meta","content",m).get(c+(s.content||""))){for(U=0;U<_.length;U++)if(v=_[U],v.getAttribute("content")===(s.content==null?null:""+s.content)&&v.getAttribute("name")===(s.name==null?null:s.name)&&v.getAttribute("property")===(s.property==null?null:s.property)&&v.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&v.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(U,1);break t}}v=m.createElement(c),Ht(v,c,s),m.head.appendChild(v);break;default:throw Error(a(468,c))}v[Bt]=e,Dt(v),c=v}e.stateNode=c}else zg(m,e.type,e.stateNode);else e.stateNode=Ug(m,c,e.memoizedProps);else v!==c?(v===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):v.count--,c===null?zg(m,e.type,e.stateNode):Ug(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Ec(e,e.memoizedProps,s.memoizedProps)}break;case 27:tn(r,e),nn(e),c&512&&(At||s===null||Wn(s,s.return)),s!==null&&c&4&&Ec(e,e.memoizedProps,s.memoizedProps);break;case 5:if(tn(r,e),nn(e),c&512&&(At||s===null||Wn(s,s.return)),e.flags&32){m=e.stateNode;try{Li(m,"")}catch(ye){Je(e,e.return,ye)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Ec(e,m,s!==null?s.memoizedProps:m)),c&1024&&(Nc=!0);break;case 6:if(tn(r,e),nn(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(ye){Je(e,e.return,ye)}}break;case 3:if(no=null,m=Hn,Hn=eo(r.containerInfo),tn(r,e),Hn=m,nn(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{ha(r.containerInfo)}catch(ye){Je(e,e.return,ye)}Nc&&(Nc=!1,zp(e));break;case 4:c=Hn,Hn=eo(e.stateNode.containerInfo),tn(r,e),nn(e),Hn=c;break;case 12:tn(r,e),nn(e);break;case 31:tn(r,e),nn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ql(e,c)));break;case 13:tn(r,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hl=Oe()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ql(e,c)));break;case 22:m=e.memoizedState!==null;var Y=s!==null&&s.memoizedState!==null,re=gr,le=At;if(gr=re||m,At=le||Y,tn(r,e),At=le,gr=re,nn(e),c&8192)e:for(r=e.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(s===null||Y||gr||At||vi(e)),s=null,r=e;;){if(r.tag===5||r.tag===26){if(s===null){Y=s=r;try{if(v=Y.stateNode,m)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{U=Y.stateNode;var de=Y.memoizedProps.style,ie=de!=null&&de.hasOwnProperty("display")?de.display:null;U.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ye){Je(Y,Y.return,ye)}}}else if(r.tag===6){if(s===null){Y=r;try{Y.stateNode.nodeValue=m?"":Y.memoizedProps}catch(ye){Je(Y,Y.return,ye)}}}else if(r.tag===18){if(s===null){Y=r;try{var ae=Y.stateNode;m?Eg(ae,!0):Eg(Y.stateNode,!1)}catch(ye){Je(Y,Y.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,ql(e,s))));break;case 19:tn(r,e),nn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,ql(e,c)));break;case 30:break;case 21:break;default:tn(r,e),nn(e)}}function nn(e){var r=e.flags;if(r&2){try{for(var s,c=e.return;c!==null;){if(kp(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var m=s.stateNode,v=jc(e);Il(e,v,m);break;case 5:var _=s.stateNode;s.flags&32&&(Li(_,""),s.flags&=-33);var U=jc(e);Il(e,U,_);break;case 3:case 4:var Y=s.stateNode.containerInfo,re=jc(e);kc(e,re,Y);break;default:throw Error(a(161))}}catch(le){Je(e,e.return,le)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;zp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function vr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tp(e,r.alternate,r),r=r.sibling}function vi(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),vi(r);break;case 1:Wn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Ep(r,r.return,s),vi(r);break;case 27:ws(r.stateNode);case 26:case 5:Wn(r,r.return),vi(r);break;case 22:r.memoizedState===null&&vi(r);break;case 30:vi(r);break;default:vi(r)}e=e.sibling}}function br(e,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=e,v=r,_=v.flags;switch(v.tag){case 0:case 11:case 15:br(m,v,s),ds(4,v);break;case 1:if(br(m,v,s),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(re){Je(c,c.return,re)}if(c=v,m=c.updateQueue,m!==null){var U=c.stateNode;try{var Y=m.shared.hiddenCallbacks;if(Y!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Y.length;m++)fm(Y[m],U)}catch(re){Je(c,c.return,re)}}s&&_&64&&Sp(v),fs(v,v.return);break;case 27:Np(v);case 26:case 5:br(m,v,s),s&&c===null&&_&4&&jp(v),fs(v,v.return);break;case 12:br(m,v,s);break;case 31:br(m,v,s),s&&_&4&&Op(m,v);break;case 13:br(m,v,s),s&&_&4&&Up(m,v);break;case 22:v.memoizedState===null&&br(m,v,s),fs(v,v.return);break;case 30:break;default:br(m,v,s)}r=r.sibling}}function Ac(e,r){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Za(s))}function Tc(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Za(e))}function $n(e,r,s,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lp(e,r,s,c),r=r.sibling}function Lp(e,r,s,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:$n(e,r,s,c),m&2048&&ds(9,r);break;case 1:$n(e,r,s,c);break;case 3:$n(e,r,s,c),m&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Za(e)));break;case 12:if(m&2048){$n(e,r,s,c),e=r.stateNode;try{var v=r.memoizedProps,_=v.id,U=v.onPostCommit;typeof U=="function"&&U(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Y){Je(r,r.return,Y)}}else $n(e,r,s,c);break;case 31:$n(e,r,s,c);break;case 13:$n(e,r,s,c);break;case 23:break;case 22:v=r.stateNode,_=r.alternate,r.memoizedState!==null?v._visibility&2?$n(e,r,s,c):hs(e,r):v._visibility&2?$n(e,r,s,c):(v._visibility|=2,na(e,r,s,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ac(_,r);break;case 24:$n(e,r,s,c),m&2048&&Tc(r.alternate,r);break;default:$n(e,r,s,c)}}function na(e,r,s,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=e,_=r,U=s,Y=c,re=_.flags;switch(_.tag){case 0:case 11:case 15:na(v,_,U,Y,m),ds(8,_);break;case 23:break;case 22:var le=_.stateNode;_.memoizedState!==null?le._visibility&2?na(v,_,U,Y,m):hs(v,_):(le._visibility|=2,na(v,_,U,Y,m)),m&&re&2048&&Ac(_.alternate,_);break;case 24:na(v,_,U,Y,m),m&&re&2048&&Tc(_.alternate,_);break;default:na(v,_,U,Y,m)}r=r.sibling}}function hs(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=e,c=r,m=c.flags;switch(c.tag){case 22:hs(s,c),m&2048&&Ac(c.alternate,c);break;case 24:hs(s,c),m&2048&&Tc(c.alternate,c);break;default:hs(s,c)}r=r.sibling}}var ms=8192;function ra(e,r,s){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)Mp(e,r,s),e=e.sibling}function Mp(e,r,s){switch(e.tag){case 26:ra(e,r,s),e.flags&ms&&e.memoizedState!==null&&$w(s,Hn,e.memoizedState,e.memoizedProps);break;case 5:ra(e,r,s);break;case 3:case 4:var c=Hn;Hn=eo(e.stateNode.containerInfo),ra(e,r,s),Hn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=ms,ms=16777216,ra(e,r,s),ms=c):ra(e,r,s));break;default:ra(e,r,s)}}function Bp(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function ps(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var c=r[s];zt=c,qp(c,e)}Bp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ip(e),e=e.sibling}function Ip(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&Br(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Pl(e)):ps(e);break;default:ps(e)}}function Pl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var c=r[s];zt=c,qp(c,e)}Bp(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Pl(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Pl(r));break;default:Pl(r)}e=e.sibling}}function qp(e,r){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Br(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Za(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,zt=c;else e:for(s=e;zt!==null;){c=zt;var m=c.sibling,v=c.return;if(Cp(c),c===s){zt=null;break e}if(m!==null){m.return=v,zt=m;break e}zt=v}}}var iw={getCacheForType:function(e){var r=qt(jt),s=r.data.get(e);return s===void 0&&(s=e(),r.data.set(e,s)),s},cacheSignal:function(){return qt(jt).controller.signal}},aw=typeof WeakMap=="function"?WeakMap:Map,Ve=0,tt=null,ze=null,Me=0,Xe=0,pn=null,Ir=!1,ia=!1,Cc=!1,xr=0,_t=0,qr=0,bi=0,Rc=0,gn=0,aa=0,gs=null,rn=null,Oc=!1,Hl=0,Pp=0,$l=1/0,Fl=null,Pr=null,Ot=0,Hr=null,sa=null,wr=0,Uc=0,Dc=null,Hp=null,ys=0,zc=null;function yn(){return(Ve&2)!==0&&Me!==0?Me&-Me:k.T!==null?Pc():ih()}function $p(){if(gn===0)if((Me&536870912)===0||qe){var e=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),gn=e}else gn=536870912;return e=hn.current,e!==null&&(e.flags|=32),gn}function an(e,r,s){(e===tt&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(la(e,0),$r(e,Me,gn,!1)),Ba(e,s),((Ve&2)===0||e!==tt)&&(e===tt&&((Ve&2)===0&&(bi|=s),_t===4&&$r(e,Me,gn,!1)),er(e))}function Fp(e,r,s){if((Ve&6)!==0)throw Error(a(327));var c=!s&&(r&127)===0&&(r&e.expiredLanes)===0||In(e,r),m=c?ow(e,r):Mc(e,r,!0),v=c;do{if(m===0){ia&&!c&&$r(e,r,0,!1);break}else{if(s=e.current.alternate,v&&!sw(s)){m=Mc(e,r,!1),v=!1;continue}if(m===2){if(v=r,e.errorRecoveryDisabledLanes&v)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var U=e;m=gs;var Y=U.current.memoizedState.isDehydrated;if(Y&&(la(U,_).flags|=256),_=Mc(U,_,!1),_!==2){if(Cc&&!Y){U.errorRecoveryDisabledLanes|=v,bi|=v,m=4;break e}v=rn,rn=m,v!==null&&(rn===null?rn=v:rn.push.apply(rn,v))}m=_}if(v=!1,m!==2)continue}}if(m===1){la(e,0),$r(e,r,0,!0);break}e:{switch(c=e,v=m,v){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:$r(c,r,gn,!Ir);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(m=Hl+300-Oe(),10<m)){if($r(c,r,gn,!Ir),Bn(c,0,!0)!==0)break e;wr=r,c.timeoutHandle=wg(Vp.bind(null,c,s,rn,Fl,Oc,r,gn,bi,aa,Ir,v,"Throttled",-0,0),m);break e}Vp(c,s,rn,Fl,Oc,r,gn,bi,aa,Ir,v,null,-0,0)}}break}while(!0);er(e)}function Vp(e,r,s,c,m,v,_,U,Y,re,le,de,ie,ae){if(e.timeoutHandle=-1,de=r.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},Mp(r,v,de);var ye=(v&62914560)===v?Hl-Oe():(v&4194048)===v?Pp-Oe():0;if(ye=Fw(de,ye),ye!==null){wr=v,e.cancelPendingCommit=ye(Wp.bind(null,e,r,v,s,c,m,_,U,Y,le,de,null,ie,ae)),$r(e,v,_,!re);return}}Wp(e,r,v,s,c,m,_,U,Y)}function sw(e){for(var r=e;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var m=s[c],v=m.getSnapshot;m=m.value;try{if(!dn(v(),m))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(e,r,s,c){r&=~Rc,r&=~bi,e.suspendedLanes|=r,e.pingedLanes&=~r,c&&(e.warmLanes|=r),c=e.expirationTimes;for(var m=r;0<m;){var v=31-Fe(m),_=1<<v;c[v]=-1,m&=~_}s!==0&&th(e,s,r)}function Vl(){return(Ve&6)===0?(vs(0),!1):!0}function Lc(){if(ze!==null){if(Xe===0)var e=ze.return;else e=ze,cr=ci=null,Zu(e),Ji=null,es=0,e=ze;for(;e!==null;)_p(e.alternate,e),e=e.return;ze=null}}function la(e,r){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,kw(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),wr=0,Lc(),tt=e,ze=s=or(e.current,null),Me=r,Xe=0,pn=null,Ir=!1,ia=In(e,r),Cc=!1,aa=gn=Rc=bi=qr=_t=0,rn=gs=null,Oc=!1,(r&8)!==0&&(r|=r&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=r;0<c;){var m=31-Fe(c),v=1<<m;r|=e[m],c&=~v}return xr=r,fl(),s}function Gp(e,r){Re=null,k.H=os,r===Xi||r===xl?(r=om(),Xe=3):r===qu?(r=om(),Xe=4):Xe=r===mc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,ze===null&&(_t=1,Dl(e,Nn(r,e.current)))}function Yp(){var e=hn.current;return e===null?!0:(Me&4194048)===Me?Rn===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Rn:!1}function Kp(){var e=k.H;return k.H=os,e===null?os:e}function Qp(){var e=k.A;return k.A=iw,e}function Gl(){_t=4,Ir||(Me&4194048)!==Me&&hn.current!==null||(ia=!0),(qr&134217727)===0&&(bi&134217727)===0||tt===null||$r(tt,Me,gn,!1)}function Mc(e,r,s){var c=Ve;Ve|=2;var m=Kp(),v=Qp();(tt!==e||Me!==r)&&(Fl=null,la(e,r)),r=!1;var _=_t;e:do try{if(Xe!==0&&ze!==null){var U=ze,Y=pn;switch(Xe){case 8:Lc(),_=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(r=!0);var re=Xe;if(Xe=0,pn=null,oa(e,U,Y,re),s&&ia){_=0;break e}break;default:re=Xe,Xe=0,pn=null,oa(e,U,Y,re)}}lw(),_=_t;break}catch(le){Gp(e,le)}while(!0);return r&&e.shellSuspendCounter++,cr=ci=null,Ve=c,k.H=m,k.A=v,ze===null&&(tt=null,Me=0,fl()),_}function lw(){for(;ze!==null;)Xp(ze)}function ow(e,r){var s=Ve;Ve|=2;var c=Kp(),m=Qp();tt!==e||Me!==r?(Fl=null,$l=Oe()+500,la(e,r)):ia=In(e,r);e:do try{if(Xe!==0&&ze!==null){r=ze;var v=pn;t:switch(Xe){case 1:Xe=0,pn=null,oa(e,r,v,1);break;case 2:case 9:if(sm(v)){Xe=0,pn=null,Jp(r);break}r=function(){Xe!==2&&Xe!==9||tt!==e||(Xe=7),er(e)},v.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:sm(v)?(Xe=0,pn=null,Jp(r)):(Xe=0,pn=null,oa(e,r,v,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var U=ze;if(_?Lg(_):U.stateNode.complete){Xe=0,pn=null;var Y=U.sibling;if(Y!==null)ze=Y;else{var re=U.return;re!==null?(ze=re,Yl(re)):ze=null}break t}}Xe=0,pn=null,oa(e,r,v,5);break;case 6:Xe=0,pn=null,oa(e,r,v,6);break;case 8:Lc(),_t=6;break e;default:throw Error(a(462))}}uw();break}catch(le){Gp(e,le)}while(!0);return cr=ci=null,k.H=c,k.A=m,Ve=s,ze!==null?0:(tt=null,Me=0,fl(),_t)}function uw(){for(;ze!==null&&!Lt();)Xp(ze)}function Xp(e){var r=xp(e.alternate,e,xr);e.memoizedProps=e.pendingProps,r===null?Yl(e):ze=r}function Jp(e){var r=e,s=r.alternate;switch(r.tag){case 15:case 0:r=mp(s,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=mp(s,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:Zu(r);default:_p(s,r),r=ze=Qh(r,xr),r=xp(s,r,xr)}e.memoizedProps=e.pendingProps,r===null?Yl(e):ze=r}function oa(e,r,s,c){cr=ci=null,Zu(r),Ji=null,es=0;var m=r.return;try{if(Jx(e,m,r,s,Me)){_t=1,Dl(e,Nn(s,e.current)),ze=null;return}}catch(v){if(m!==null)throw ze=m,v;_t=1,Dl(e,Nn(s,e.current)),ze=null;return}r.flags&32768?(qe||c===1?e=!0:ia||(Me&536870912)!==0?e=!1:(Ir=e=!0,(c===2||c===9||c===3||c===6)&&(c=hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Zp(r,e)):Yl(r)}function Yl(e){var r=e;do{if((r.flags&32768)!==0){Zp(r,Ir);return}e=r.return;var s=ew(r.alternate,r,xr);if(s!==null){ze=s;return}if(r=r.sibling,r!==null){ze=r;return}ze=r=e}while(r!==null);_t===0&&(_t=5)}function Zp(e,r){do{var s=tw(e.alternate,e);if(s!==null){s.flags&=32767,ze=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(e=e.sibling,e!==null)){ze=e;return}ze=e=s}while(e!==null);_t=6,ze=null}function Wp(e,r,s,c,m,v,_,U,Y){e.cancelPendingCommit=null;do Kl();while(Ot!==0);if((Ve&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(v=r.lanes|r.childLanes,v|=ju,Hb(e,s,v,_,U,Y),e===tt&&(ze=tt=null,Me=0),sa=r,Hr=e,wr=s,Uc=v,Dc=m,Hp=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hw(ge,function(){return ig(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=k.T,k.T=null,m=N.p,N.p=2,_=Ve,Ve|=4;try{nw(e,r,s)}finally{Ve=_,N.p=m,k.T=c}}Ot=1,eg(),tg(),ng()}}function eg(){if(Ot===1){Ot=0;var e=Hr,r=sa,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var c=N.p;N.p=2;var m=Ve;Ve|=4;try{Dp(r,e);var v=Qc,_=qh(e.containerInfo),U=v.focusedElem,Y=v.selectionRange;if(_!==U&&U&&U.ownerDocument&&Ih(U.ownerDocument.documentElement,U)){if(Y!==null&&xu(U)){var re=Y.start,le=Y.end;if(le===void 0&&(le=re),"selectionStart"in U)U.selectionStart=re,U.selectionEnd=Math.min(le,U.value.length);else{var de=U.ownerDocument||document,ie=de&&de.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),ye=U.textContent.length,je=Math.min(Y.start,ye),et=Y.end===void 0?je:Math.min(Y.end,ye);!ae.extend&&je>et&&(_=et,et=je,je=_);var J=Bh(U,je),Q=Bh(U,et);if(J&&Q&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==Q.node||ae.focusOffset!==Q.offset)){var ne=de.createRange();ne.setStart(J.node,J.offset),ae.removeAllRanges(),je>et?(ae.addRange(ne),ae.extend(Q.node,Q.offset)):(ne.setEnd(Q.node,Q.offset),ae.addRange(ne))}}}}for(de=[],ae=U;ae=ae.parentNode;)ae.nodeType===1&&de.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<de.length;U++){var ce=de[U];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}so=!!Kc,Qc=Kc=null}finally{Ve=m,N.p=c,k.T=s}}e.current=r,Ot=2}}function tg(){if(Ot===2){Ot=0;var e=Hr,r=sa,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var c=N.p;N.p=2;var m=Ve;Ve|=4;try{Tp(e,r.alternate,r)}finally{Ve=m,N.p=c,k.T=s}}Ot=3}}function ng(){if(Ot===4||Ot===3){Ot=0,ft();var e=Hr,r=sa,s=wr,c=Hp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ot=5:(Ot=0,sa=Hr=null,rg(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Pr=null),tu(s),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=k.T,m=N.p,N.p=2,k.T=null;try{for(var v=e.onRecoverableError,_=0;_<c.length;_++){var U=c[_];v(U.value,{componentStack:U.stack})}}finally{k.T=r,N.p=m}}(wr&3)!==0&&Kl(),er(e),m=e.pendingLanes,(s&261930)!==0&&(m&42)!==0?e===zc?ys++:(ys=0,zc=e):ys=0,vs(0)}}function rg(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Za(r)))}function Kl(){return eg(),tg(),ng(),ig()}function ig(){if(Ot!==5)return!1;var e=Hr,r=Uc;Uc=0;var s=tu(wr),c=k.T,m=N.p;try{N.p=32>s?32:s,k.T=null,s=Dc,Dc=null;var v=Hr,_=wr;if(Ot=0,sa=Hr=null,wr=0,(Ve&6)!==0)throw Error(a(331));var U=Ve;if(Ve|=4,Ip(v.current),Lp(v,v.current,_,s),Ve=U,vs(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ot,v)}catch{}return!0}finally{N.p=m,k.T=c,rg(e,r)}}function ag(e,r,s){r=Nn(s,r),r=hc(e.stateNode,r,2),e=zr(e,r,2),e!==null&&(Ba(e,2),er(e))}function Je(e,r,s){if(e.tag===3)ag(e,e,s);else for(;r!==null;){if(r.tag===3){ag(r,e,s);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pr===null||!Pr.has(c))){e=Nn(s,e),s=sp(2),c=zr(r,s,2),c!==null&&(lp(s,c,r,e),Ba(c,2),er(c));break}}r=r.return}}function Bc(e,r,s){var c=e.pingCache;if(c===null){c=e.pingCache=new aw;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(s)||(Cc=!0,m.add(s),e=cw.bind(null,e,r,s),r.then(e,e))}function cw(e,r,s){var c=e.pingCache;c!==null&&c.delete(r),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,tt===e&&(Me&s)===s&&(_t===4||_t===3&&(Me&62914560)===Me&&300>Oe()-Hl?(Ve&2)===0&&la(e,0):Rc|=s,aa===Me&&(aa=0)),er(e)}function sg(e,r){r===0&&(r=Xn()),e=li(e,r),e!==null&&(Ba(e,r),er(e))}function dw(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),sg(e,s)}function fw(e,r){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(s=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(r),sg(e,s)}function hw(e,r){return vt(e,r)}var Ql=null,ua=null,Ic=!1,Xl=!1,qc=!1,Fr=0;function er(e){e!==ua&&e.next===null&&(ua===null?Ql=ua=e:ua=ua.next=e),Xl=!0,Ic||(Ic=!0,pw())}function vs(e,r){if(!qc&&Xl){qc=!0;do for(var s=!1,c=Ql;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var _=c.suspendedLanes,U=c.pingedLanes;v=(1<<31-Fe(42|e)+1)-1,v&=m&~(_&~U),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(s=!0,cg(c,v))}else v=Me,v=Bn(c,c===tt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||In(c,v)||(s=!0,cg(c,v));c=c.next}while(s);qc=!1}}function mw(){lg()}function lg(){Xl=Ic=!1;var e=0;Fr!==0&&jw()&&(e=Fr);for(var r=Oe(),s=null,c=Ql;c!==null;){var m=c.next,v=og(c,r);v===0?(c.next=null,s===null?Ql=m:s.next=m,m===null&&(ua=s)):(s=c,(e!==0||(v&3)!==0)&&(Xl=!0)),c=m}Ot!==0&&Ot!==5||vs(e),Fr!==0&&(Fr=0)}function og(e,r){for(var s=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var _=31-Fe(v),U=1<<_,Y=m[_];Y===-1?((U&s)===0||(U&c)!==0)&&(m[_]=el(U,r)):Y<=r&&(e.expiredLanes|=U),v&=~U}if(r=tt,s=Me,s=Bn(e,e===r?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===r&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&nt(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||In(e,s)){if(r=s&-s,r===e.callbackPriority)return r;switch(c!==null&&nt(c),tu(s)){case 2:case 8:s=pe;break;case 32:s=ge;break;case 268435456:s=Ae;break;default:s=ge}return c=ug.bind(null,e),s=vt(s,c),e.callbackPriority=r,e.callbackNode=s,r}return c!==null&&c!==null&&nt(c),e.callbackPriority=2,e.callbackNode=null,2}function ug(e,r){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Kl()&&e.callbackNode!==s)return null;var c=Me;return c=Bn(e,e===tt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Fp(e,c,r),og(e,Oe()),e.callbackNode!=null&&e.callbackNode===s?ug.bind(null,e):null)}function cg(e,r){if(Kl())return null;Fp(e,r,!0)}function pw(){Nw(function(){(Ve&6)!==0?vt(se,mw):lg()})}function Pc(){if(Fr===0){var e=Ki;e===0&&(e=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Fr=e}return Fr}function dg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:il(""+e)}function fg(e,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,e.id&&s.setAttribute("form",e.id),r.parentNode.insertBefore(s,r),e=new FormData(e),s.parentNode.removeChild(s),e}function gw(e,r,s,c,m){if(r==="submit"&&s&&s.stateNode===m){var v=dg((m[Zt]||null).action),_=c.submitter;_&&(r=(r=_[Zt]||null)?dg(r.formAction):_.getAttribute("formAction"),r!==null&&(v=r,_=null));var U=new ol("action","action",null,c,m);e.push({event:U,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fr!==0){var Y=_?fg(m,_):new FormData(m);lc(s,{pending:!0,data:Y,method:m.method,action:v},null,Y)}}else typeof v=="function"&&(U.preventDefault(),Y=_?fg(m,_):new FormData(m),lc(s,{pending:!0,data:Y,method:m.method,action:v},v,Y))},currentTarget:m}]})}}for(var Hc=0;Hc<Eu.length;Hc++){var $c=Eu[Hc],yw=$c.toLowerCase(),vw=$c[0].toUpperCase()+$c.slice(1);Pn(yw,"on"+vw)}Pn($h,"onAnimationEnd"),Pn(Fh,"onAnimationIteration"),Pn(Vh,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Dx,"onTransitionRun"),Pn(zx,"onTransitionStart"),Pn(Lx,"onTransitionCancel"),Pn(Gh,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function hg(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],m=c.event;c=c.listeners;e:{var v=void 0;if(r)for(var _=c.length-1;0<=_;_--){var U=c[_],Y=U.instance,re=U.currentTarget;if(U=U.listener,Y!==v&&m.isPropagationStopped())break e;v=U,m.currentTarget=re;try{v(m)}catch(le){dl(le)}m.currentTarget=null,v=Y}else for(_=0;_<c.length;_++){if(U=c[_],Y=U.instance,re=U.currentTarget,U=U.listener,Y!==v&&m.isPropagationStopped())break e;v=U,m.currentTarget=re;try{v(m)}catch(le){dl(le)}m.currentTarget=null,v=Y}}}}function Le(e,r){var s=r[nu];s===void 0&&(s=r[nu]=new Set);var c=e+"__bubble";s.has(c)||(mg(r,e,2,!1),s.add(c))}function Fc(e,r,s){var c=0;r&&(c|=4),mg(s,e,c,r)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Vc(e){if(!e[Jl]){e[Jl]=!0,lh.forEach(function(s){s!=="selectionchange"&&(bw.has(s)||Fc(s,!1,e),Fc(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Jl]||(r[Jl]=!0,Fc("selectionchange",!1,r))}}function mg(e,r,s,c){switch($g(r)){case 2:var m=Yw;break;case 8:m=Kw;break;default:m=sd}s=m.bind(null,r,s,e),m=void 0,!du||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(r,s,{capture:!0,passive:m}):e.addEventListener(r,s,!0):m!==void 0?e.addEventListener(r,s,{passive:m}):e.addEventListener(r,s,!1)}function Gc(e,r,s,c,m){var v=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var U=c.stateNode.containerInfo;if(U===m)break;if(_===4)for(_=c.return;_!==null;){var Y=_.tag;if((Y===3||Y===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;U!==null;){if(_=Ri(U),_===null)return;if(Y=_.tag,Y===5||Y===6||Y===26||Y===27){c=v=_;continue e}U=U.parentNode}}c=c.return}bh(function(){var re=v,le=uu(s),de=[];e:{var ie=Yh.get(e);if(ie!==void 0){var ae=ol,ye=e;switch(e){case"keypress":if(sl(s)===0)break e;case"keydown":case"keyup":ae=fx;break;case"focusin":ye="focus",ae=pu;break;case"focusout":ye="blur",ae=pu;break;case"beforeblur":case"afterblur":ae=pu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=px;break;case $h:case Fh:case Vh:ae=rx;break;case Gh:ae=yx;break;case"scroll":case"scrollend":ae=Zb;break;case"wheel":ae=bx;break;case"copy":case"cut":case"paste":ae=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Eh;break;case"toggle":case"beforetoggle":ae=wx}var je=(r&4)!==0,et=!je&&(e==="scroll"||e==="scrollend"),J=je?ie!==null?ie+"Capture":null:ie;je=[];for(var Q=re,ne;Q!==null;){var ce=Q;if(ne=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ne===null||J===null||(ce=Pa(Q,J),ce!=null&&je.push(xs(Q,ce,ne))),et)break;Q=Q.return}0<je.length&&(ie=new ae(ie,ye,null,s,le),de.push({event:ie,listeners:je}))}}if((r&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ie&&s!==ou&&(ye=s.relatedTarget||s.fromElement)&&(Ri(ye)||ye[Ci]))break e;if((ae||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(ye=s.relatedTarget||s.toElement,ae=re,ye=ye?Ri(ye):null,ye!==null&&(et=o(ye),je=ye.tag,ye!==et||je!==5&&je!==27&&je!==6)&&(ye=null)):(ae=null,ye=re),ae!==ye)){if(je=_h,ce="onMouseLeave",J="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(je=Eh,ce="onPointerLeave",J="onPointerEnter",Q="pointer"),et=ae==null?ie:qa(ae),ne=ye==null?ie:qa(ye),ie=new je(ce,Q+"leave",ae,s,le),ie.target=et,ie.relatedTarget=ne,ce=null,Ri(le)===re&&(je=new je(J,Q+"enter",ye,s,le),je.target=ne,je.relatedTarget=et,ce=je),et=ce,ae&&ye)t:{for(je=xw,J=ae,Q=ye,ne=0,ce=J;ce;ce=je(ce))ne++;ce=0;for(var Se=Q;Se;Se=je(Se))ce++;for(;0<ne-ce;)J=je(J),ne--;for(;0<ce-ne;)Q=je(Q),ce--;for(;ne--;){if(J===Q||Q!==null&&J===Q.alternate){je=J;break t}J=je(J),Q=je(Q)}je=null}else je=null;ae!==null&&pg(de,ie,ae,je,!1),ye!==null&&et!==null&&pg(de,et,ye,je,!0)}}e:{if(ie=re?qa(re):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var Pe=Oh;else if(Ch(ie))if(Uh)Pe=Rx;else{Pe=Tx;var be=Ax}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&lu(re.elementType)&&(Pe=Oh):Pe=Cx;if(Pe&&(Pe=Pe(e,re))){Rh(de,Pe,s,le);break e}be&&be(e,ie,re),e==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&su(ie,"number",ie.value)}switch(be=re?qa(re):window,e){case"focusin":(Ch(be)||be.contentEditable==="true")&&(qi=be,wu=re,Qa=null);break;case"focusout":Qa=wu=qi=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,Ph(de,s,le);break;case"selectionchange":if(Ux)break;case"keydown":case"keyup":Ph(de,s,le)}var Ue;if(yu)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ii?Ah(e,s)&&(Be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(jh&&s.locale!=="ko"&&(Ii||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ii&&(Ue=xh()):(Ar=le,fu="value"in Ar?Ar.value:Ar.textContent,Ii=!0)),be=Zl(re,Be),0<be.length&&(Be=new Sh(Be,e,null,s,le),de.push({event:Be,listeners:be}),Ue?Be.data=Ue:(Ue=Th(s),Ue!==null&&(Be.data=Ue)))),(Ue=Sx?Ex(e,s):jx(e,s))&&(Be=Zl(re,"onBeforeInput"),0<Be.length&&(be=new Sh("onBeforeInput","beforeinput",null,s,le),de.push({event:be,listeners:Be}),be.data=Ue)),gw(de,e,re,s,le)}hg(de,r)})}function xs(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Zl(e,r){for(var s=r+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Pa(e,s),m!=null&&c.unshift(xs(e,m,v)),m=Pa(e,r),m!=null&&c.push(xs(e,m,v))),e.tag===3)return c;e=e.return}return[]}function xw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pg(e,r,s,c,m){for(var v=r._reactName,_=[];s!==null&&s!==c;){var U=s,Y=U.alternate,re=U.stateNode;if(U=U.tag,Y!==null&&Y===c)break;U!==5&&U!==26&&U!==27||re===null||(Y=re,m?(re=Pa(s,v),re!=null&&_.unshift(xs(s,re,Y))):m||(re=Pa(s,v),re!=null&&_.push(xs(s,re,Y)))),s=s.return}_.length!==0&&e.push({event:r,listeners:_})}var ww=/\r\n?/g,_w=/\u0000|\uFFFD/g;function gg(e){return(typeof e=="string"?e:""+e).replace(ww,`
`).replace(_w,"")}function yg(e,r){return r=gg(r),gg(e)===r}function We(e,r,s,c,m,v){switch(s){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Li(e,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Li(e,""+c);break;case"className":nl(e,"class",c);break;case"tabIndex":nl(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(e,s,c);break;case"style":yh(e,c,v);break;case"data":if(r!=="object"){nl(e,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=il(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(s==="formAction"?(r!=="input"&&We(e,r,"name",m.name,m,null),We(e,r,"formEncType",m.formEncType,m,null),We(e,r,"formMethod",m.formMethod,m,null),We(e,r,"formTarget",m.formTarget,m,null)):(We(e,r,"encType",m.encType,m,null),We(e,r,"method",m.method,m,null),We(e,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=il(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=sr);break;case"onScroll":c!=null&&Le("scroll",e);break;case"onScrollEnd":c!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=il(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":Le("beforetoggle",e),Le("toggle",e),tl(e,"popover",c);break;case"xlinkActuate":ar(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ar(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ar(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ar(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ar(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ar(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ar(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ar(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ar(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":tl(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xb.get(s)||s,tl(e,s,c))}}function Yc(e,r,s,c,m,v){switch(s){case"style":yh(e,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof c=="string"?Li(e,c):(typeof c=="number"||typeof c=="bigint")&&Li(e,""+c);break;case"onScroll":c!=null&&Le("scroll",e);break;case"onScrollEnd":c!=null&&Le("scrollend",e);break;case"onClick":c!=null&&(e.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),r=s.slice(2,m?s.length-7:void 0),v=e[Zt]||null,v=v!=null?v[s]:null,typeof v=="function"&&e.removeEventListener(r,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(r,c,m);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):tl(e,s,c)}}}function Ht(e,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var c=!1,m=!1,v;for(v in s)if(s.hasOwnProperty(v)){var _=s[v];if(_!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:We(e,r,v,_,s,null)}}m&&We(e,r,"srcSet",s.srcSet,s,null),c&&We(e,r,"src",s.src,s,null);return;case"input":Le("invalid",e);var U=v=_=m=null,Y=null,re=null;for(c in s)if(s.hasOwnProperty(c)){var le=s[c];if(le!=null)switch(c){case"name":m=le;break;case"type":_=le;break;case"checked":Y=le;break;case"defaultChecked":re=le;break;case"value":v=le;break;case"defaultValue":U=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,r));break;default:We(e,r,c,le,s,null)}}hh(e,v,U,Y,re,_,m,!1);return;case"select":Le("invalid",e),c=_=v=null;for(m in s)if(s.hasOwnProperty(m)&&(U=s[m],U!=null))switch(m){case"value":v=U;break;case"defaultValue":_=U;break;case"multiple":c=U;default:We(e,r,m,U,s,null)}r=v,s=_,e.multiple=!!c,r!=null?zi(e,!!c,r,!1):s!=null&&zi(e,!!c,s,!0);return;case"textarea":Le("invalid",e),v=m=c=null;for(_ in s)if(s.hasOwnProperty(_)&&(U=s[_],U!=null))switch(_){case"value":c=U;break;case"defaultValue":m=U;break;case"children":v=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:We(e,r,_,U,s,null)}ph(e,c,m,v);return;case"option":for(Y in s)if(s.hasOwnProperty(Y)&&(c=s[Y],c!=null))switch(Y){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:We(e,r,Y,c,s,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(c=0;c<bs.length;c++)Le(bs[c],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in s)if(s.hasOwnProperty(re)&&(c=s[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:We(e,r,re,c,s,null)}return;default:if(lu(r)){for(le in s)s.hasOwnProperty(le)&&(c=s[le],c!==void 0&&Yc(e,r,le,c,s,void 0));return}}for(U in s)s.hasOwnProperty(U)&&(c=s[U],c!=null&&We(e,r,U,c,s,null))}function Sw(e,r,s,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,_=null,U=null,Y=null,re=null,le=null;for(ae in s){var de=s[ae];if(s.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Y=de;default:c.hasOwnProperty(ae)||We(e,r,ae,null,c,de)}}for(var ie in c){var ae=c[ie];if(de=s[ie],c.hasOwnProperty(ie)&&(ae!=null||de!=null))switch(ie){case"type":v=ae;break;case"name":m=ae;break;case"checked":re=ae;break;case"defaultChecked":le=ae;break;case"value":_=ae;break;case"defaultValue":U=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,r));break;default:ae!==de&&We(e,r,ie,ae,c,de)}}au(e,_,U,Y,re,le,v,m);return;case"select":ae=_=U=ie=null;for(v in s)if(Y=s[v],s.hasOwnProperty(v)&&Y!=null)switch(v){case"value":break;case"multiple":ae=Y;default:c.hasOwnProperty(v)||We(e,r,v,null,c,Y)}for(m in c)if(v=c[m],Y=s[m],c.hasOwnProperty(m)&&(v!=null||Y!=null))switch(m){case"value":ie=v;break;case"defaultValue":U=v;break;case"multiple":_=v;default:v!==Y&&We(e,r,m,v,c,Y)}r=U,s=_,c=ae,ie!=null?zi(e,!!s,ie,!1):!!c!=!!s&&(r!=null?zi(e,!!s,r,!0):zi(e,!!s,s?[]:"",!1));return;case"textarea":ae=ie=null;for(U in s)if(m=s[U],s.hasOwnProperty(U)&&m!=null&&!c.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:We(e,r,U,null,c,m)}for(_ in c)if(m=c[_],v=s[_],c.hasOwnProperty(_)&&(m!=null||v!=null))switch(_){case"value":ie=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==v&&We(e,r,_,m,c,v)}mh(e,ie,ae);return;case"option":for(var ye in s)if(ie=s[ye],s.hasOwnProperty(ye)&&ie!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:We(e,r,ye,null,c,ie)}for(Y in c)if(ie=c[Y],ae=s[Y],c.hasOwnProperty(Y)&&ie!==ae&&(ie!=null||ae!=null))switch(Y){case"selected":e.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:We(e,r,Y,ie,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in s)ie=s[je],s.hasOwnProperty(je)&&ie!=null&&!c.hasOwnProperty(je)&&We(e,r,je,null,c,ie);for(re in c)if(ie=c[re],ae=s[re],c.hasOwnProperty(re)&&ie!==ae&&(ie!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,r));break;default:We(e,r,re,ie,c,ae)}return;default:if(lu(r)){for(var et in s)ie=s[et],s.hasOwnProperty(et)&&ie!==void 0&&!c.hasOwnProperty(et)&&Yc(e,r,et,void 0,c,ie);for(le in c)ie=c[le],ae=s[le],!c.hasOwnProperty(le)||ie===ae||ie===void 0&&ae===void 0||Yc(e,r,le,ie,c,ae);return}}for(var J in s)ie=s[J],s.hasOwnProperty(J)&&ie!=null&&!c.hasOwnProperty(J)&&We(e,r,J,null,c,ie);for(de in c)ie=c[de],ae=s[de],!c.hasOwnProperty(de)||ie===ae||ie==null&&ae==null||We(e,r,de,ie,c,ae)}function vg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ew(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var m=s[c],v=m.transferSize,_=m.initiatorType,U=m.duration;if(v&&U&&vg(_)){for(_=0,U=m.responseEnd,c+=1;c<s.length;c++){var Y=s[c],re=Y.startTime;if(re>U)break;var le=Y.transferSize,de=Y.initiatorType;le&&vg(de)&&(Y=Y.responseEnd,_+=le*(Y<U?1:(U-re)/(Y-re)))}if(--c,r+=8*(v+_)/(m.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kc=null,Qc=null;function Wl(e){return e.nodeType===9?e:e.ownerDocument}function bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xg(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Xc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jc=null;function jw(){var e=window.event;return e&&e.type==="popstate"?e===Jc?!1:(Jc=e,!0):(Jc=null,!1)}var wg=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(Aw)}:wg;function Aw(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function Sg(e,r){var s=r,c=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(m),ha(r);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")ws(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ws(s);for(var v=s.firstChild;v;){var _=v.nextSibling,U=v.nodeName;v[Ia]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=_}}else s==="body"&&ws(e.ownerDocument.body);s=m}while(s);ha(r)}function Eg(e,r){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function Zc(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zc(s),ru(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Tw(e,r,s,c){for(;e.nodeType===1;){var m=s;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ia])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function Cw(e,r,s){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function jg(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function Wc(e){return e.data==="$?"||e.data==="$~"}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rw(e,r){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||s.readyState!=="loading")r();else{var c=function(){r(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function On(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var td=null;function kg(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(r===0)return On(e.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}e=e.nextSibling}return null}function Ng(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return e;r--}else s!=="/$"&&s!=="/&"||r++}e=e.previousSibling}return null}function Ag(e,r,s){switch(r=Wl(s),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ws(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ru(e)}var Un=new Map,Tg=new Set;function eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _r=N.d;N.d={f:Ow,r:Uw,D:Dw,C:zw,L:Lw,m:Mw,X:Iw,S:Bw,M:qw};function Ow(){var e=_r.f(),r=Vl();return e||r}function Uw(e){var r=Oi(e);r!==null&&r.tag===5&&r.type==="form"?Gm(r):_r.r(e)}var ca=typeof document>"u"?null:document;function Cg(e,r,s){var c=ca;if(c&&typeof r=="string"&&r){var m=jn(r);m='link[rel="'+e+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),Tg.has(m)||(Tg.add(m),e={rel:e,crossOrigin:s,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),Ht(r,"link",e),Dt(r),c.head.appendChild(r)))}}function Dw(e){_r.D(e),Cg("dns-prefetch",e,null)}function zw(e,r){_r.C(e,r),Cg("preconnect",e,r)}function Lw(e,r,s){_r.L(e,r,s);var c=ca;if(c&&e&&r){var m='link[rel="preload"][as="'+jn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+jn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+jn(s.imageSizes)+'"]')):m+='[href="'+jn(e)+'"]';var v=m;switch(r){case"style":v=da(e);break;case"script":v=fa(e)}Un.has(v)||(e=y({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:e,as:r},s),Un.set(v,e),c.querySelector(m)!==null||r==="style"&&c.querySelector(_s(v))||r==="script"&&c.querySelector(Ss(v))||(r=c.createElement("link"),Ht(r,"link",e),Dt(r),c.head.appendChild(r)))}}function Mw(e,r){_r.m(e,r);var s=ca;if(s&&e){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+jn(c)+'"][href="'+jn(e)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=fa(e)}if(!Un.has(v)&&(e=y({rel:"modulepreload",href:e},r),Un.set(v,e),s.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ss(v)))return}c=s.createElement("link"),Ht(c,"link",e),Dt(c),s.head.appendChild(c)}}}function Bw(e,r,s){_r.S(e,r,s);var c=ca;if(c&&e){var m=Ui(c).hoistableStyles,v=da(e);r=r||"default";var _=m.get(v);if(!_){var U={loading:0,preload:null};if(_=c.querySelector(_s(v)))U.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":r},s),(s=Un.get(v))&&nd(e,s);var Y=_=c.createElement("link");Dt(Y),Ht(Y,"link",e),Y._p=new Promise(function(re,le){Y.onload=re,Y.onerror=le}),Y.addEventListener("load",function(){U.loading|=1}),Y.addEventListener("error",function(){U.loading|=2}),U.loading|=4,to(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:U},m.set(v,_)}}}function Iw(e,r){_r.X(e,r);var s=ca;if(s&&e){var c=Ui(s).hoistableScripts,m=fa(e),v=c.get(m);v||(v=s.querySelector(Ss(m)),v||(e=y({src:e,async:!0},r),(r=Un.get(m))&&rd(e,r),v=s.createElement("script"),Dt(v),Ht(v,"link",e),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function qw(e,r){_r.M(e,r);var s=ca;if(s&&e){var c=Ui(s).hoistableScripts,m=fa(e),v=c.get(m);v||(v=s.querySelector(Ss(m)),v||(e=y({src:e,async:!0,type:"module"},r),(r=Un.get(m))&&rd(e,r),v=s.createElement("script"),Dt(v),Ht(v,"link",e),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function Rg(e,r,s,c){var m=(m=te.current)?eo(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=da(s.href),s=Ui(m).hoistableStyles,c=s.get(r),c||(c={type:"style",instance:null,count:0,state:null},s.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=da(s.href);var v=Ui(m).hoistableStyles,_=v.get(e);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,_),(v=m.querySelector(_s(e)))&&!v._p&&(_.instance=v,_.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),v||Pw(m,e,s,_.state))),r&&c===null)throw Error(a(528,""));return _}if(r&&c!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fa(s),s=Ui(m).hoistableScripts,c=s.get(r),c||(c={type:"script",instance:null,count:0,state:null},s.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function da(e){return'href="'+jn(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function Og(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Pw(e,r,s,c){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=e.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Ht(r,"link",s),Dt(r),e.head.appendChild(r))}function fa(e){return'[src="'+jn(e)+'"]'}function Ss(e){return"script[async]"+e}function Ug(e,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var c=e.querySelector('style[data-href~="'+jn(s.href)+'"]');if(c)return r.instance=c,Dt(c),c;var m=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Dt(c),Ht(c,"style",m),to(c,s.precedence,e),r.instance=c;case"stylesheet":m=da(s.href);var v=e.querySelector(_s(m));if(v)return r.state.loading|=4,r.instance=v,Dt(v),v;c=Og(s),(m=Un.get(m))&&nd(c,m),v=(e.ownerDocument||e).createElement("link"),Dt(v);var _=v;return _._p=new Promise(function(U,Y){_.onload=U,_.onerror=Y}),Ht(v,"link",c),r.state.loading|=4,to(v,s.precedence,e),r.instance=v;case"script":return v=fa(s.src),(m=e.querySelector(Ss(v)))?(r.instance=m,Dt(m),m):(c=s,(m=Un.get(v))&&(c=y({},s),rd(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Dt(m),Ht(m,"link",c),e.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,to(c,s.precedence,e));return r.instance}function to(e,r,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,_=0;_<c.length;_++){var U=c[_];if(U.dataset.precedence===r)v=U;else if(v!==m)break}v?v.parentNode.insertBefore(e,v.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(e,r.firstChild))}function nd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function rd(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var no=null;function Dg(e,r,s){if(no===null){var c=new Map,m=no=new Map;m.set(s,c)}else m=no,c=m.get(s),c||(c=new Map,m.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),m=0;m<s.length;m++){var v=s[m];if(!(v[Ia]||v[Bt]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(r)||"";_=e+_;var U=c.get(_);U?U.push(v):c.set(_,[v])}}return c}function zg(e,r,s){e=e.ownerDocument||e,e.head.insertBefore(s,r==="title"?e.querySelector("head > title"):null)}function Hw(e,r,s){if(s===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Lg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $w(e,r,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=da(c.href),v=r.querySelector(_s(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=ro.bind(e),r.then(e,e)),s.state.loading|=4,s.instance=v,Dt(v);return}v=r.ownerDocument||r,c=Og(c),(m=Un.get(m))&&nd(c,m),v=v.createElement("link"),Dt(v);var _=v;_._p=new Promise(function(U,Y){_.onload=U,_.onerror=Y}),Ht(v,"link",c),s.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ro.bind(e),r.addEventListener("load",s),r.addEventListener("error",s))}}var id=0;function Fw(e,r){return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+r);0<e.imgBytes&&id===0&&(id=62500*Ew());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>id?50:800)+r);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var io=null;function ao(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,io=new Map,r.forEach(Vw,e),io=null,ro.call(e))}function Vw(e,r){if(!(r.state.loading&4)){var s=io.get(e);if(s)var c=s.get(null);else{s=new Map,io.set(e,s);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var _=m[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),c=_)}c&&s.set(null,c)}m=r.instance,_=m.getAttribute("data-precedence"),v=s.get(_)||c,v===c&&s.set(null,m),s.set(_,m),this.count++,c=ro.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),r.state.loading|=4}}var Es={$$typeof:T,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Gw(e,r,s,c,m,v,_,U,Y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Mg(e,r,s,c,m,v,_,U,Y,re,le,de){return e=new Gw(e,r,s,_,Y,re,le,de,U),r=1,v===!0&&(r|=24),v=fn(3,null,null,r),e.current=v,v.stateNode=e,r=Mu(),r.refCount++,e.pooledCache=r,r.refCount++,v.memoizedState={element:c,isDehydrated:s,cache:r},Pu(v),e}function Bg(e){return e?(e=$i,e):$i}function Ig(e,r,s,c,m,v){m=Bg(m),c.context===null?c.context=m:c.pendingContext=m,c=Dr(r),c.payload={element:s},v=v===void 0?null:v,v!==null&&(c.callback=v),s=zr(e,c,r),s!==null&&(an(s,e,r),ns(s,e,r))}function qg(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function ad(e,r){qg(e,r),(e=e.alternate)&&qg(e,r)}function Pg(e){if(e.tag===13||e.tag===31){var r=li(e,67108864);r!==null&&an(r,e,67108864),ad(e,67108864)}}function Hg(e){if(e.tag===13||e.tag===31){var r=yn();r=eu(r);var s=li(e,r);s!==null&&an(s,e,r),ad(e,r)}}var so=!0;function Yw(e,r,s,c){var m=k.T;k.T=null;var v=N.p;try{N.p=2,sd(e,r,s,c)}finally{N.p=v,k.T=m}}function Kw(e,r,s,c){var m=k.T;k.T=null;var v=N.p;try{N.p=8,sd(e,r,s,c)}finally{N.p=v,k.T=m}}function sd(e,r,s,c){if(so){var m=ld(c);if(m===null)Gc(e,r,c,lo,s),Fg(e,c);else if(Xw(m,e,r,s,c))c.stopPropagation();else if(Fg(e,c),r&4&&-1<Qw.indexOf(e)){for(;m!==null;){var v=Oi(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Ft(v.pendingLanes);if(_!==0){var U=v;for(U.pendingLanes|=2,U.entangledLanes|=2;_;){var Y=1<<31-Fe(_);U.entanglements[1]|=Y,_&=~Y}er(v),(Ve&6)===0&&($l=Oe()+500,vs(0))}}break;case 31:case 13:U=li(v,2),U!==null&&an(U,v,2),Vl(),ad(v,2)}if(v=ld(c),v===null&&Gc(e,r,c,lo,s),v===m)break;m=v}m!==null&&c.stopPropagation()}else Gc(e,r,c,null,s)}}function ld(e){return e=uu(e),od(e)}var lo=null;function od(e){if(lo=null,e=Ri(e),e!==null){var r=o(e);if(r===null)e=null;else{var s=r.tag;if(s===13){if(e=u(r),e!==null)return e;e=null}else if(s===31){if(e=d(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return lo=e,null}function $g(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case se:return 2;case pe:return 8;case ge:case Te:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var ud=!1,Gr=null,Yr=null,Kr=null,js=new Map,ks=new Map,Qr=[],Qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fg(e,r){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":js.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(r.pointerId)}}function Ns(e,r,s,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:r,domEventName:s,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},r!==null&&(r=Oi(r),r!==null&&Pg(r)),e):(e.eventSystemFlags|=c,r=e.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),e)}function Xw(e,r,s,c,m){switch(r){case"focusin":return Gr=Ns(Gr,e,r,s,c,m),!0;case"dragenter":return Yr=Ns(Yr,e,r,s,c,m),!0;case"mouseover":return Kr=Ns(Kr,e,r,s,c,m),!0;case"pointerover":var v=m.pointerId;return js.set(v,Ns(js.get(v)||null,e,r,s,c,m)),!0;case"gotpointercapture":return v=m.pointerId,ks.set(v,Ns(ks.get(v)||null,e,r,s,c,m)),!0}return!1}function Vg(e){var r=Ri(e.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=u(s),r!==null){e.blockedOn=r,ah(e.priority,function(){Hg(s)});return}}else if(r===31){if(r=d(s),r!==null){e.blockedOn=r,ah(e.priority,function(){Hg(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=ld(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);ou=c,s.target.dispatchEvent(c),ou=null}else return r=Oi(s),r!==null&&Pg(r),e.blockedOn=s,!1;r.shift()}return!0}function Gg(e,r,s){oo(e)&&s.delete(r)}function Jw(){ud=!1,Gr!==null&&oo(Gr)&&(Gr=null),Yr!==null&&oo(Yr)&&(Yr=null),Kr!==null&&oo(Kr)&&(Kr=null),js.forEach(Gg),ks.forEach(Gg)}function uo(e,r){e.blockedOn===r&&(e.blockedOn=null,ud||(ud=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Jw)))}var co=null;function Yg(e){co!==e&&(co=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){co===e&&(co=null);for(var r=0;r<e.length;r+=3){var s=e[r],c=e[r+1],m=e[r+2];if(typeof c!="function"){if(od(c||s)===null)continue;break}var v=Oi(s);v!==null&&(e.splice(r,3),r-=3,lc(v,{pending:!0,data:m,method:s.method,action:c},c,m))}}))}function ha(e){function r(Y){return uo(Y,e)}Gr!==null&&uo(Gr,e),Yr!==null&&uo(Yr,e),Kr!==null&&uo(Kr,e),js.forEach(r),ks.forEach(r);for(var s=0;s<Qr.length;s++){var c=Qr[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Qr.length&&(s=Qr[0],s.blockedOn===null);)Vg(s),s.blockedOn===null&&Qr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var m=s[c],v=s[c+1],_=m[Zt]||null;if(typeof v=="function")_||Yg(s);else if(_){var U=null;if(v&&v.hasAttribute("formAction")){if(m=v,_=v[Zt]||null)U=_.formAction;else if(od(m)!==null)continue}else U=_.action;typeof U=="function"?s[c+1]=U:(s.splice(c,3),c-=3),Yg(s)}}}function Kg(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function cd(e){this._internalRoot=e}fo.prototype.render=cd.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,c=yn();Ig(s,c,e,r,null,null)},fo.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Ig(e.current,2,null,e,null,null),Vl(),r[Ci]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var r=ih();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Qr.length&&r!==0&&r<Qr[s].priority;s++);Qr.splice(s,0,e),s===0&&Vg(e)}};var Qg=t.version;if(Qg!=="19.2.0")throw Error(a(527,Qg,"19.2.0"));N.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(r),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var Zw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{ot=ho.inject(Zw),Ke=ho}catch{}}return Ts.createRoot=function(e,r){if(!l(e))throw Error(a(299));var s=!1,c="",m=np,v=rp,_=ip;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Mg(e,1,!1,null,null,s,c,null,m,v,_,Kg),e[Ci]=r.current,Vc(e),new cd(r)},Ts.hydrateRoot=function(e,r,s){if(!l(e))throw Error(a(299));var c=!1,m="",v=np,_=rp,U=ip,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(U=s.onRecoverableError),s.formState!==void 0&&(Y=s.formState)),r=Mg(e,1,!0,r,s??null,c,m,Y,v,_,U,Kg),r.context=Bg(null),s=r.current,c=yn(),c=eu(c),m=Dr(c),m.callback=null,zr(s,m,c),s=c,r.current.lanes=s,Ba(r,s),er(r),e[Ci]=r.current,Vc(e),new fo(r)},Ts.version="19.2.0",Ts}var ay;function d1(){if(ay)return hd.exports;ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),hd.exports=c1(),hd.exports}var f1=d1();const h1=Ys(f1);var sy="popstate";function m1(n={}){function t(a,l){let{pathname:o,search:u,hash:d}=a.location;return Gd("",{pathname:o,search:u,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:Hs(l)}return g1(t,i,null,n)}function pt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Sn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p1(){return Math.random().toString(36).substring(2,10)}function ly(n,t){return{usr:n.state,key:n.key,idx:t}}function Gd(n,t,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ca(t):t,state:i,key:t&&t.key||a||p1()}}function Hs({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Ca(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function g1(n,t,i,a={}){let{window:l=document.defaultView,v5Compat:o=!1}=a,u=l.history,d="POP",f=null,p=h();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function h(){return(u.state||{idx:null}).idx}function y(){d="POP";let S=h(),j=S==null?null:S-p;p=S,f&&f({action:d,location:E.location,delta:j})}function b(S,j){d="PUSH";let L=Gd(E.location,S,j);p=h()+1;let T=ly(L,p),B=E.createHref(L);try{u.pushState(T,"",B)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(B)}o&&f&&f({action:d,location:E.location,delta:1})}function x(S,j){d="REPLACE";let L=Gd(E.location,S,j);p=h();let T=ly(L,p),B=E.createHref(L);u.replaceState(T,"",B),o&&f&&f({action:d,location:E.location,delta:0})}function w(S){return y1(S)}let E={get action(){return d},get location(){return n(l,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(sy,y),f=S,()=>{l.removeEventListener(sy,y),f=null}},createHref(S){return t(l,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:x,go(S){return u.go(S)}};return E}function y1(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),pt(i,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Hs(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function R0(n,t,i="/"){return v1(n,t,i,!1)}function v1(n,t,i,a){let l=typeof t=="string"?Ca(t):t,o=jr(l.pathname||"/",i);if(o==null)return null;let u=O0(n);b1(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=C1(o);d=A1(u[f],p,a)}return d}function O0(n,t=[],i=[],a="",l=!1){let o=(u,d,f=l,p)=>{let h={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&f)return;pt(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let y=Er([a,h.relativePath]),b=i.concat(h);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),O0(u.children,t,b,y,f)),!(u.path==null&&!u.index)&&t.push({path:y,score:k1(y,u.index),routesMeta:b})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let f of U0(u.path))o(u,d,!0,f)}),t}function U0(n){let t=n.split("/");if(t.length===0)return[];let[i,...a]=t,l=i.endsWith("?"),o=i.replace(/\?$/,"");if(a.length===0)return l?[o,""]:[o];let u=U0(a.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),l&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function b1(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:N1(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var x1=/^:[\w-]+$/,w1=3,_1=2,S1=1,E1=10,j1=-2,oy=n=>n==="*";function k1(n,t){let i=n.split("/"),a=i.length;return i.some(oy)&&(a+=j1),t&&(a+=_1),i.filter(l=>!oy(l)).reduce((l,o)=>l+(x1.test(o)?w1:o===""?S1:E1),a)}function N1(n,t){return n.length===t.length&&n.slice(0,-1).every((a,l)=>a===t[l])?n[n.length-1]-t[t.length-1]:0}function A1(n,t,i=!1){let{routesMeta:a}=n,l={},o="/",u=[];for(let d=0;d<a.length;++d){let f=a[d],p=d===a.length-1,h=o==="/"?t:t.slice(o.length)||"/",y=Oo({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},h),b=f.route;if(!y&&p&&i&&!a[a.length-1].route.index&&(y=Oo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!y)return null;Object.assign(l,y.params),u.push({params:l,pathname:Er([o,y.pathname]),pathnameBase:z1(Er([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Er([o,y.pathnameBase]))}return u}function Oo(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=T1(n.path,n.caseSensitive,n.end),l=t.match(i);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:a.reduce((p,{paramName:h,isOptional:y},b)=>{if(h==="*"){let w=d[b]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[b];return y&&!x?p[h]=void 0:p[h]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function T1(n,t=!1,i=!0){Sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function C1(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function jr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}var R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O1=n=>R1.test(n);function U1(n,t="/"){let{pathname:i,search:a="",hash:l=""}=typeof n=="string"?Ca(n):n,o;if(i)if(O1(i))o=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${i}`)}i.startsWith("/")?o=uy(i.substring(1),"/"):o=uy(i,t)}else o=t;return{pathname:o,search:L1(a),hash:M1(l)}}function uy(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function yd(n,t,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D1(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function xf(n){let t=D1(n);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function wf(n,t,i,a=!1){let l;typeof n=="string"?l=Ca(n):(l={...n},pt(!l.pathname||!l.pathname.includes("?"),yd("?","pathname","search",l)),pt(!l.pathname||!l.pathname.includes("#"),yd("#","pathname","hash",l)),pt(!l.search||!l.search.includes("#"),yd("#","search","hash",l)));let o=n===""||l.pathname==="",u=o?"/":l.pathname,d;if(u==null)d=i;else{let y=t.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}d=y>=0?t[y]:"/"}let f=U1(l,d),p=u&&u!=="/"&&u.endsWith("/"),h=(o||u===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(p||h)&&(f.pathname+="/"),f}var Er=n=>n.join("/").replace(/\/\/+/g,"/"),z1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,M1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function B1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D0=["POST","PUT","PATCH","DELETE"];new Set(D0);var I1=["GET",...D0];new Set(I1);var Ra=z.createContext(null);Ra.displayName="DataRouter";var Fo=z.createContext(null);Fo.displayName="DataRouterState";z.createContext(!1);var z0=z.createContext({isTransitioning:!1});z0.displayName="ViewTransition";var q1=z.createContext(new Map);q1.displayName="Fetchers";var P1=z.createContext(null);P1.displayName="Await";var Yn=z.createContext(null);Yn.displayName="Navigation";var Ks=z.createContext(null);Ks.displayName="Location";var Ln=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var _f=z.createContext(null);_f.displayName="RouteError";function H1(n,{relative:t}={}){pt(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=z.useContext(Yn),{hash:l,pathname:o,search:u}=Qs(n,{relative:t}),d=o;return i!=="/"&&(d=o==="/"?i:Er([i,o])),a.createHref({pathname:d,search:u,hash:l})}function Oa(){return z.useContext(Ks)!=null}function Mn(){return pt(Oa(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Ks).location}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M0(n){z.useContext(Yn).static||z.useLayoutEffect(n)}function Kt(){let{isDataRoute:n}=z.useContext(Ln);return n?r_():$1()}function $1(){pt(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Ra),{basename:t,navigator:i}=z.useContext(Yn),{matches:a}=z.useContext(Ln),{pathname:l}=Mn(),o=JSON.stringify(xf(a)),u=z.useRef(!1);return M0(()=>{u.current=!0}),z.useCallback((f,p={})=>{if(Sn(u.current,L0),!u.current)return;if(typeof f=="number"){i.go(f);return}let h=wf(f,JSON.parse(o),l,p.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Er([t,h.pathname])),(p.replace?i.replace:i.push)(h,p.state,p)},[t,i,o,l,n])}var F1=z.createContext(null);function V1(n){let t=z.useContext(Ln).outlet;return z.useMemo(()=>t&&z.createElement(F1.Provider,{value:n},t),[t,n])}function Vo(){let{matches:n}=z.useContext(Ln),t=n[n.length-1];return t?t.params:{}}function Qs(n,{relative:t}={}){let{matches:i}=z.useContext(Ln),{pathname:a}=Mn(),l=JSON.stringify(xf(i));return z.useMemo(()=>wf(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function G1(n,t){return B0(n,t)}function B0(n,t,i,a,l){pt(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Yn),{matches:u}=z.useContext(Ln),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",h=d?d.pathnameBase:"/",y=d&&d.route;{let L=y&&y.path||"";I0(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=Mn(),x;if(t){let L=typeof t=="string"?Ca(t):t;pt(h==="/"||L.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=b;let w=x.pathname||"/",E=w;if(h!=="/"){let L=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(L.length).join("/")}let S=R0(n,{pathname:E});Sn(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Sn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=J1(S&&S.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Er([h,o.encodeLocation?o.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?h:Er([h,o.encodeLocation?o.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),u,i,a,l);return t&&j?z.createElement(Ks.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function Y1(){let n=n_(),t=B1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),i?z.createElement("pre",{style:l},i):null,u)}var K1=z.createElement(Y1,null),Q1=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(Ln.Provider,{value:this.props.routeContext},z.createElement(_f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X1({routeContext:n,match:t,children:i}){let a=z.useContext(Ra);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Ln.Provider,{value:n},i)}function J1(n,t=[],i=null,a=null,l=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let o=n,u=i?.errors;if(u!=null){let h=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,f=-1;if(i)for(let h=0;h<o.length;h++){let y=o[h];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=h),y.route.id){let{loaderData:b,errors:x}=i,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let p=i&&a?(h,y)=>{a(h,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:y})}:void 0;return o.reduceRight((h,y,b)=>{let x,w=!1,E=null,S=null;i&&(x=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||K1,d&&(f<0&&b===0?(I0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):f===b&&(w=!0,S=y.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,b+1)),L=()=>{let T;return x?T=E:w?T=S:y.route.Component?T=z.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=h,z.createElement(X1,{match:y,routeContext:{outlet:h,matches:j,isDataRoute:i!=null},children:T})};return i&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?z.createElement(Q1,{location:i.location,revalidation:i.revalidation,component:E,error:x,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):L()},null)}function Sf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(n){let t=z.useContext(Ra);return pt(t,Sf(n)),t}function W1(n){let t=z.useContext(Fo);return pt(t,Sf(n)),t}function e_(n){let t=z.useContext(Ln);return pt(t,Sf(n)),t}function Ef(n){let t=e_(n),i=t.matches[t.matches.length-1];return pt(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function t_(){return Ef("useRouteId")}function n_(){let n=z.useContext(_f),t=W1("useRouteError"),i=Ef("useRouteError");return n!==void 0?n:t.errors?.[i]}function r_(){let{router:n}=Z1("useNavigate"),t=Ef("useNavigate"),i=z.useRef(!1);return M0(()=>{i.current=!0}),z.useCallback(async(l,o={})=>{Sn(i.current,L0),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:t,...o}))},[n,t])}var cy={};function I0(n,t,i){!t&&!cy[n]&&(cy[n]=!0,Sn(!1,i))}z.memo(i_);function i_({routes:n,future:t,state:i,unstable_onError:a}){return B0(n,void 0,i,a,t)}function a_({to:n,replace:t,state:i,relative:a}){pt(Oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(Yn);Sn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=z.useContext(Ln),{pathname:u}=Mn(),d=Kt(),f=wf(n,xf(o),u,a==="path"),p=JSON.stringify(f);return z.useEffect(()=>{d(JSON.parse(p),{replace:t,state:i,relative:a})},[d,p,a,t,i]),null}function q0(n){return V1(n.context)}function gt(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s_({basename:n="/",children:t=null,location:i,navigationType:a="POP",navigator:l,static:o=!1}){pt(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof i=="string"&&(i=Ca(i));let{pathname:f="/",search:p="",hash:h="",state:y=null,key:b="default"}=i,x=z.useMemo(()=>{let w=jr(f,u);return w==null?null:{location:{pathname:w,search:p,hash:h,state:y,key:b},navigationType:a}},[u,f,p,h,y,b,a]);return Sn(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:z.createElement(Yn.Provider,{value:d},z.createElement(Ks.Provider,{children:t,value:x}))}function l_({children:n,location:t}){return G1(Yd(n),t)}function Yd(n,t=[]){let i=[];return z.Children.forEach(n,(a,l)=>{if(!z.isValidElement(a))return;let o=[...t,l];if(a.type===z.Fragment){i.push.apply(i,Yd(a.props.children,o));return}pt(a.type===gt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Yd(a.props.children,o)),i.push(u)}),i}var Ao="get",To="application/x-www-form-urlencoded";function Go(n){return n!=null&&typeof n.tagName=="string"}function o_(n){return Go(n)&&n.tagName.toLowerCase()==="button"}function u_(n){return Go(n)&&n.tagName.toLowerCase()==="form"}function c_(n){return Go(n)&&n.tagName.toLowerCase()==="input"}function d_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function f_(n,t){return n.button===0&&(!t||t==="_self")&&!d_(n)}function Kd(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,i)=>{let a=n[i];return t.concat(Array.isArray(a)?a.map(l=>[i,l]):[[i,a]])},[]))}function h_(n,t){let i=Kd(n);return t&&t.forEach((a,l)=>{i.has(l)||t.getAll(l).forEach(o=>{i.append(l,o)})}),i}var mo=null;function m_(){if(mo===null)try{new FormData(document.createElement("form"),0),mo=!1}catch{mo=!0}return mo}var p_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(n){return n!=null&&!p_.has(n)?(Sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${To}"`),null):n}function g_(n,t){let i,a,l,o,u;if(u_(n)){let d=n.getAttribute("action");a=d?jr(d,t):null,i=n.getAttribute("method")||Ao,l=vd(n.getAttribute("enctype"))||To,o=new FormData(n)}else if(o_(n)||c_(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(a=f?jr(f,t):null,i=n.getAttribute("formmethod")||d.getAttribute("method")||Ao,l=vd(n.getAttribute("formenctype"))||vd(d.getAttribute("enctype"))||To,o=new FormData(d,n),!m_()){let{name:p,type:h,value:y}=n;if(h==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,y)}}else{if(Go(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ao,a=null,l=To,u=n}return o&&l==="text/plain"&&(u=o,o=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jf(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function y_(n,t,i){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&jr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function v_(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function x_(n,t,i){let a=await Promise.all(n.map(async l=>{let o=t.routes[l.route.id];if(o){let u=await v_(o,i);return u.links?u.links():[]}return[]}));return E_(a.flat(1).filter(b_).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function dy(n,t,i,a,l,o){let u=(f,p)=>i[p]?f.route.id!==i[p].route.id:!0,d=(f,p)=>i[p].pathname!==f.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,p)=>u(f,p)||d(f,p)):o==="data"?t.filter((f,p)=>{let h=a.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function w_(n,t,{includeHydrateFallback:i}={}){return __(n.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function __(n){return[...new Set(n)]}function S_(n){let t={},i=Object.keys(n).sort();for(let a of i)t[a]=n[a];return t}function E_(n,t){let i=new Set;return new Set(t),n.reduce((a,l)=>{let o=JSON.stringify(S_(l));return i.has(o)||(i.add(o),a.push({key:o,link:l})),a},[])}function P0(){let n=z.useContext(Ra);return jf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function j_(){let n=z.useContext(Fo);return jf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kf=z.createContext(void 0);kf.displayName="FrameworkContext";function H0(){let n=z.useContext(kf);return jf(n,"You must render this element inside a <HydratedRouter> element"),n}function k_(n,t){let i=z.useContext(kf),[a,l]=z.useState(!1),[o,u]=z.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:h,onTouchStart:y}=t,b=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let E=j=>{j.forEach(L=>{u(L.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[n]),z.useEffect(()=>{if(a){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[a]);let x=()=>{l(!0)},w=()=>{l(!1),u(!1)};return i?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Cs(d,x),onBlur:Cs(f,w),onMouseEnter:Cs(p,x),onMouseLeave:Cs(h,w),onTouchStart:Cs(y,x)}]:[!1,b,{}]}function Cs(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function N_({page:n,...t}){let{router:i}=P0(),a=z.useMemo(()=>R0(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?z.createElement(T_,{page:n,matches:a,...t}):null}function A_(n){let{manifest:t,routeModules:i}=H0(),[a,l]=z.useState([]);return z.useEffect(()=>{let o=!1;return x_(n,t,i).then(u=>{o||l(u)}),()=>{o=!0}},[n,t,i]),a}function T_({page:n,matches:t,...i}){let a=Mn(),{manifest:l,routeModules:o}=H0(),{basename:u}=P0(),{loaderData:d,matches:f}=j_(),p=z.useMemo(()=>dy(n,t,f,l,a,"data"),[n,t,f,l,a]),h=z.useMemo(()=>dy(n,t,f,l,a,"assets"),[n,t,f,l,a]),y=z.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let w=new Set,E=!1;if(t.forEach(j=>{let L=l.routes[j.route.id];!L||!L.hasLoader||(!p.some(T=>T.route.id===j.route.id)&&j.route.id in d&&o[j.route.id]?.shouldRevalidate||L.hasClientLoader?E=!0:w.add(j.route.id))}),w.size===0)return[];let S=y_(n,u,"data");return E&&w.size>0&&S.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[u,d,a,l,p,t,n,o]),b=z.useMemo(()=>w_(h,l),[h,l]),x=A_(h);return z.createElement(z.Fragment,null,y.map(w=>z.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),b.map(w=>z.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),x.map(({key:w,link:E})=>z.createElement("link",{key:w,nonce:i.nonce,...E})))}function C_(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$0&&(window.__reactRouterVersion="7.9.6")}catch{}function R_({basename:n,children:t,window:i}){let a=z.useRef();a.current==null&&(a.current=m1({window:i,v5Compat:!0}));let l=a.current,[o,u]=z.useState({action:l.action,location:l.location}),d=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>l.listen(d),[l,d]),z.createElement(s_,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:l})}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=z.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:l,reloadDocument:o,replace:u,state:d,target:f,to:p,preventScrollReset:h,viewTransition:y,...b},x){let{basename:w}=z.useContext(Yn),E=typeof p=="string"&&F0.test(p),S,j=!1;if(typeof p=="string"&&E&&(S=p,$0))try{let R=new URL(window.location.href),I=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=jr(I.pathname,w);I.origin===R.origin&&P!=null?p=P+I.search+I.hash:j=!0}catch{Sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=H1(p,{relative:l}),[T,B,V]=k_(a,b),A=D_(p,{replace:u,state:d,target:f,preventScrollReset:h,relative:l,viewTransition:y});function M(R){t&&t(R),R.defaultPrevented||A(R)}let C=z.createElement("a",{...b,...V,href:S||L,onClick:j||o?t:M,ref:C_(x,B),target:f,"data-discover":!E&&i==="render"?"true":void 0});return T&&!E?z.createElement(z.Fragment,null,C,z.createElement(N_,{page:L})):C});mt.displayName="Link";var Ls=z.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:d,children:f,...p},h){let y=Qs(u,{relative:p.relative}),b=Mn(),x=z.useContext(Fo),{navigator:w,basename:E}=z.useContext(Yn),S=x!=null&&q_(y)&&d===!0,j=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,L=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(L=L.toLowerCase(),T=T?T.toLowerCase():null,j=j.toLowerCase()),T&&E&&(T=jr(T,E)||T);const B=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let V=L===j||!l&&L.startsWith(j)&&L.charAt(B)==="/",A=T!=null&&(T===j||!l&&T.startsWith(j)&&T.charAt(j.length)==="/"),M={isActive:V,isPending:A,isTransitioning:S},C=V?t:void 0,R;typeof a=="function"?R=a(M):R=[a,V?"active":null,A?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(M):o;return z.createElement(mt,{...p,"aria-current":C,className:R,ref:h,style:I,to:u,viewTransition:d},typeof f=="function"?f(M):f)});Ls.displayName="NavLink";var O_=z.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:l,state:o,method:u=Ao,action:d,onSubmit:f,relative:p,preventScrollReset:h,viewTransition:y,...b},x)=>{let w=B_(),E=I_(d,{relative:p}),S=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&F0.test(d),L=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let B=T.nativeEvent.submitter,V=B?.getAttribute("formmethod")||u;w(B||T.currentTarget,{fetcherKey:t,method:V,navigate:i,replace:l,state:o,relative:p,preventScrollReset:h,viewTransition:y})};return z.createElement("form",{ref:x,method:S,action:E,onSubmit:a?f:L,...b,"data-discover":!j&&n==="render"?"true":void 0})});O_.displayName="Form";function U_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V0(n){let t=z.useContext(Ra);return pt(t,U_(n)),t}function D_(n,{target:t,replace:i,state:a,preventScrollReset:l,relative:o,viewTransition:u}={}){let d=Kt(),f=Mn(),p=Qs(n,{relative:o});return z.useCallback(h=>{if(f_(h,t)){h.preventDefault();let y=i!==void 0?i:Hs(f)===Hs(p);d(n,{replace:y,state:a,preventScrollReset:l,relative:o,viewTransition:u})}},[f,d,p,i,a,t,n,l,o,u])}function z_(n){Sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=z.useRef(Kd(n)),i=z.useRef(!1),a=Mn(),l=z.useMemo(()=>h_(a.search,i.current?null:t.current),[a.search]),o=Kt(),u=z.useCallback((d,f)=>{const p=Kd(typeof d=="function"?d(new URLSearchParams(l)):d);i.current=!0,o("?"+p,f)},[o,l]);return[l,u]}var L_=0,M_=()=>`__${String(++L_)}__`;function B_(){let{router:n}=V0("useSubmit"),{basename:t}=z.useContext(Yn),i=t_();return z.useCallback(async(a,l={})=>{let{action:o,method:u,encType:d,formData:f,body:p}=g_(a,t);if(l.navigate===!1){let h=l.fetcherKey||M_();await n.fetch(h,i,l.action||o,{preventScrollReset:l.preventScrollReset,formData:f,body:p,formMethod:l.method||u,formEncType:l.encType||d,flushSync:l.flushSync})}else await n.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:f,body:p,formMethod:l.method||u,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,t,i])}function I_(n,{relative:t}={}){let{basename:i}=z.useContext(Yn),a=z.useContext(Ln);pt(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),o={...Qs(n||".",{relative:t})},u=Mn();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let h=d.toString();o.search=h?`?${h}`:""}}return(!n||n===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(o.pathname=o.pathname==="/"?i:Er([i,o.pathname])),Hs(o)}function q_(n,{relative:t}={}){let i=z.useContext(z0);pt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=V0("useViewTransitionState"),l=Qs(n,{relative:t});if(!i.isTransitioning)return!1;let o=jr(i.currentLocation.pathname,a)||i.currentLocation.pathname,u=jr(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Oo(l.pathname,u)!=null||Oo(l.pathname,o)!=null}var Qd=function(n,t){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},Qd(n,t)};function G0(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qd(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var Uo=function(){return Uo=Object.assign||function(t){for(var i,a=1,l=arguments.length;a<l;a++){i=arguments[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Uo.apply(this,arguments)};function Ua(n,t){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(i[a[l]]=n[a[l]]);return i}function Y0(n,t,i,a){var l=arguments.length,o=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,i):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,i,a);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(o=(l<3?u(o):l>3?u(t,i,o):u(t,i))||o);return l>3&&o&&Object.defineProperty(t,i,o),o}function K0(n,t){return function(i,a){t(i,a,n)}}function Q0(n,t,i,a,l,o){function u(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=a.kind,f=d==="getter"?"get":d==="setter"?"set":"value",p=!t&&n?a.static?n:n.prototype:null,h=t||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),y,b=!1,x=i.length-1;x>=0;x--){var w={};for(var E in a)w[E]=E==="access"?{}:a[E];for(var E in a.access)w.access[E]=a.access[E];w.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(j||null))};var S=(0,i[x])(d==="accessor"?{get:h.get,set:h.set}:h[f],w);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(y=u(S.get))&&(h.get=y),(y=u(S.set))&&(h.set=y),(y=u(S.init))&&l.unshift(y)}else(y=u(S))&&(d==="field"?l.unshift(y):h[f]=y)}p&&Object.defineProperty(p,a.name,h),b=!0}function X0(n,t,i){for(var a=arguments.length>2,l=0;l<t.length;l++)i=a?t[l].call(n,i):t[l].call(n);return a?i:void 0}function J0(n){return typeof n=="symbol"?n:"".concat(n)}function Z0(n,t,i){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function W0(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function xe(n,t,i,a){function l(o){return o instanceof i?o:new i(function(u){u(o)})}return new(i||(i=Promise))(function(o,u){function d(h){try{p(a.next(h))}catch(y){u(y)}}function f(h){try{p(a.throw(h))}catch(y){u(y)}}function p(h){h.done?o(h.value):l(h.value).then(d,f)}p((a=a.apply(n,t||[])).next())})}function ev(n,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,l,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(h){return f([p,h])}}function f(p){if(a)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(i=0)),i;)try{if(a=1,l&&(o=p[0]&2?l.return:p[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,p[1])).done)return o;switch(l=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,l=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){i.label=p[1];break}if(p[0]===6&&i.label<o[1]){i.label=o[1],o=p;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(p);break}o[2]&&i.ops.pop(),i.trys.pop();continue}p=t.call(n,i)}catch(h){p=[6,h],l=0}finally{a=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Yo=Object.create?(function(n,t,i,a){a===void 0&&(a=i);var l=Object.getOwnPropertyDescriptor(t,i);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(n,a,l)}):(function(n,t,i,a){a===void 0&&(a=i),n[a]=t[i]});function tv(n,t){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Yo(t,n,i)}function Do(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nf(n,t){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),l,o=[],u;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)o.push(l.value)}catch(d){u={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(u)throw u.error}}return o}function nv(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Nf(arguments[t]));return n}function rv(){for(var n=0,t=0,i=arguments.length;t<i;t++)n+=arguments[t].length;for(var a=Array(n),l=0,t=0;t<i;t++)for(var o=arguments[t],u=0,d=o.length;u<d;u++,l++)a[l]=o[u];return a}function iv(n,t,i){if(i||arguments.length===2)for(var a=0,l=t.length,o;a<l;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return n.concat(o||Array.prototype.slice.call(t))}function Ta(n){return this instanceof Ta?(this.v=n,this):new Ta(n)}function av(n,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,t||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(x){return function(w){return Promise.resolve(w).then(x,y)}}function d(x,w){a[x]&&(l[x]=function(E){return new Promise(function(S,j){o.push([x,E,S,j])>1||f(x,E)})},w&&(l[x]=w(l[x])))}function f(x,w){try{p(a[x](w))}catch(E){b(o[0][3],E)}}function p(x){x.value instanceof Ta?Promise.resolve(x.value.v).then(h,y):b(o[0][2],x)}function h(x){f("next",x)}function y(x){f("throw",x)}function b(x,w){x(w),o.shift(),o.length&&f(o[0][0],o[0][1])}}function sv(n){var t,i;return t={},a("next"),a("throw",function(l){throw l}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(l,o){t[l]=n[l]?function(u){return(i=!i)?{value:Ta(n[l](u)),done:!1}:o?o(u):u}:o}}function lv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],i;return t?t.call(n):(n=typeof Do=="function"?Do(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(o){i[o]=n[o]&&function(u){return new Promise(function(d,f){u=n[o](u),l(d,f,u.done,u.value)})}}function l(o,u,d,f){Promise.resolve(f).then(function(p){o({value:p,done:d})},u)}}function ov(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var P_=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},Xd=function(n){return Xd=Object.getOwnPropertyNames||function(t){var i=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[i.length]=a);return i},Xd(n)};function uv(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var i=Xd(n),a=0;a<i.length;a++)i[a]!=="default"&&Yo(t,n,i[a]);return P_(t,n),t}function cv(n){return n&&n.__esModule?n:{default:n}}function dv(n,t,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!a:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(n):a?a.value:t.get(n)}function fv(n,t,i,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!l:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(n,i):l?l.value=i:t.set(n,i),i}function hv(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function mv(n,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,l;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],i&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(o){return Promise.reject(o)}}),n.stack.push({value:t,dispose:a,async:i})}else i&&n.stack.push({async:!0});return t}var H_=typeof SuppressedError=="function"?SuppressedError:function(n,t,i){var a=new Error(i);return a.name="SuppressedError",a.error=n,a.suppressed=t,a};function pv(n){function t(o){n.error=n.hasError?new H_(o,n.error,"An error was suppressed during disposal."):o,n.hasError=!0}var i,a=0;function l(){for(;i=n.stack.pop();)try{if(!i.async&&a===1)return a=0,n.stack.push(i),Promise.resolve().then(l);if(i.dispose){var o=i.dispose.call(i.value);if(i.async)return a|=2,Promise.resolve(o).then(l,function(u){return t(u),l()})}else a|=1}catch(u){t(u)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function gv(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,a,l,o,u){return a?t?".jsx":".js":l&&(!o||!u)?i:l+o+"."+u.toLowerCase()+"js"}):n}const $_={__extends:G0,__assign:Uo,__rest:Ua,__decorate:Y0,__param:K0,__esDecorate:Q0,__runInitializers:X0,__propKey:J0,__setFunctionName:Z0,__metadata:W0,__awaiter:xe,__generator:ev,__createBinding:Yo,__exportStar:tv,__values:Do,__read:Nf,__spread:nv,__spreadArrays:rv,__spreadArray:iv,__await:Ta,__asyncGenerator:av,__asyncDelegator:sv,__asyncValues:lv,__makeTemplateObject:ov,__importStar:uv,__importDefault:cv,__classPrivateFieldGet:dv,__classPrivateFieldSet:fv,__classPrivateFieldIn:hv,__addDisposableResource:mv,__disposeResources:pv,__rewriteRelativeImportExtension:gv},F_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mv,get __assign(){return Uo},__asyncDelegator:sv,__asyncGenerator:av,__asyncValues:lv,__await:Ta,__awaiter:xe,__classPrivateFieldGet:dv,__classPrivateFieldIn:hv,__classPrivateFieldSet:fv,__createBinding:Yo,__decorate:Y0,__disposeResources:pv,__esDecorate:Q0,__exportStar:tv,__extends:G0,__generator:ev,__importDefault:cv,__importStar:uv,__makeTemplateObject:ov,__metadata:W0,__param:K0,__propKey:J0,__read:Nf,__rest:Ua,__rewriteRelativeImportExtension:gv,__runInitializers:X0,__setFunctionName:Z0,__spread:nv,__spreadArray:iv,__spreadArrays:rv,__values:Do,default:$_},Symbol.toStringTag,{value:"Module"})),V_=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Af extends Error{constructor(t,i="FunctionsError",a){super(t),this.name=i,this.context=a}}class G_ extends Af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fy extends Af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hy extends Af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Jd||(Jd={}));class Y_{constructor(t,{headers:i={},customFetch:a,region:l=Jd.Any}={}){this.url=t,this.headers=i,this.region=l,this.fetch=V_(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xe(this,arguments,void 0,function*(i,a={}){var l;let o,u;try{const{headers:d,method:f,body:p,signal:h,timeout:y}=a;let b={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${i}`);x&&x!=="any"&&(b["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let E;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(b["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(b["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let S=h;y&&(u=new AbortController,o=setTimeout(()=>u.abort(),y),h?(S=u.signal,h.addEventListener("abort",()=>u.abort())):S=u.signal);const j=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:E,signal:S}).catch(V=>{throw new G_(V)}),L=j.headers.get("x-relay-error");if(L&&L==="true")throw new fy(j);if(!j.ok)throw new hy(j);let T=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return T==="application/json"?B=yield j.json():T==="application/octet-stream"||T==="application/pdf"?B=yield j.blob():T==="text/event-stream"?B=j:T==="multipart/form-data"?B=yield j.formData():B=yield j.text(),{data:B,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof hy||d instanceof fy?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var Gt={};const Da=t1(F_);var po={},go={},yo={},vo={},bo={},xo={},my;function yv(){if(my)return xo;my=1,Object.defineProperty(xo,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return xo.default=n,xo}var py;function vv(){if(py)return bo;py=1,Object.defineProperty(bo,"__esModule",{value:!0});const t=Da.__importDefault(yv());class i{constructor(l){var o,u;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(o=l.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=l.signal,this.isMaybeSingle=(u=l.isMaybeSingle)!==null&&u!==void 0?u:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,o){return this.headers=new Headers(this.headers),this.headers.set(l,o),this}then(l,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,h,y,b;let x=null,w=null,E=null,S=f.status,j=f.statusText;if(f.ok){if(this.method!=="HEAD"){const V=await f.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?w=V:w=JSON.parse(V))}const T=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),B=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&B&&B.length>1&&(E=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,S=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await f.text();try{x=JSON.parse(T),Array.isArray(x)&&f.status===404&&(w=[],x=null,S=200,j="OK")}catch{f.status===404&&T===""?(S=204,j="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,S=200,j="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:w,count:E,status:S,statusText:j}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,h,y,b,x,w;let E="";const S=f?.cause;if(S){const j=(p=S?.message)!==null&&p!==void 0?p:"",L=(h=S?.code)!==null&&h!==void 0?h:"";E=`${(y=f?.name)!==null&&y!==void 0?y:"FetchError"}: ${f?.message}`,E+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,L&&(E+=` (${L})`),S?.stack&&(E+=`
${S.stack}`)}else E=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=f?.name)!==null&&w!==void 0?w:"FetchError"}: ${f?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,o)}returns(){return this}overrideTypes(){return this}}return bo.default=i,bo}var gy;function bv(){if(gy)return vo;gy=1,Object.defineProperty(vo,"__esModule",{value:!0});const t=Da.__importDefault(vv());class i extends t.default{select(l){let o=!1;const u=(l??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",h=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${h?`${h},`:""}${l}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${l}`),this}range(l,o,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this.url.searchParams.set(p,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var h;const y=[l?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return vo.default=i,vo}var yy;function Tf(){if(yy)return yo;yy=1,Object.defineProperty(yo,"__esModule",{value:!0});const t=Da.__importDefault(bv()),i=new RegExp("[,()]");class a extends t.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&i.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const h=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${p}fts${h}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return yo.default=a,yo}var vy;function xv(){if(vy)return go;vy=1,Object.defineProperty(go,"__esModule",{value:!0});const t=Da.__importDefault(Tf());class i{constructor(l,{headers:o={},schema:u,fetch:d}){this.url=l,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(l,o){const{head:u=!1,count:d}=o??{},f=u?"HEAD":"GET";let p=!1;const h=(l??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",h),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:o,defaultToNull:u=!0}={}){var d;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((h,y)=>h.concat(Object.keys(y)),[]);if(p.length>0){const h=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(l,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var p;const h="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var o;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return go.default=i,go}var by;function K_(){if(by)return po;by=1,Object.defineProperty(po,"__esModule",{value:!0});const n=Da,t=n.__importDefault(xv()),i=n.__importDefault(Tf());class a{constructor(o,{headers:u={},schema:d,fetch:f}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:f=!1,count:p}={}){var h;let y;const b=new URL(`${this.url}/rpc/${o}`);let x;d||f?(y=d?"HEAD":"GET",Object.entries(u).filter(([E,S])=>S!==void 0).map(([E,S])=>[E,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([E,S])=>{b.searchParams.append(E,S)})):(y="POST",x=u);const w=new Headers(this.headers);return p&&w.set("Prefer",`count=${p}`),new i.default({method:y,url:b,headers:w,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return po.default=a,po}var xy;function Q_(){if(xy)return Gt;xy=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const n=Da,t=n.__importDefault(K_());Gt.PostgrestClient=t.default;const i=n.__importDefault(xv());Gt.PostgrestQueryBuilder=i.default;const a=n.__importDefault(Tf());Gt.PostgrestFilterBuilder=a.default;const l=n.__importDefault(bv());Gt.PostgrestTransformBuilder=l.default;const o=n.__importDefault(vv());Gt.PostgrestBuilder=o.default;const u=n.__importDefault(yv());return Gt.PostgrestError=u.default,Gt.default={PostgrestClient:t.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:u.default},Gt}var wv=Q_();const _v=Ys(wv),X_=e1({__proto__:null,default:_v},[wv]),{PostgrestClient:J_,PostgrestQueryBuilder:KT,PostgrestFilterBuilder:QT,PostgrestTransformBuilder:XT,PostgrestBuilder:JT,PostgrestError:ZT}=_v||X_;class Z_{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const a=i.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const a=this.getWebSocketConstructor();return new a(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const W_="2.83.0",eS=`realtime-js/${W_}`,Sv="1.0.0",tS="2.0.0",wy=Sv,Zd=1e4,nS=1e3,rS=100;var Si;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Si||(Si={}));var Ut;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ut||(Ut={}));var Dn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Dn||(Dn={}));var Wd;(function(n){n.websocket="websocket"})(Wd||(Wd={}));var Ei;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ei||(Ei={}));class iS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,i){if(this._isArrayBuffer(t.payload))return i(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return i(JSON.stringify(a))}_binaryEncodePush(t){var i,a;const{event:l,topic:o,payload:u}=t,d=(i=t.ref)!==null&&i!==void 0?i:"",f=(a=t.join_ref)!==null&&a!==void 0?a:"",p=this.META_LENGTH+f.length+d.length+o.length+l.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(h),b=0;y.setUint8(b++,this.KINDS.push),y.setUint8(b++,f.length),y.setUint8(b++,d.length),y.setUint8(b++,o.length),y.setUint8(b++,l.length),Array.from(f,w=>y.setUint8(b++,w.charCodeAt(0))),Array.from(d,w=>y.setUint8(b++,w.charCodeAt(0))),Array.from(o,w=>y.setUint8(b++,w.charCodeAt(0))),Array.from(l,w=>y.setUint8(b++,w.charCodeAt(0)));var x=new Uint8Array(h.byteLength+u.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(u),h.byteLength),x.buffer}_binaryEncodeUserBroadcastPush(t){var i;return this._isArrayBuffer((i=t.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var i,a,l,o;const u=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",f=(a=t.join_ref)!==null&&a!==void 0?a:"",p=t.payload.event,h=(o=(l=t.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(b),w=0;x.setUint8(w++,this.KINDS.userBroadcastPush),x.setUint8(w++,f.length),x.setUint8(w++,d.length),x.setUint8(w++,u.length),x.setUint8(w++,p.length),x.setUint8(w++,this.BINARY_ENCODING),Array.from(f,S=>x.setUint8(w++,S.charCodeAt(0))),Array.from(d,S=>x.setUint8(w++,S.charCodeAt(0))),Array.from(u,S=>x.setUint8(w++,S.charCodeAt(0))),Array.from(p,S=>x.setUint8(w++,S.charCodeAt(0)));var E=new Uint8Array(b.byteLength+h.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(h),b.byteLength),E.buffer}_encodeJsonUserBroadcastPush(t){var i,a,l,o;const u=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",f=(a=t.join_ref)!==null&&a!==void 0?a:"",p=t.payload.event,h=(o=(l=t.payload)===null||l===void 0?void 0:l.payload)!==null&&o!==void 0?o:{},b=new TextEncoder().encode(JSON.stringify(h)).buffer,x=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+p.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(w),S=0;E.setUint8(S++,this.KINDS.userBroadcastPush),E.setUint8(S++,f.length),E.setUint8(S++,d.length),E.setUint8(S++,u.length),E.setUint8(S++,p.length),E.setUint8(S++,this.JSON_ENCODING),Array.from(f,L=>E.setUint8(S++,L.charCodeAt(0))),Array.from(d,L=>E.setUint8(S++,L.charCodeAt(0))),Array.from(u,L=>E.setUint8(S++,L.charCodeAt(0))),Array.from(p,L=>E.setUint8(S++,L.charCodeAt(0)));var j=new Uint8Array(w.byteLength+b.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(b),w.byteLength),j.buffer}decode(t,i){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return i(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,o,u,d,f]=a;return i({join_ref:l,ref:o,topic:u,event:d,payload:f})}return i({})}_binaryDecode(t){const i=new DataView(t),a=i.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,i,l);case this.KINDS.reply:return this._decodeReply(t,i,l);case this.KINDS.broadcast:return this._decodeBroadcast(t,i,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,i,l)}}_decodePush(t,i,a){const l=i.getUint8(1),o=i.getUint8(2),u=i.getUint8(3);let d=this.HEADER_LENGTH+this.META_LENGTH-1;const f=a.decode(t.slice(d,d+l));d=d+l;const p=a.decode(t.slice(d,d+o));d=d+o;const h=a.decode(t.slice(d,d+u));d=d+u;const y=JSON.parse(a.decode(t.slice(d,t.byteLength)));return{join_ref:f,ref:null,topic:p,event:h,payload:y}}_decodeReply(t,i,a){const l=i.getUint8(1),o=i.getUint8(2),u=i.getUint8(3),d=i.getUint8(4);let f=this.HEADER_LENGTH+this.META_LENGTH;const p=a.decode(t.slice(f,f+l));f=f+l;const h=a.decode(t.slice(f,f+o));f=f+o;const y=a.decode(t.slice(f,f+u));f=f+u;const b=a.decode(t.slice(f,f+d));f=f+d;const x=JSON.parse(a.decode(t.slice(f,t.byteLength))),w={status:b,response:x};return{join_ref:p,ref:h,topic:y,event:Dn.reply,payload:w}}_decodeBroadcast(t,i,a){const l=i.getUint8(1),o=i.getUint8(2);let u=this.HEADER_LENGTH+2;const d=a.decode(t.slice(u,u+l));u=u+l;const f=a.decode(t.slice(u,u+o));u=u+o;const p=JSON.parse(a.decode(t.slice(u,t.byteLength)));return{join_ref:null,ref:null,topic:d,event:f,payload:p}}_decodeUserBroadcast(t,i,a){const l=i.getUint8(1),o=i.getUint8(2),u=i.getUint8(3),d=i.getUint8(4);let f=this.HEADER_LENGTH+4;const p=a.decode(t.slice(f,f+l));f=f+l;const h=a.decode(t.slice(f,f+o));f=f+o;const y=a.decode(t.slice(f,f+u));f=f+u;const b=t.slice(f,t.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST,event:h,payload:x};return u>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:w}}_isArrayBuffer(t){var i;return t instanceof ArrayBuffer||((i=t?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class Ev{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(rt||(rt={}));const _y=(n,t,i={})=>{var a;const l=(a=i.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((o,u)=>(o[u]=aS(u,n,t,l),o),{}):{}},aS=(n,t,i,a)=>{const l=t.find(d=>d.name===n),o=l?.type,u=i[n];return o&&!a.includes(o)?jv(o,u):ef(u)},jv=(n,t)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return uS(t,i)}switch(n){case rt.bool:return sS(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return lS(t);case rt.json:case rt.jsonb:return oS(t);case rt.timestamp:return cS(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return ef(t);default:return ef(t)}},ef=n=>n,sS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},lS=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},oS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},uS=(n,t)=>{if(typeof n!="string")return n;const i=n.length-1,a=n[i];if(n[0]==="{"&&a==="}"){let o;const u=n.slice(1,i);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>jv(t,d))}return n},cS=n=>typeof n=="string"?n.replace(" ","T"):n,kv=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bd{constructor(t,i,a={},l=Zd){this.channel=t,this.event=i,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var a;return this._hasReceived(t)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sy;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Sy||(Sy={}));class Ms{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ms.syncState(this.state,l,o,u),this.pendingDiffs.forEach(f=>{this.state=Ms.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},l=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ms.syncDiff(this.state,l,o,u),d())}),this.onJoin((l,o,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:u})}),this.onLeave((l,o,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,a,l){const o=this.cloneDeep(t),u=this.transformState(i),d={},f={};return this.map(o,(p,h)=>{u[p]||(f[p]=h)}),this.map(u,(p,h)=>{const y=o[p];if(y){const b=h.map(S=>S.presence_ref),x=y.map(S=>S.presence_ref),w=h.filter(S=>x.indexOf(S.presence_ref)<0),E=y.filter(S=>b.indexOf(S.presence_ref)<0);w.length>0&&(d[p]=w),E.length>0&&(f[p]=E)}else d[p]=h}),this.syncDiff(o,{joins:d,leaves:f},a,l)}static syncDiff(t,i,a,l){const{joins:o,leaves:u}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(o,(d,f)=>{var p;const h=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(f),h.length>0){const y=t[d].map(x=>x.presence_ref),b=h.filter(x=>y.indexOf(x.presence_ref)<0);t[d].unshift(...b)}a(d,h,f)}),this.map(u,(d,f)=>{let p=t[d];if(!p)return;const h=f.map(y=>y.presence_ref);p=p.filter(y=>h.indexOf(y.presence_ref)<0),t[d]=p,l(d,p,f),p.length===0&&delete t[d]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(a=>i(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,a)=>{const l=t[a];return"metas"in l?i[a]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i[a]=l,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ey;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Ey||(Ey={}));var Bs;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Bs||(Bs={}));var Sr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Cf{constructor(t,i={config:{}},a){var l,o;if(this.topic=t,this.params=i,this.socket=a,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new bd(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ms(this),this.broadcastEndpointURL=kv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var a,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,p=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&l!==void 0?l:[],h=!!this.bindings[Bs.PRESENCE]&&this.bindings[Bs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:h}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Sr.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t?.(Sr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(w=E?.length)!==null&&w!==void 0?w:0,j=[];for(let L=0;L<S;L++){const T=E[L],{filter:{event:B,schema:V,table:A,filter:M}}=T,C=x&&x[L];if(C&&C.event===B&&C.schema===V&&C.table===A&&C.filter===M)j.push(Object.assign(Object.assign({},T),{id:C.id}));else{this.unsubscribe(),this.state=Ut.errored,t?.(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Sr.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ut.errored,t?.(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,a){return this.state===Ut.joined&&t===Bs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,i,a)}async httpSend(t,i,a={}){var l;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:i,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(t,i={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,f;const p=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ut.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new bd(this,Dn.leave,{},t),a.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ut.closed,this.bindings={}}async _fetchWithTimeout(t,i,a){const l=new AbortController,o=setTimeout(()=>l.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(o),u}_push(t,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new bd(this,t,i,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rS){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,a){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,a){var l,o;const u=t.toLocaleLowerCase(),{close:d,error:f,leave:p,join:h}=Dn;if(a&&[d,f,p,h].indexOf(u)>=0&&a!==this._joinRef())return;let b=this._onMessage(u,i,a);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(x=>{var w,E,S;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(E=x.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(x=>x.callback(b,a)):(o=this.bindings[u])===null||o===void 0||o.filter(x=>{var w,E,S,j,L,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const B=x.id,V=(w=x.filter)===null||w===void 0?void 0:w.event;return B&&((E=i.ids)===null||E===void 0?void 0:E.includes(B))&&(V==="*"||V?.toLocaleLowerCase()===((S=i.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const B=(L=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return B==="*"||B===((T=i?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:E,table:S,commit_timestamp:j,type:L,errors:T}=w;b=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:j,eventType:L,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(b,a)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,a){const l=t.toLocaleLowerCase(),o={type:l,filter:i,callback:a};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,i){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&Cf.isEqual(l.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const a in t)if(t[a]!==i[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dn.close,{},t)}_onError(t){this._on(Dn.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=_y(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=_y(t.columns,t.old_record)),i}}const xd=()=>{},wo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dS=[1e3,2e3,5e3,1e4],fS=1e4,hS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mS{constructor(t,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zd,this.transport=null,this.heartbeatIntervalMs=wo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.vsn=wy,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new iS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((a=i?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${Wd.websocket}`,this.httpEndpoint=kv(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Z_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,a){this.logger(t,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Si.connecting:return Ei.Connecting;case Si.open:return Ei.Open;case Si.closing:return Ei.Closing;default:return Ei.Closed}}isConnected(){return this.connectionState()===Ei.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===a);if(l)return l;{const o=new Cf(`realtime:${t}`,i,this);return this.channels.push(o),o}}push(t){const{topic:i,event:a,payload:l,ref:o}=t,u=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${i} ${a} (${o})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nS,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},wo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:o,ref:u}=i,d=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${a} ${l} ${d}`.trim(),o),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,o,u)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Si.open||this.conn.readyState===Si.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dn.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${t}${a}${l}`}_workerObjectUrl(t){let i;if(t)i=t;else{const a=new Blob([hS],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i;t?i=t:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(a=>{const l={access_token:i,version:eS};i&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Dn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(i)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Ev(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,a,l,o,u,d,f,p,h,y,b,x;switch(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Zd,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:wo.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:xd,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:wy,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>dS[w-1]||fS),this.vsn){case Sv:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((w,E)=>E(JSON.stringify(w))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((w,E)=>E(JSON.parse(w)));break;case tS:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Rf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class pS extends Rf{constructor(t,i,a){super(t),this.name="StorageApiError",this.status=i,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tf extends Rf{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}}const Of=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),gS=()=>Response,nf=n=>{if(Array.isArray(n))return n.map(i=>nf(i));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([i,a])=>{const l=i.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=nf(a)}),t},yS=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},wd=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},vS=(n,t,i)=>xe(void 0,void 0,void 0,function*(){const a=yield gS();n instanceof a&&!i?.noResolveJson?n.json().then(l=>{const o=n.status||500,u=l?.statusCode||o+"";t(new pS(wd(l),o,u))}).catch(l=>{t(new tf(wd(l),l))}):t(new tf(wd(n),n))}),bS=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||!a?l:(yS(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),i))};function Xs(n,t,i,a,l,o){return xe(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(i,bS(t,a,l,o)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>vS(f,d,a))})})}function $s(n,t,i,a){return xe(this,void 0,void 0,function*(){return Xs(n,"GET",t,i,a)})}function Gn(n,t,i,a,l){return xe(this,void 0,void 0,function*(){return Xs(n,"POST",t,a,l,i)})}function rf(n,t,i,a,l){return xe(this,void 0,void 0,function*(){return Xs(n,"PUT",t,a,l,i)})}function xS(n,t,i,a){return xe(this,void 0,void 0,function*(){return Xs(n,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),a)})}function Uf(n,t,i,a,l){return xe(this,void 0,void 0,function*(){return Xs(n,"DELETE",t,a,l,i)})}class wS{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i}then(t,i){return this.execute().then(t,i)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}}var Nv;class _S{constructor(t,i){this.downloadFn=t,this.shouldThrowOnError=i,this[Nv]="BlobDownloadBuilder",this.promise=null}asStream(){return new wS(this.downloadFn,this.shouldThrowOnError)}then(t,i){return this.getPromise().then(t,i)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yt(t))return{data:null,error:t};throw t}})}}Nv=Symbol.toStringTag;const SS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ES{constructor(t,i={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=i,this.bucketId=a,this.fetch=Of(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,i,a,l){return xe(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},jy),l);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(f))):(o=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),l?.headers&&(d=Object.assign(Object.assign({},d),l.headers));const p=this._removeEmptyFolders(i),h=this._getFinalPath(p),y=yield(t=="PUT"?rf:Gn)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(yt(o))return{data:null,error:o};throw o}})}upload(t,i,a){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,a)})}uploadToSignedUrl(t,i,a,l){return xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",i);try{let f;const p=Object.assign({upsert:jy.upsert},l),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",p.cacheControl)):(f=a,h["cache-control"]=`max-age=${p.cacheControl}`,h["content-type"]=p.contentType);const y=yield rf(this.fetch,d.toString(),f,{headers:h});return{data:{path:o,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(yt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,i){return xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);i?.upsert&&(l["x-upsert"]="true");const o=yield Gn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Rf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}})}update(t,i,a){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,a)})}move(t,i,a){return xe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}copy(t,i,a){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}createSignedUrl(t,i,a){return xe(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),o=yield Gn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}createSignedUrls(t,i,a){return xe(this,void 0,void 0,function*(){try{const l=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),o=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}download(t,i){const l=typeof i?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(i?.transform||{}),u=o?`?${o}`:"",d=this._getFinalPath(t),f=()=>$s(this.fetch,`${this.url}/${l}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new _S(f,this.shouldThrowOnError)}info(t){return xe(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{const a=yield $s(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:nf(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}})}exists(t){return xe(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{return yield xS(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yt(a)&&a instanceof tf){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,i){const a=this._getFinalPath(t),l=[],o=i?.download?`download=${i.download===!0?"":i.download}`:"";o!==""&&l.push(o);const d=typeof i?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(i?.transform||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${p}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}list(t,i,a){return xe(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},SS),i),{prefix:t||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}listV2(t,i){return xe(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Gn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}}const Av="2.83.0",Tv={"X-Client-Info":`storage-js/${Av}`};class jS{constructor(t,i={},a,l){this.shouldThrowOnError=!1;const o=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tv),i),this.fetch=Of(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(t);return{data:yield $s(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}createBucket(t){return xe(this,arguments,void 0,function*(i,a={public:!1}){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yt(l))return{data:null,error:l};throw l}})}updateBucket(t,i){return xe(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(t){const i={};return t&&("limit"in t&&(i.limit=String(t.limit)),"offset"in t&&(i.offset=String(t.offset)),t.search&&(i.search=t.search),t.sortColumn&&(i.sortColumn=t.sortColumn),t.sortOrder&&(i.sortOrder=t.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class kS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tv),i),this.fetch=Of(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const i=new URLSearchParams;t?.limit!==void 0&&i.set("limit",t.limit.toString()),t?.offset!==void 0&&i.set("offset",t.offset.toString()),t?.sortColumn&&i.set("sortColumn",t.sortColumn),t?.sortOrder&&i.set("sortOrder",t.sortOrder),t?.search&&i.set("search",t.search);const a=i.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield $s(this.fetch,l,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yt(i))return{data:null,error:i};throw i}})}}const Df={"X-Client-Info":`storage-js/${Av}`,"Content-Type":"application/json"};class Cv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class _d extends Cv{constructor(t,i,a){super(t),this.name="StorageVectorsApiError",this.status=i,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class NS extends Cv{constructor(t,i){super(t),this.name="StorageVectorsUnknownError",this.originalError=i}}var ky;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ky||(ky={}));const zf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),AS=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ny=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),TS=(n,t,i)=>xe(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const l=n.status||500,o=n;if(typeof o.json=="function")o.json().then(u=>{const d=u?.statusCode||u?.code||l+"";t(new _d(Ny(u),l,d))}).catch(()=>{const u=l+"",d=o.statusText||`HTTP ${l} error`;t(new _d(d,l,u))});else{const u=l+"",d=o.statusText||`HTTP ${l} error`;t(new _d(d,l,u))}}else t(new NS(Ny(n),n))}),CS=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return a?(AS(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),i)):l};function RS(n,t,i,a,l,o){return xe(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(i,CS(t,a,l,o)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>TS(f,d,a))})})}function wn(n,t,i,a,l){return xe(this,void 0,void 0,function*(){return RS(n,"POST",t,a,l,i)})}class OS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Df),i),this.fetch=zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}getIndex(t,i){return xe(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:i},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}listIndexes(t){return xe(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}deleteIndex(t,i){return xe(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:i},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}}class US{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Df),i),this.fetch=zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}getVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}listVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield wn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}queryVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}deleteVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield wn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}}class DS{constructor(t,i={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Df),i),this.fetch=zf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}listBuckets(){return xe(this,arguments,void 0,function*(t={}){try{return{data:yield wn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield wn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}}class zS extends DS{constructor(t,i={}){super(t,i.headers||{},i.fetch)}from(t){return new LS(this.url,this.headers,t,this.fetch)}}class LS extends OS{constructor(t,i,a,l){super(t,i,l),this.vectorBucketName=a}createIndex(t){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(i={}){return t.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new MS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class MS extends US{constructor(t,i,a,l,o){super(t,i,o),this.vectorBucketName=a,this.indexName=l}putVectors(t){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(i={}){return t.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class BS extends jS{constructor(t,i={},a,l){super(t,i,a,l)}from(t){return new ES(this.url,this.headers,t,this.fetch)}get vectors(){return new zS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kS(this.url+"/iceberg",this.headers,this.fetch)}}const IS="2.83.0";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const qS={"X-Client-Info":`supabase-js-${zs}/${IS}`},PS={headers:qS},HS={schema:"public"},$S={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FS={},VS=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),GS=()=>Headers,YS=(n,t,i)=>{const a=VS(i),l=GS();return async(o,u)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:n;let p=new l(u?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(o,Object.assign(Object.assign({},u),{headers:p}))}};function KS(n){return n.endsWith("/")?n:n+"/"}function QS(n,t){var i,a;const{db:l,auth:o,realtime:u,global:d}=n,{db:f,auth:p,realtime:h,global:y}=t,b={db:Object.assign(Object.assign({},f),l),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},h),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(i=y?.headers)!==null&&i!==void 0?i:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function XS(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(KS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rv="2.83.0",Sa=30*1e3,af=3,Sd=af*Sa,JS="http://localhost:9999",ZS="supabase.auth.token",WS={"X-Client-Info":`gotrue-js/${Rv}`},sf="X-Supabase-Api-Version",Ov={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t2=600*1e3;class Fs extends Error{constructor(t,i,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function we(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class n2 extends Fs{constructor(t,i,a){super(t,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function r2(n){return we(n)&&n.name==="AuthApiError"}class ji extends Fs{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class ti extends Fs{constructor(t,i,a,l){super(t,a,l),this.name=i,this.status=a}}class vn extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i2(n){return we(n)&&n.name==="AuthSessionMissingError"}class ma extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _o extends ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class So extends ti{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a2(n){return we(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ay extends ti{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lf extends ti{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function Ed(n){return we(n)&&n.name==="AuthRetryableFetchError"}class Ty extends ti{constructor(t,i,a){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class of extends ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cy=` 	
\r=`.split(""),s2=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Cy.length;t+=1)n[Cy[t].charCodeAt(0)]=-2;for(let t=0;t<zo.length;t+=1)n[zo[t].charCodeAt(0)]=t;return n})();function Ry(n,t,i){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(zo[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(zo[a]),t.queuedBits-=6}}function Uv(n,t,i){const a=s2[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Oy(n){const t=[],i=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=u=>{u2(u,a,i)};for(let u=0;u<n.length;u+=1)Uv(n.charCodeAt(u),l,o);return t.join("")}function l2(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function o2(n,t){for(let i=0;i<n.length;i+=1){let a=n.charCodeAt(i);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}l2(a,t)}}function u2(n,t,i){if(t.utf8seq===0){if(n<=127){i(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function ka(n){const t=[],i={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)Uv(n.charCodeAt(l),i,a);return new Uint8Array(t)}function c2(n){const t=[];return o2(n,i=>t.push(i)),new Uint8Array(t)}function ki(n){const t=[],i={queue:0,queuedBits:0},a=l=>{t.push(l)};return n.forEach(l=>Ry(l,i,a)),Ry(null,i,a),t.join("")}function d2(n){return Math.round(Date.now()/1e3)+n}function f2(){return Symbol("auth-callback")}const $t=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},Dv=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function h2(n){const t={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return i.searchParams.forEach((a,l)=>{t[l]=a}),t}const zv=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),m2=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ea=async(n,t,i)=>{await n.setItem(t,JSON.stringify(i))},wi=async(n,t)=>{const i=await n.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Jr=async(n,t)=>{await n.removeItem(t)};class Ko{constructor(){this.promise=new Ko.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}Ko.promiseConstructor=Promise;function jd(n){const t=n.split(".");if(t.length!==3)throw new of("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!e2.test(t[a]))throw new of("JWT not in base64url format");return{header:JSON.parse(Oy(t[0])),payload:JSON.parse(Oy(t[1])),signature:ka(t[2]),raw:{header:t[0],payload:t[1]}}}async function p2(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function g2(n,t){return new Promise((a,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await n(o);if(!t(o,null,u)){a(u);return}}catch(u){if(!t(o,u)){l(u);return}}})()})}function y2(n){return("0"+n.toString(16)).substr(-2)}function v2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let l="";for(let o=0;o<56;o++)l+=i.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,y2).join("")}async function b2(n){const i=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(a);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function x2(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await b2(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pa(n,t,i=!1){const a=v2();let l=a;i&&(l+="/PASSWORD_RECOVERY"),await Ea(n,`${t}-code-verifier`,l);const o=await x2(a);return[o,a===o?"plain":"s256"]}const w2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _2(n){const t=n.headers.get(sf);if(!t||!t.match(w2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function S2(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function E2(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ga(n){if(!j2.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kd(){const n={};return new Proxy(n,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k2(n,t){return new Proxy(n,{get:(i,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(i,a,l)}})}function Uy(n){return JSON.parse(JSON.stringify(n))}const _i=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),N2=[502,503,504];async function Dy(n){var t;if(!m2(n))throw new lf(_i(n),0);if(N2.includes(n.status))throw new lf(_i(n),n.status);let i;try{i=await n.json()}catch(o){throw new ji(_i(o),o)}let a;const l=_2(n);if(l&&l.getTime()>=Ov["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new Ty(_i(i),n.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new vn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Ty(_i(i),n.status,i.weak_password.reasons);throw new n2(_i(i),n.status||500,a)}const A2=(n,t,i,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),i))};async function ke(n,t,i,a){var l;const o=Object.assign({},a?.headers);o[sf]||(o[sf]=Ov["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const u=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await T2(n,t,i+d,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function T2(n,t,i,a,l,o){const u=A2(t,a,l,o);let d;try{d=await n(i,Object.assign({},u))}catch(f){throw console.error(f),new lf(_i(f),0)}if(d.ok||await Dy(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await Dy(f)}}function Fn(n){var t;let i=null;O2(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=d2(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:i,user:a},error:null}}function zy(n){const t=Fn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Wr(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function C2(n){return{data:n,error:null}}function R2(n){const{action_link:t,email_otp:i,hashed_token:a,redirect_to:l,verification_type:o}=n,u=Ua(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:i,hashed_token:a,redirect_to:l,verification_type:o},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function Ly(n){return n}function O2(n){return n.access_token&&n.refresh_token&&n.expires_in}const Nd=["global","local","others"];class U2{constructor({url:t="",headers:i={},fetch:a}){this.url=t,this.headers=i,this.fetch=zv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=Nd[0]){if(Nd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nd.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,i={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Wr})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:i}=t,a=Ua(t,["options"]),l=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:R2,redirectTo:i?.redirectTo})}catch(i){if(we(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wr})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,a,l,o,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},h=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Ly});if(h.error)throw h.error;const y=await h.json(),b=(u=h.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(d=h.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);p[`${S}Page`]=E}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(we(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ga(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wr})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){ga(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:Wr})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,i=!1){ga(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:Wr})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ga(t.userId);try{const{data:i,error:a}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:a}}catch(i){if(we(i))return{data:null,error:i};throw i}}async _deleteFactor(t){ga(t.userId),ga(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,a,l,o,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},h=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Ly});if(h.error)throw h.error;const y=await h.json(),b=(u=h.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(d=h.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);p[`${S}Page`]=E}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(we(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}async _updateOAuthClient(t,i){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}}function My(n={}){return{getItem:t=>n[t]||null,setItem:(t,i)=>{n[t]=i},removeItem:t=>{delete n[t]}}}const ya={debug:!!(globalThis&&Dv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class D2 extends Lv{}async function z2(n,t,i){ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ya.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await i()}finally{ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new D2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ya.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function L2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function M2(n){return parseInt(n,16)}function B2(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function I2(n){var t;const{chainId:i,domain:a,expirationTime:l,issuedAt:o=new Date,nonce:u,notBefore:d,requestId:f,resources:p,scheme:h,uri:y,version:b}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=Mv(n.address),w=h?`${h}://${a}`:a,E=n.statement?`${n.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${x}

${E}`;let j=`URI: ${y}
Version: ${b}
Chain ID: ${i}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(l&&(j+=`
Expiration Time: ${l.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),f&&(j+=`
Request ID: ${f}`),p){let L=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);L+=`
- ${T}`}j+=L}return`${S}
${j}`}class Ct extends Error{constructor({message:t,code:i,cause:a,name:l}){var o;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=l??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=i}}class Lo extends Ct{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function q2({error:n,options:t}){var i,a,l;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ct({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(Bv(u)){if(o.rp.id!==u)return new Ct({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function P2({error:n,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ct({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Bv(a)){if(i.rpId!==a)return new Ct({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class H2{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $2=new H2;function F2(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:i,excludeCredentials:a}=n,l=Ua(n,["challenge","user","excludeCredentials"]),o=ka(t).buffer,u=Object.assign(Object.assign({},i),{id:ka(i.id).buffer}),d=Object.assign(Object.assign({},l),{challenge:o,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const p=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:ka(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function V2(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:i}=n,a=Ua(n,["challenge","allowCredentials"]),l=ka(t).buffer,o=Object.assign(Object.assign({},a),{challenge:l});if(i&&i.length>0){o.allowCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];o.allowCredentials[u]=Object.assign(Object.assign({},d),{id:ka(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function G2(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:ki(new Uint8Array(n.response.attestationObject)),clientDataJSON:ki(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Y2(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ki(new Uint8Array(l.authenticatorData)),clientDataJSON:ki(new Uint8Array(l.clientDataJSON)),signature:ki(new Uint8Array(l.signature)),userHandle:l.userHandle?ki(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function By(){var n,t;return!!($t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function K2(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:q2({error:t,options:n})}}}async function Q2(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:P2({error:t,options:n})}}}const X2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},J2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mo(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const o in l){const u=l[o];if(u!==void 0)if(Array.isArray(u))a[o]=u;else if(i(u))a[o]=u;else if(t(u)){const d=a[o];t(d)?a[o]=Mo(d,u):a[o]=Mo(u)}else a[o]=u}return a}function Z2(n,t){return Mo(X2,n,t||{})}function W2(n,t){return Mo(J2,n,t||{})}class eE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:a,signal:l},o){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!u)return{data:null,error:d};const f=l??$2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=Z2(u.webauthn.credential_options.publicKey,o?.create),{data:h,error:y}=await K2({publicKey:p,signal:f});return h?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:y}}case"request":{const p=W2(u.webauthn.credential_options.publicKey,o?.request),{data:h,error:y}=await Q2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return h?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:h}},error:null}:{data:null,error:y}}}}catch(u){return we(u)?{data:null,error:u}:{data:null,error:new ji("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new Fs("rpId is required for WebAuthn authentication")};try{if(!By())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:a},signal:l},{request:o});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:i,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return we(u)?{data:null,error:u}:{data:null,error:new ji("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!i)return{data:null,error:new Fs("rpId is required for WebAuthn registration")};try{if(!By())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(h=>{var y;return(y=h.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:l},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:i,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return we(u)?{data:null,error:u}:{data:null,error:new ji("Unexpected error in register",u)}}}}L2();const tE={url:JS,storageKey:ZS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Iy(n,t,i){return await i()}const va={};class Vs{get jwks(){var t,i;return(i=(t=va[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=va[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{cachedAt:t})}constructor(t){var i,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},tE),t);if(this.storageKey=o.storageKey,this.instanceID=(i=Vs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Vs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&$t()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new U2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=zv(o.fetch),this.lock=o.lock||Iy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:$t()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=z2:this.lock=Iy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Dv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=My(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=My(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let i={},a="none";if($t()&&(i=h2(window.location.href),this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce")),$t()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:o}=await this._getSessionFromURL(i,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),a2(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return we(i)?this._returnResult({error:i}):this._returnResult({error:new ji("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,a,l;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Fn}),{data:u,error:d}=o;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var i,a,l;try{let o;if("email"in t){const{email:h,password:y,options:b}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await pa(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:y,data:(i=b?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Fn})}else if("phone"in t){const{phone:h,password:y,options:b}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Fn})}else throw new _o("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let i;if("email"in t){const{email:o,password:u,options:d}=t;i=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:zy})}else if("phone"in t){const{phone:o,password:u,options:d}=t;i=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:zy})}else throw new _o("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const o=new ma;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(t){var i,a,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,a,l,o,u,d,f,p,h,y,b;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:E,wallet:S,statement:j,options:L}=t;let T;if($t())if(typeof S=="object")T=S;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")T=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const B=new URL((i=L?.url)!==null&&i!==void 0?i:window.location.href),V=await T.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Mv(V[0]);let M=(a=L?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!M){const R=await T.request({method:"eth_chainId"});M=M2(R)}const C={domain:B.host,address:A,statement:j,uri:B.href,version:"1",chainId:M,nonce:(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(o=L?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(h=L?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=I2(C),w=await T.request({method:"personal_sign",params:[B2(x),A]})}try{const{data:E,error:S}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fn});if(S)throw S;if(!E||!E.session||!E.user){const j=new ma;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:S})}catch(E){if(we(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var i,a,l,o,u,d,f,p,h,y,b,x;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:S,wallet:j,statement:L,options:T}=t;let B;if($t())if(typeof j=="object")B=j;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))B=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=j}const V=new URL((i=T?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in B&&B.signIn){const A=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),L?{statement:L}:null));let M;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")M=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)M=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${V.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(l=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(h=T?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const A=await B.signMessage(new TextEncoder().encode(w),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=A}}try{const{data:S,error:j}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ki(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Fn});if(j)throw j;if(!S||!S.session||!S.user){const L=new ma;return this._returnResult({data:{user:null,session:null},error:L})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(we(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const i=await wi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(i??"").split("/");try{const{data:o,error:u}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Fn});if(await Jr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const d=new ma;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:u})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:i,provider:a,token:l,access_token:o,nonce:u}=t,d=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Fn}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const h=new ma;return this._returnResult({data:{user:null,session:null},error:h})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(t){var i,a,l,o,u;try{if("email"in t){const{email:d,options:f}=t;let p=null,h=null;this.flowType==="pkce"&&([p,h]=await pa(this.storage,this.storageKey));const{error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:h},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:d,options:f}=t,{data:p,error:h}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(l=f?.data)!==null&&l!==void 0?l:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:h})}throw new _o("You must provide either an email or phone number.")}catch(d){if(we(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var i,a;try{let l,o;"options"in t&&(l=(i=t.options)===null||i===void 0?void 0:i.redirectTo,o=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Fn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var i,a,l,o,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await pa(this.storage,this.storageKey));const p=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:C2});return!((o=p.data)===null||o===void 0)&&o.url&&$t()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(we(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;if(a)throw a;if(!i)throw new vn;const{error:l}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(we(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:o}=t,{error:u}=await ke(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:a,type:l,options:o}=t,{data:u,error:d}=await ke(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new _o("You must provide either an email or phone number and a type")}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Sd:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const u=await wi(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=kd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=k2(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wr}):await this._useSession(async i=>{var a,l,o;const{data:u,error:d}=i;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:Wr})})}catch(i){if(we(i))return i2(i)&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async a=>{const{data:l,error:o}=a;if(o)throw o;if(!l.session)throw new vn;const u=l.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await pa(this.storage,this.storageKey));const{data:p,error:h}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Wr});if(h)throw h;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(we(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vn;const i=Date.now()/1e3;let a=i,l=!0,o=null;const{payload:u}=jd(t.access_token);if(u.exp&&(a=u.exp,l=a<=i),l){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(i){if(we(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var a;if(!t){const{data:u,error:d}=i;if(d)throw d;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new vn;const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(t,i){try{if(!$t())throw new So("No browser detected.");if(t.error||t.error_description||t.error_code)throw new So(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Ay("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new So("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ay("No code detected.");const{data:L,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:o,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=t;if(!o||!d||!u||!p)throw new So("No session defined in URL");const h=Math.round(Date.now()/1e3),y=parseInt(d);let b=h+y;f&&(b=parseInt(f));const x=b-h;x*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const w=b-y;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,h);const{data:E,error:S}=await this._getUser(o);if(S)throw S;const j={provider_token:a,provider_refresh_token:l,access_token:o,expires_in:y,expires_at:b,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(a){if(we(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({error:o});const u=(a=l.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(r2(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const i=f2(),a={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async i=>{var a,l;try{const{data:{session:o},error:u}=i;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,i={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await pa(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(o){if(we(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:a,error:l}=await this._useSession(async o=>{var u,d,f,p,h;const{data:y,error:b}=o;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&h!==void 0?h:void 0})});if(l)throw l;return $t()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(we(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var a;try{const{error:l,data:{session:o}}=i;if(l)throw l;const{options:u,provider:d,token:f,access_token:p,nonce:h}=t,y=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:p,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Fn}),{data:b,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ma}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(l){if(we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var a,l;const{data:o,error:u}=i;if(u)throw u;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await g2(async l=>(l>0&&await p2(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fn})),(l,o)=>{const u=200*Math.pow(2,l);return o&&Ed(o)&&Date.now()+u-a<Sa})}catch(a){if(this._debug(i,"error",a),we(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",a),$t()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await wi(this.storage,this.storageKey);if(l&&this.userStorage){let u=await wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await Ea(this.userStorage,this.storageKey+"-user",u)),l.user=(t=u?.user)!==null&&t!==void 0?t:kd()}else if(l&&!l.user&&!l.user){const u=await wi(this.storage,this.storageKey+"-user");u&&u?.user?(l.user=u.user,await Jr(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,l)):l.user=kd()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const o=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Sd;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Sd}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),Ed(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(l.access_token);!d&&u?.user?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var i,a;if(!t)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ko;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new vn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(l,"error",o),we(o)){const u={data:null,error:o};return Ed(o)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,i,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:i});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,i)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const i=Object.assign({},t),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const o=Uy(l);await Ea(this.storage,this.storageKey,o)}else{const l=Uy(i);await Ea(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Jr(this.storage,this.storageKey),await Jr(this.storage,this.storageKey+"-code-verifier"),await Jr(this.storage,this.storageKey+"-user"),this.userStorage&&await Jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sa}ms, refresh threshold is ${af} ticks`),l<=af&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,a){const l=[`provider=${encodeURIComponent(i)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,u]=await pa(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(d.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);l.push(o.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;return o?this._returnResult({data:null,error:o}):await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(t){try{return await this._useSession(async i=>{var a,l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&f.type==="totp"&&(!((l=f?.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?G2(t.webauthn.credential_response):Y2(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var a;const{data:l,error:o}=i;if(o)return this._returnResult({data:null,error:o});const u=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:F2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:V2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(t){const{data:i,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=i?.factors)!==null&&t!==void 0?t:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,i;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=jd(a.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((i=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new vn})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new vn});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&$t()&&!i?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new vn});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&$t()&&!i?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new vn})})}catch(t){if(we(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;return l?this._returnResult({data:null,error:l}):a?await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new vn})})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(t,i={keys:[]}){let a=i.keys.find(d=>d.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(d=>d.kid===t),a&&this.jwks_cached_at+t2>l)return a;const{data:o,error:u}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,a=o.keys.find(d=>d.kid===t),!a)?null:a}async getClaims(t,i={}){try{let a=t;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:l,payload:o,signature:u,raw:{header:d,payload:f}}=jd(a);i?.allowExpired||S2(o.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:o,header:l,signature:u},error:null}}const h=E2(l.alg),y=await crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!await crypto.subtle.verify(h,y,u,c2(`${d}.${f}`)))throw new of("Invalid JWT signature");return{data:{claims:o,header:l,signature:u},error:null}}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}}Vs.nextInstanceID={};const nE=Vs;class rE extends nE{constructor(t){super(t)}}class iE{constructor(t,i,a){var l,o,u;this.supabaseUrl=t,this.supabaseKey=i;const d=XS(t);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:HS,realtime:FS,auth:Object.assign(Object.assign({},$S),{storageKey:f}),global:PS},h=QS(a??{},p);this.storageKey=(l=h.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=h.auth)!==null&&u!==void 0?u:{},this.headers,h.global.fetch),this.fetch=YS(i,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new J_(new URL("rest/v1",d).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new BS(this.storageUrl.href,this.headers,this.fetch,a?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,i,a)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,i;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(i=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:a,storage:l,userStorage:o,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:h},y,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rE({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:u,autoRefreshToken:t,persistSession:i,detectSessionInUrl:a,storage:l,userStorage:o,flowType:d,lock:f,debug:p,throwOnError:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,a)=>{this._handleTokenChanged(i,"CLIENT",a?.access_token)})}_handleTokenChanged(t,i,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aE=(n,t,i)=>new iE(n,t,i);function sE(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lE="https://hnsnepnphitezzqdfnnv.supabase.co",oE="sb_publishable_CmZSVSk-y6DlBqYDS9ykPg_9_rjzg5a",ue=aE(lE,oE),uE="/Tempero/assets/404-BBhLo5P6.png";function cE(){return g.jsx("footer",{className:"bg-secondary/5 mt-20",children:g.jsxs("div",{className:" px-13 mx-auto py-10",children:[g.jsxs("div",{className:"text-center md:text-left flex flex-col sm:flex-row justify-between gap-10",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-heading-styled text-2xl text-secondary mb-2",children:"Tempero"}),g.jsx("p",{className:"font-body text-dark/70 text-sm max-w-xs text-center md:text-left mx-auto md:mx-0",children:"A community-driven platform to explore, share and enjoy delicious recipes."})]}),g.jsxs("div",{className:"flex gap-10 md:flex-row flex-col",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-heading text-main mb-2",children:"Explore"}),g.jsxs("ul",{className:"space-y-1 font-body text-sm text-dark/80",children:[g.jsx("li",{children:g.jsx(mt,{to:"/lists",className:"hover:text-main",children:"Lists"})}),g.jsx("li",{children:g.jsx(mt,{to:"/search",className:"hover:text-main",children:"Recipes"})}),g.jsx("li",{children:g.jsx(mt,{to:"/favorites",className:"hover:text-main",children:"Favorites"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-heading text-main mb-2",children:"Support"}),g.jsxs("ul",{className:"space-y-1 font-body text-sm text-dark/80",children:[g.jsx("li",{children:g.jsx(mt,{to:"/faq",className:"hover:text-main",children:"FAQ"})}),g.jsx("li",{children:g.jsx(mt,{to:"/about",className:"hover:text-main",children:"About Us"})})]})]})]})]}),g.jsx("div",{className:"border-t border-dark/20 my-8"}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[g.jsxs("p",{className:"font-body text-dark/60 text-sm",children:[" ",new Date().getFullYear()," Tempero  Built with love by the Tempero Team"]}),g.jsx("div",{className:"flex gap-4 mt-3 sm:mt-0",children:g.jsx("a",{href:"mailto:support@tempero.com",className:"text-dark/60 hover:text-main font-body text-sm",children:"tempero@support.com"})})]})]})})}function dE(){const n=Mn(),t=Kt(),[i,a]=z.useState(null),[l,o]=z.useState(""),[u,d]=z.useState(!1),[f,p]=z.useState(!1);if(z.useEffect(()=>{let S=!0;(async()=>{try{const{data:L}=await ue.auth.getUser();if(!S)return;a(L?.user??null)}catch{}})();const{data:j}=ue.auth.onAuthStateChange((L,T)=>{a(T?.user??null)});return()=>{S=!1,j.subscription.unsubscribe()}},[]),z.useEffect(()=>{if(!i)return;(async()=>{const{data:L,error:T}=await ue.from("profiles").select("is_admin").eq("auth_id",i.id).single();T||!L||p(L.is_admin||!1)})();const j=ue.channel(`profile-${i.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`auth_id=eq.${i.id}`},L=>{const T=L.new;p(T.is_admin||!1)}).subscribe();return()=>{ue.removeChannel(j)}},[i]),z.useEffect(()=>{if(!i)return;(async()=>{const{data:j,error:L}=await ue.from("profiles").select("is_admin").eq("auth_id",i.id).single();L||!j||p(j.is_admin||!1)})()},[n.pathname,i]),n.pathname==="/register"||n.pathname==="/login"||n.pathname==="/skill-assessment")return null;const h=i?.user_metadata?.username??null,y=h?`/profile/${h}`:i?"/profile":"/login",b=h??(i?"Profile":"Guest"),x="text-dark scale-110 border-b-1 border-dark/50 border-bright";async function w(){try{await ue.auth.signOut(),a(null)}catch(S){console.error("Sign out error:",S)}}function E(S){S.preventDefault(),t("/search"),d(!1)}return g.jsxs(g.Fragment,{children:[g.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 navbar text-bright text-lg max-[500px]:text-sm font-heading flex flex-col md:flex-row justify-between bg-main px-4 py-3 shadow-lg items-center gap-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h1",{className:"logo",children:g.jsx(mt,{to:"/home/",children:g.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-15 max-[500px]:h-10 min-h-5 min-w-9 min"})})}),g.jsx("button",{onClick:()=>t("/search"),className:"hidden min-[700px]:block text-bright/70 hover:text-bright p-2",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),g.jsx("button",{onClick:()=>t("/search"),className:"min-[700px]:hidden text-bright/70 hover:text-bright p-2",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),g.jsxs("ul",{className:"flex flex-wrap gap-4 md:gap-6 md:mr-4 items-center justify-center",children:[g.jsx("li",{className:"hover:scale-110 hover:-translate-y-1 hover:opacity-70 duration-100",children:g.jsx(Ls,{to:"/lists",className:({isActive:S})=>`${S?x:""} px-1`,children:"Lists"})}),g.jsx("li",{className:"hover:scale-110 hover:-translate-y-1 hover:opacity-70 duration-100",children:g.jsx(Ls,{to:"/favorites",className:({isActive:S})=>`${S?x:""} px-1`,children:"Favorites"})}),f&&g.jsx("li",{className:"hover:scale-110 hover:-translate-y-1 hover:opacity-70 duration-100",children:g.jsx(Ls,{to:"/admin",className:({isActive:S})=>`${S?x:""} px-1`,children:"Admin"})}),g.jsxs("div",{className:"usersection max-[500px]:flex-col max-[500px]:text-xs bg-bright/10 p-2 rounded-md gap-2 flex font-heading  ",children:[!i&&g.jsx("li",{children:g.jsx(mt,{to:"/login",children:"Log in"})}),g.jsx("li",{className:"border border-bright/20 bg-bright/20 rounded-md px-2 py-1 hover:-translate-y-1 transition-transform duration-200 ease-in-out text-sm",children:g.jsx(mt,{to:y,children:b})}),i&&g.jsx("button",{onClick:w,className:"text-bright/70 cursor-pointer text-xs hover:text-bright","aria-label":"Sign out",children:g.jsx(mt,{to:"/login",className:"max-[500px]:text-3xs",children:"Log out"})})]})]})]}),g.jsx("div",{className:"h-16 md:h-20"}),u&&g.jsx("div",{className:"min-[700px]:hidden fixed left-0 right-0 top-22 z-40 mx-2 rounded-lg bg-main px-4 py-3 shadow-lg",children:g.jsxs("form",{onSubmit:E,className:"relative",children:[g.jsx("input",{type:"search",value:l,onChange:S=>o(S.target.value),placeholder:"Search recipes...",className:"w-full pl-10 rounded-lg bg-bright/10 px-4 py-2 text-sm text-bright placeholder-bright/50 outline-none focus:ring-2 focus:ring-bright/30 transition-all","aria-label":"Search recipes",autoFocus:!0}),g.jsx("button",{type:"submit",className:"absolute left-2 top-1/2 -translate-y-1/2 text-bright/70 hover:text-bright","aria-label":"Submit search",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})})]})}function qy(){return g.jsxs("div",{className:"w-full bg-bright text-dark",children:[g.jsxs("section",{className:"relative mx-auto max-w-6xl px-6 pt-20 pb-28",children:[g.jsx("h1",{className:`
          absolute left-0 top-24 
          text-[110px] font-heading-styled 
          text-dark/5 select-none tracking-tight
        `,children:"ABOUT"}),g.jsxs("div",{className:"max-w-lg",children:[g.jsx("h2",{className:"text-4xl font-heading text-secondary",children:"About Tempero"}),g.jsx("p",{className:"mt-3 text-dark/60 font-body",children:"Tempero is your space to cook, create, and share recipes that matter."})]}),g.jsx("div",{className:"absolute right-0 top-10 hidden md:block ",children:g.jsx("img",{src:"https://images.unsplash.com/photo-1702234883240-fb86c8087f3c?q=80&w=1172&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Tempero display",className:"w-[450px] opacity-90 rounded-xl"})})]}),g.jsxs("section",{className:"mx-auto max-w-6xl px-6 pb-24 grid gap-16 md:grid-cols-2",children:[g.jsxs("div",{className:"space-y-10",children:[g.jsx("img",{src:"https://images.unsplash.com/photo-1506368249639-73a05d6f6488?w=1000&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cmVjaXBlfGVufDB8fDB8fHww",className:"rounded-xl shadow-xl w-full h-72 object-cover"}),g.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1664640733870-15cb6a5b6ee6?w=1000&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8dG9tYXRhZGElMjByZWNpcGV8ZW58MHx8MHx8fDA%3D",className:"rounded-xl shadow-xl w-full h-72 object-cover"})]}),g.jsxs("div",{className:"flex flex-col justify-center",children:[g.jsx("h3",{className:"text-xl font-heading text-secondary",children:"Sharing is Caring"}),g.jsx("p",{className:"mt-4 text-dark/70 leading-relaxed font-body",children:"At Tempero, we believe in the power of food, creativity, and community. Our mission is simple: help cooks of all levels share their passion, learn from others, and build meaningful culinary experiences."}),g.jsx("p",{className:"mt-4 text-dark/70 leading-relaxed font-body",children:"Whether you're creating your first recipe or crafting gourmet masterpieces, Tempero gives you the tools to express, discover, and inspire."})]})]}),g.jsx("section",{className:"mx-auto max-w-6xl px-6 pb-28",children:g.jsx("img",{src:"https://plus.unsplash.com/premium_photo-1728412897938-d70e9c5becd7?q=80&w=1222&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"rounded-[40px] w-full h-[380px] object-cover shadow-lg"})})]})}const Ad=[{level:1,name:"New cook",minXp:1e3,maxXp:1999},{level:2,name:"Junior Cook",minXp:2e3,maxXp:2999},{level:3,name:"Home Chef",minXp:3e3,maxXp:3999},{level:4,name:"Sous Chef",minXp:4e3,maxXp:4999},{level:5,name:"Star Chef",minXp:5e3,maxXp:Number.POSITIVE_INFINITY}];function Iv(n){const t=Math.max(0,Math.floor(n||0)),i=Ad.find(u=>t>=u.minXp&&t<=u.maxXp)??Ad[Ad.length-1],a=t-i.minXp,l=i.maxXp===Number.POSITIVE_INFINITY?null:i.maxXp-i.minXp+1,o=l?Math.min(1,a/l):1;return{level:i.level,name:i.name,xp:t,minXp:i.minXp,maxXp:i.maxXp===Number.POSITIVE_INFINITY?null:i.maxXp,progress:o}}function fE(){const[n,t]=z.useState([]),[i,a]=z.useState({}),[l,o]=z.useState(!1),u=Kt();function d(h){const y=[...h];for(let b=y.length-1;b>0;b--){const x=Math.floor(Math.random()*(b+1));[y[b],y[x]]=[y[x],y[b]]}return y}z.useEffect(()=>{const y=d([{id:"q1",question:"How often do you cook at home?",options:[{text:"Rarely  maybe once a week or less.",score:1},{text:"A few times a week.",score:2},{text:"Almost every day.",score:3},{text:"Every day  I cook most of my meals.",score:4},{text:"Every day, and I experiment or try new dishes often.",score:5}]},{id:"q2",question:"How would you describe your kitchen setup?",options:[{text:"Just the basics  one pan, a knife, and a stove.",score:1},{text:"A few extras like a blender or baking tray.",score:2},{text:"A solid setup  sharp knives, a scale, and good cookware.",score:3},{text:"Well-equipped  I have tools for most cooking techniques.",score:4},{text:"Professional-style  quality knives, thermometers, and specialized gear.",score:5}]},{id:"q3",question:"How easy is it for you to find cooking ingredients?",options:[{text:"I mostly rely on basic supermarket items.",score:1},{text:"I can find most common ingredients easily.",score:2},{text:"I sometimes hunt for specific ones but manage.",score:3},{text:"I can access a wide range of ingredients when needed.",score:4},{text:"I have easy access to almost anything  including specialty items.",score:5}]},{id:"q4",question:"When you read 'reduce by half', you...",options:[{text:"Have no idea what that means.",score:1},{text:"Let it simmer and guess when it looks less.",score:2},{text:"Watch until it thickens and volume drops noticeably.",score:3},{text:"Judge reduction by consistency and flavor concentration.",score:4},{text:"Track volume and viscosity precisely for predictable sauces.",score:5}]},{id:"q5",question:"You're cooking chicken breast  what's your approach?",options:[{text:"I just cook until the inside looks white.",score:1},{text:"I flip occasionally to avoid burning.",score:2},{text:"I use a thermometer or timing to avoid drying.",score:3},{text:"I rest it and consider carry-over heat.",score:4},{text:"I control temperature zones or sous-vide for perfect juiciness.",score:5}]},{id:"q6",question:"When browning onions for flavor, you...",options:[{text:"Turn up the heat to get it done faster.",score:1},{text:"Stir constantly until they're dark.",score:2},{text:"Cook medium-low and let them soften slowly.",score:3},{text:"Cook patiently for deep caramelization without burning.",score:4},{text:"Adjust fat, salt, and deglazing for layered sweetness and color.",score:5}]},{id:"q7",question:"You're seasoning soup. What's your process?",options:[{text:"I just follow the recipe's measurements.",score:1},{text:"I add salt at the end.",score:2},{text:"I taste as I go.",score:3},{text:"I season progressively in layers.",score:4},{text:"I balance seasoning, acidity, and fat instinctively.",score:5}]},{id:"q8",question:"When a recipe calls for 'tempering eggs,' you...",options:[{text:"Don't know what that means.",score:1},{text:"Just mix hot liquid and eggs together.",score:2},{text:"Add a little hot liquid slowly while whisking.",score:3},{text:"Gradually equalize temperature to avoid curdling.",score:4},{text:"Temper intuitively and use it for custards or sauces confidently.",score:5}]},{id:"q9",question:"When you hear 'umami', what comes to mind?",options:[{text:"Never heard of it.",score:1},{text:"Something about savory taste.",score:2},{text:"Foods like soy sauce or mushrooms.",score:3},{text:"Deep flavor from glutamates and slow cooking.",score:4},{text:"Layering natural umami sources for depth and balance.",score:5}]},{id:"q10",question:"How do you feel improvising without a recipe?",options:[{text:"I can't  I need exact steps.",score:1},{text:"I can tweak a bit but stay close.",score:2},{text:"I can swap ingredients I know well.",score:3},{text:"I cook mostly by feel and tasting.",score:4},{text:"I create dishes from concepts and memory.",score:5}]}]).map(b=>({...b,options:d(b.options)}));t(y)},[]);async function f(h){h.preventDefault(),o(!0);try{const b=Object.values(i).reduce((j,L)=>j+L,0)*100,x=Iv(b),{data:{user:w}}=await ue.auth.getUser();if(!w)throw new Error("Not authenticated");console.log("Answers:",i),console.log("Total XP calculated:",b),console.log("Level info:",x),console.log("User ID:",w.id);const{data:E,error:S}=await ue.from("profiles").update({xp:b,level:x.level,chef_type:x.name}).eq("auth_id",w.id).select();if(console.log("Update result:",{data:E,error:S}),S)throw S;u("/")}catch(y){console.error("Assessment submission error:",y),alert(`Failed to save assessment: ${y instanceof Error?y.message:"Unknown error"}`)}finally{o(!1)}}async function p(){if(window.confirm("Are you sure you want to skip? Youll start as a beginner (level 1).")){o(!0);try{const{data:{user:y}}=await ue.auth.getUser();if(!y)throw new Error("Not authenticated");const{error:b}=await ue.from("profiles").update({xp:1e3}).eq("auth_id",y.id);if(b)throw b;u("/")}catch(y){console.error("Skip error:",y),alert(`Failed to skip assessment: ${y instanceof Error?y.message:"Unknown error"}`)}finally{o(!1)}}}return g.jsxs("div",{className:"relative min-h-screen flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center bg-fixed",children:[g.jsx("div",{className:"absolute inset-0 backdrop-blur-xs pointer-events-none"}),g.jsx("div",{className:"relative z-10 mx-auto max-w-2xl w-full px-4 py-16",children:g.jsxs("div",{className:"rounded-xl bg-bright/90 p-8 shadow-sm",children:[g.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Cooking Skill Assessment"}),g.jsx("p",{className:"mb-8 text-sm text-gray-600 text-center",children:"Answer a few questions to find your starting chef level "}),g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("button",{type:"button",onClick:p,disabled:l,className:"w-1/2 rounded-lg bg-gray-500 px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150",children:"Skip"})}),g.jsxs("form",{onSubmit:f,className:"space-y-8",children:[n.map((h,y)=>g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h2",{className:"text-lg font-heading text-dark",children:[y+1,". ",h.question]}),g.jsx("div",{className:"space-y-2",children:h.options.map((b,x)=>g.jsxs("label",{className:"flex items-center gap-3 rounded-lg bg-amber-50 hover:bg-amber-100 border-none px-3 py-2 shadow-sm cursor-pointer transition-all duration-150",children:[g.jsx("input",{type:"radio",name:h.id,value:x+1,onChange:()=>a(w=>({...w,[h.id]:b.score})),className:"text-main focus:ring-main",required:!0}),g.jsx("span",{className:"text-sm text-dark font-body",children:b.text})]},x))})]},h.id)),g.jsx("div",{className:"mt-8 space-y-3",children:g.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150",children:l?"Calculating...":"Submit Assessment"})})]})]})})]})}function hE(){const n=Kt(),[t,i]=z.useState(""),[a,l]=z.useState(""),[o,u]=z.useState("PUBLIC"),[d,f]=z.useState(!1),[p,h]=z.useState(null);async function y(b){b.preventDefault(),h(null),f(!0);const{data:x}=await ue.auth.getUser();if(!x?.user){h("You must be logged in."),f(!1);return}const{error:w}=await ue.from("lists").insert({title:t,description:a,visibility:o,user_id:x.user.id});if(f(!1),w){h(w.message);return}n("/lists")}return g.jsx("main",{className:"min-h-screen bg-bright flex justify-center mt-10 md:mt-0 py-10 px-4",children:g.jsxs("section",{className:"w-full max-w-xl bg-white rounded-xl shadow-md border border-secondary/20 p-6",children:[g.jsx("h1",{className:"font-heading-styled text-3xl text-secondary mb-6",children:"Create a New Thematic List"}),g.jsxs("form",{onSubmit:y,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"font-heading text-dark",children:"Title"}),g.jsx("input",{type:"text",required:!0,value:t,onChange:b=>i(b.target.value),className:"mt-1 w-full border border-dark/20 rounded-lg px-3 py-2 font-body",placeholder:"Example: Portuguese Classics"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-heading text-dark",children:"Description"}),g.jsx("textarea",{required:!0,value:a,onChange:b=>l(b.target.value),className:"mt-1 w-full border border-dark/20 rounded-lg px-3 py-2 font-body h-28",placeholder:"Describe this list..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"font-heading text-dark",children:"Visibility"}),g.jsxs("div",{className:"mt-2 flex gap-5 font-body text-dark",children:[g.jsxs("label",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"radio",value:"PUBLIC",checked:o==="PUBLIC",onChange:()=>u("PUBLIC")}),"Public"]}),g.jsxs("label",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"radio",value:"PRIVATE",checked:o==="PRIVATE",onChange:()=>u("PRIVATE")}),"Private"]})]})]}),p&&g.jsx("p",{className:"text-red-600 text-sm",children:p}),g.jsx("button",{type:"submit",disabled:d,className:"w-full bg-main hover:bg-secondary text-bright font-heading-styled py-2.5 rounded-lg transition",children:d?"Creating...":"Create List"})]})]})})}const mE="/Tempero/assets/tempro-BrFq3l-U.png";function kr({message:n}){return g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[g.jsx("div",{className:"relative",children:g.jsx("div",{className:"h-20 w-20 rounded-2xl border-4 border-[#e57f22]/30 flex items-center justify-center animate-spin-slow",children:g.jsx("div",{className:"h-14 w-14 rounded-xl bg-[#e57f22]/10 flex items-center justify-center",children:g.jsx("img",{src:mE,alt:"Tempero logo",className:"h-10 w-10 object-contain drop-shadow-sm"})})})}),g.jsx("p",{className:"mt-4 text-[#e57f22] font-semibold tracking-wide text-base",children:n||"Loading..."})]})}function pE(n,t){return t.forEach((function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach((function(a){if(a!=="default"&&!(a in n)){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}}))})),Object.freeze(n)}function qv(n,t){return new Promise((function(i,a){let l;return gE(n).then((function(o){try{return l=o,i(new Blob([t.slice(0,2),l,t.slice(2)],{type:"image/jpeg"}))}catch(u){return a(u)}}),a)}))}const gE=n=>new Promise(((t,i)=>{const a=new FileReader;a.addEventListener("load",(({target:{result:l}})=>{const o=new DataView(l);let u=0;if(o.getUint16(u)!==65496)return i("not a valid JPEG");for(u+=2;;){const d=o.getUint16(u);if(d===65498)break;const f=o.getUint16(u+2);if(d===65505&&o.getUint32(u+4)===1165519206){const p=u+10;let h;switch(o.getUint16(p)){case 18761:h=!0;break;case 19789:h=!1;break;default:return i("TIFF header contains invalid endian")}if(o.getUint16(p+2,h)!==42)return i("TIFF header contains invalid version");const y=o.getUint32(p+4,h),b=p+y+2+12*o.getUint16(p+y,h);for(let x=p+y+2;x<b;x+=12)if(o.getUint16(x,h)==274){if(o.getUint16(x+2,h)!==3)return i("Orientation data type is invalid");if(o.getUint32(x+4,h)!==1)return i("Orientation data count is invalid");o.setUint16(x+8,1,h);break}return t(l.slice(u,u+2+f))}u+=2+f}return t(new Blob)})),a.readAsArrayBuffer(n)}));var Bo={},yE={get exports(){return Bo},set exports(n){Bo=n}};(function(n){var t,i,a={};yE.exports=a,a.parse=function(l,o){for(var u=a.bin.readUshort,d=a.bin.readUint,f=0,p={},h=new Uint8Array(l),y=h.length-4;d(h,y)!=101010256;)y--;f=y,f+=4;var b=u(h,f+=4);u(h,f+=2);var x=d(h,f+=2),w=d(h,f+=4);f+=4,f=w;for(var E=0;E<b;E++){d(h,f),f+=4,f+=4,f+=4,d(h,f+=4),x=d(h,f+=4);var S=d(h,f+=4),j=u(h,f+=4),L=u(h,f+2),T=u(h,f+4);f+=6;var B=d(h,f+=8);f+=4,f+=j+L+T,a._readLocal(h,B,p,x,S,o)}return p},a._readLocal=function(l,o,u,d,f,p){var h=a.bin.readUshort,y=a.bin.readUint;y(l,o),h(l,o+=4),h(l,o+=2);var b=h(l,o+=2);y(l,o+=2),y(l,o+=4),o+=4;var x=h(l,o+=8),w=h(l,o+=2);o+=2;var E=a.bin.readUTF8(l,o,x);if(o+=x,o+=w,p)u[E]={size:f,csize:d};else{var S=new Uint8Array(l.buffer,o);if(b==0)u[E]=new Uint8Array(S.buffer.slice(o,o+d));else{if(b!=8)throw"unknown compression method: "+b;var j=new Uint8Array(f);a.inflateRaw(S,j),u[E]=j}}},a.inflateRaw=function(l,o){return a.F.inflate(l,o)},a.inflate=function(l,o){return l[0],l[1],a.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),o)},a.deflate=function(l,o){o==null&&(o={level:6});var u=0,d=new Uint8Array(50+Math.floor(1.1*l.length));d[u]=120,d[u+1]=156,u+=2,u=a.F.deflateRaw(l,d,u,o.level);var f=a.adler(l,0,l.length);return d[u+0]=f>>>24&255,d[u+1]=f>>>16&255,d[u+2]=f>>>8&255,d[u+3]=f>>>0&255,new Uint8Array(d.buffer,0,u+4)},a.deflateRaw=function(l,o){o==null&&(o={level:6});var u=new Uint8Array(50+Math.floor(1.1*l.length)),d=a.F.deflateRaw(l,u,d,o.level);return new Uint8Array(u.buffer,0,d)},a.encode=function(l,o){o==null&&(o=!1);var u=0,d=a.bin.writeUint,f=a.bin.writeUshort,p={};for(var h in l){var y=!a._noNeed(h)&&!o,b=l[h],x=a.crc.crc(b,0,b.length);p[h]={cpr:y,usize:b.length,crc:x,file:y?a.deflateRaw(b):b}}for(var h in p)u+=p[h].file.length+30+46+2*a.bin.sizeUTF8(h);u+=22;var w=new Uint8Array(u),E=0,S=[];for(var h in p){var j=p[h];S.push(E),E=a._writeHeader(w,E,h,j,0)}var L=0,T=E;for(var h in p)j=p[h],S.push(E),E=a._writeHeader(w,E,h,j,1,S[L++]);var B=E-T;return d(w,E,101010256),E+=4,f(w,E+=4,L),f(w,E+=2,L),d(w,E+=2,B),d(w,E+=4,T),E+=4,E+=2,w.buffer},a._noNeed=function(l){var o=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},a._writeHeader=function(l,o,u,d,f,p){var h=a.bin.writeUint,y=a.bin.writeUshort,b=d.file;return h(l,o,f==0?67324752:33639248),o+=4,f==1&&(o+=2),y(l,o,20),y(l,o+=2,0),y(l,o+=2,d.cpr?8:0),h(l,o+=2,0),h(l,o+=4,d.crc),h(l,o+=4,b.length),h(l,o+=4,d.usize),y(l,o+=4,a.bin.sizeUTF8(u)),y(l,o+=2,0),o+=2,f==1&&(o+=2,o+=2,h(l,o+=6,p),o+=4),o+=a.bin.writeUTF8(l,o,u),f==0&&(l.set(b,o),o+=b.length),o},a.crc={table:(function(){for(var l=new Uint32Array(256),o=0;o<256;o++){for(var u=o,d=0;d<8;d++)1&u?u=3988292384^u>>>1:u>>>=1;l[o]=u}return l})(),update:function(l,o,u,d){for(var f=0;f<d;f++)l=a.crc.table[255&(l^o[u+f])]^l>>>8;return l},crc:function(l,o,u){return 4294967295^a.crc.update(4294967295,l,o,u)}},a.adler=function(l,o,u){for(var d=1,f=0,p=o,h=o+u;p<h;){for(var y=Math.min(p+5552,h);p<y;)f+=d+=l[p++];d%=65521,f%=65521}return f<<16|d},a.bin={readUshort:function(l,o){return l[o]|l[o+1]<<8},writeUshort:function(l,o,u){l[o]=255&u,l[o+1]=u>>8&255},readUint:function(l,o){return 16777216*l[o+3]+(l[o+2]<<16|l[o+1]<<8|l[o])},writeUint:function(l,o,u){l[o]=255&u,l[o+1]=u>>8&255,l[o+2]=u>>16&255,l[o+3]=u>>24&255},readASCII:function(l,o,u){for(var d="",f=0;f<u;f++)d+=String.fromCharCode(l[o+f]);return d},writeASCII:function(l,o,u){for(var d=0;d<u.length;d++)l[o+d]=u.charCodeAt(d)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,o,u){for(var d,f="",p=0;p<u;p++)f+="%"+a.bin.pad(l[o+p].toString(16));try{d=decodeURIComponent(f)}catch{return a.bin.readASCII(l,o,u)}return d},writeUTF8:function(l,o,u){for(var d=u.length,f=0,p=0;p<d;p++){var h=u.charCodeAt(p);if((4294967168&h)==0)l[o+f]=h,f++;else if((4294965248&h)==0)l[o+f]=192|h>>6,l[o+f+1]=128|h>>0&63,f+=2;else if((4294901760&h)==0)l[o+f]=224|h>>12,l[o+f+1]=128|h>>6&63,l[o+f+2]=128|h>>0&63,f+=3;else{if((4292870144&h)!=0)throw"e";l[o+f]=240|h>>18,l[o+f+1]=128|h>>12&63,l[o+f+2]=128|h>>6&63,l[o+f+3]=128|h>>0&63,f+=4}}return f},sizeUTF8:function(l){for(var o=l.length,u=0,d=0;d<o;d++){var f=l.charCodeAt(d);if((4294967168&f)==0)u++;else if((4294965248&f)==0)u+=2;else if((4294901760&f)==0)u+=3;else{if((4292870144&f)!=0)throw"e";u+=4}}return u}},a.F={},a.F.deflateRaw=function(l,o,u,d){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],p=a.F.U,h=a.F._goodIndex;a.F._hash;var y=a.F._putsE,b=0,x=u<<3,w=0,E=l.length;if(d==0){for(;b<E;)y(o,x,b+(P=Math.min(65535,E-b))==E?1:0),x=a.F._copyExact(l,b,P,o,x+8),b+=P;return x>>>3}var S=p.lits,j=p.strt,L=p.prev,T=0,B=0,V=0,A=0,M=0,C=0;for(E>2&&(j[C=a.F._hash(l,0)]=0),b=0;b<E;b++){if(M=C,b+1<E-2){C=a.F._hash(l,b+1);var R=b+1&32767;L[R]=j[C],j[C]=R}if(w<=b){(T>14e3||B>26697)&&E-b>100&&(w<b&&(S[T]=b-w,T+=2,w=b),x=a.F._writeBlock(b==E-1||w==E?1:0,S,T,A,l,V,b-V,o,x),T=B=A=0,V=b);var I=0;b<E-2&&(I=a.F._bestMatch(l,b,L,M,Math.min(f[2],E-b),f[3]));var P=I>>>16,H=65535&I;if(I!=0){H=65535&I;var G=h(P=I>>>16,p.of0);p.lhst[257+G]++;var q=h(H,p.df0);p.dhst[q]++,A+=p.exb[G]+p.dxb[q],S[T]=P<<23|b-w,S[T+1]=H<<16|G<<8|q,T+=2,w=b+P}else p.lhst[l[b]]++;B++}}for(V==b&&l.length!=0||(w<b&&(S[T]=b-w,T+=2,w=b),x=a.F._writeBlock(1,S,T,A,l,V,b-V,o,x),T=0,B=0,T=B=A=0,V=b);(7&x)!=0;)x++;return x>>>3},a.F._bestMatch=function(l,o,u,d,f,p){var h=32767&o,y=u[h],b=h-y+32768&32767;if(y==h||d!=a.F._hash(l,o-b))return 0;for(var x=0,w=0,E=Math.min(32767,o);b<=E&&--p!=0&&y!=h;){if(x==0||l[o+x]==l[o+x-b]){var S=a.F._howLong(l,o,b);if(S>x){if(w=b,(x=S)>=f)break;b+2<S&&(S=b+2);for(var j=0,L=0;L<S-2;L++){var T=o-b+L+32768&32767,B=T-u[T]+32768&32767;B>j&&(j=B,y=T)}}}b+=(h=y)-(y=u[h])+32768&32767}return x<<16|w},a.F._howLong=function(l,o,u){if(l[o]!=l[o-u]||l[o+1]!=l[o+1-u]||l[o+2]!=l[o+2-u])return 0;var d=o,f=Math.min(l.length,o+258);for(o+=3;o<f&&l[o]==l[o-u];)o++;return o-d},a.F._hash=function(l,o){return(l[o]<<8|l[o+1])+(l[o+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(l,o,u,d,f,p,h,y,b){var x,w,E,S,j,L,T,B,V,A=a.F.U,M=a.F._putsF,C=a.F._putsE;A.lhst[256]++,w=(x=a.F.getTrees())[0],E=x[1],S=x[2],j=x[3],L=x[4],T=x[5],B=x[6],V=x[7];var R=32+((b+3&7)==0?0:8-(b+3&7))+(h<<3),I=d+a.F.contSize(A.fltree,A.lhst)+a.F.contSize(A.fdtree,A.dhst),P=d+a.F.contSize(A.ltree,A.lhst)+a.F.contSize(A.dtree,A.dhst);P+=14+3*T+a.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var H=0;H<286;H++)A.lhst[H]=0;for(H=0;H<30;H++)A.dhst[H]=0;for(H=0;H<19;H++)A.ihst[H]=0;var G=R<I&&R<P?0:I<P?1:2;if(M(y,b,l),M(y,b+1,G),b+=3,G==0){for(;(7&b)!=0;)b++;b=a.F._copyExact(f,p,h,y,b)}else{var q,F;if(G==1&&(q=A.fltree,F=A.fdtree),G==2){a.F.makeCodes(A.ltree,w),a.F.revCodes(A.ltree,w),a.F.makeCodes(A.dtree,E),a.F.revCodes(A.dtree,E),a.F.makeCodes(A.itree,S),a.F.revCodes(A.itree,S),q=A.ltree,F=A.dtree,C(y,b,j-257),C(y,b+=5,L-1),C(y,b+=5,T-4),b+=4;for(var k=0;k<T;k++)C(y,b+3*k,A.itree[1+(A.ordr[k]<<1)]);b+=3*T,b=a.F._codeTiny(B,A.itree,y,b),b=a.F._codeTiny(V,A.itree,y,b)}for(var N=p,Z=0;Z<u;Z+=2){for(var X=o[Z],O=X>>>23,$=N+(8388607&X);N<$;)b=a.F._writeLit(f[N++],q,y,b);if(O!=0){var K=o[Z+1],D=K>>16,ee=K>>8&255,W=255&K;C(y,b=a.F._writeLit(257+ee,q,y,b),O-A.of0[ee]),b+=A.exb[ee],M(y,b=a.F._writeLit(W,F,y,b),D-A.df0[W]),b+=A.dxb[W],N+=O}}b=a.F._writeLit(256,q,y,b)}return b},a.F._copyExact=function(l,o,u,d,f){var p=f>>>3;return d[p]=u,d[p+1]=u>>>8,d[p+2]=255-d[p],d[p+3]=255-d[p+1],p+=4,d.set(new Uint8Array(l.buffer,o,u),p),f+(u+4<<3)},a.F.getTrees=function(){for(var l=a.F.U,o=a.F._hufTree(l.lhst,l.ltree,15),u=a.F._hufTree(l.dhst,l.dtree,15),d=[],f=a.F._lenCodes(l.ltree,d),p=[],h=a.F._lenCodes(l.dtree,p),y=0;y<d.length;y+=2)l.ihst[d[y]]++;for(y=0;y<p.length;y+=2)l.ihst[p[y]]++;for(var b=a.F._hufTree(l.ihst,l.itree,7),x=19;x>4&&l.itree[1+(l.ordr[x-1]<<1)]==0;)x--;return[o,u,b,f,h,x,d,p]},a.F.getSecond=function(l){for(var o=[],u=0;u<l.length;u+=2)o.push(l[u+1]);return o},a.F.nonZero=function(l){for(var o="",u=0;u<l.length;u+=2)l[u+1]!=0&&(o+=(u>>1)+",");return o},a.F.contSize=function(l,o){for(var u=0,d=0;d<o.length;d++)u+=o[d]*l[1+(d<<1)];return u},a.F._codeTiny=function(l,o,u,d){for(var f=0;f<l.length;f+=2){var p=l[f],h=l[f+1];d=a.F._writeLit(p,o,u,d);var y=p==16?2:p==17?3:7;p>15&&(a.F._putsE(u,d,h,y),d+=y)}return d},a.F._lenCodes=function(l,o){for(var u=l.length;u!=2&&l[u-1]==0;)u-=2;for(var d=0;d<u;d+=2){var f=l[d+1],p=d+3<u?l[d+3]:-1,h=d+5<u?l[d+5]:-1,y=d==0?-1:l[d-1];if(f==0&&p==f&&h==f){for(var b=d+5;b+2<u&&l[b+2]==f;)b+=2;(x=Math.min(b+1-d>>>1,138))<11?o.push(17,x-3):o.push(18,x-11),d+=2*x-2}else if(f==y&&p==f&&h==f){for(b=d+5;b+2<u&&l[b+2]==f;)b+=2;var x=Math.min(b+1-d>>>1,6);o.push(16,x-3),d+=2*x-2}else o.push(f,0)}return u>>>1},a.F._hufTree=function(l,o,u){var d=[],f=l.length,p=o.length,h=0;for(h=0;h<p;h+=2)o[h]=0,o[h+1]=0;for(h=0;h<f;h++)l[h]!=0&&d.push({lit:h,f:l[h]});var y=d.length,b=d.slice(0);if(y==0)return 0;if(y==1){var x=d[0].lit;return b=x==0?1:0,o[1+(x<<1)]=1,o[1+(b<<1)]=1,1}d.sort((function(B,V){return B.f-V.f}));var w=d[0],E=d[1],S=0,j=1,L=2;for(d[0]={lit:-1,f:w.f+E.f,l:w,r:E,d:0};j!=y-1;)w=S!=j&&(L==y||d[S].f<d[L].f)?d[S++]:d[L++],E=S!=j&&(L==y||d[S].f<d[L].f)?d[S++]:d[L++],d[j++]={lit:-1,f:w.f+E.f,l:w,r:E};var T=a.F.setDepth(d[j-1],0);for(T>u&&(a.F.restrictDepth(b,u,T),T=u),h=0;h<y;h++)o[1+(b[h].lit<<1)]=b[h].d;return T},a.F.setDepth=function(l,o){return l.lit!=-1?(l.d=o,o):Math.max(a.F.setDepth(l.l,o+1),a.F.setDepth(l.r,o+1))},a.F.restrictDepth=function(l,o,u){var d=0,f=1<<u-o,p=0;for(l.sort((function(y,b){return b.d==y.d?y.f-b.f:b.d-y.d})),d=0;d<l.length&&l[d].d>o;d++){var h=l[d].d;l[d].d=o,p+=f-(1<<u-h)}for(p>>>=u-o;p>0;)(h=l[d].d)<o?(l[d].d++,p-=1<<o-h-1):d++;for(;d>=0;d--)l[d].d==o&&p<0&&(l[d].d--,p++);p!=0&&console.log("debt left")},a.F._goodIndex=function(l,o){var u=0;return o[16|u]<=l&&(u|=16),o[8|u]<=l&&(u|=8),o[4|u]<=l&&(u|=4),o[2|u]<=l&&(u|=2),o[1|u]<=l&&(u|=1),u},a.F._writeLit=function(l,o,u,d){return a.F._putsF(u,d,o[l<<1]),d+o[1+(l<<1)]},a.F.inflate=function(l,o){var u=Uint8Array;if(l[0]==3&&l[1]==0)return o||new u(0);var d=a.F,f=d._bitsF,p=d._bitsE,h=d._decodeTiny,y=d.makeCodes,b=d.codes2map,x=d._get17,w=d.U,E=o==null;E&&(o=new u(l.length>>>2<<3));for(var S,j,L=0,T=0,B=0,V=0,A=0,M=0,C=0,R=0,I=0;L==0;)if(L=f(l,I,1),T=f(l,I+1,2),I+=3,T!=0){if(E&&(o=a.F._check(o,R+(1<<17))),T==1&&(S=w.flmap,j=w.fdmap,M=511,C=31),T==2){B=p(l,I,5)+257,V=p(l,I+5,5)+1,A=p(l,I+10,4)+4,I+=14;for(var P=0;P<38;P+=2)w.itree[P]=0,w.itree[P+1]=0;var H=1;for(P=0;P<A;P++){var G=p(l,I+3*P,3);w.itree[1+(w.ordr[P]<<1)]=G,G>H&&(H=G)}I+=3*A,y(w.itree,H),b(w.itree,H,w.imap),S=w.lmap,j=w.dmap,I=h(w.imap,(1<<H)-1,B+V,l,I,w.ttree);var q=d._copyOut(w.ttree,0,B,w.ltree);M=(1<<q)-1;var F=d._copyOut(w.ttree,B,V,w.dtree);C=(1<<F)-1,y(w.ltree,q),b(w.ltree,q,S),y(w.dtree,F),b(w.dtree,F,j)}for(;;){var k=S[x(l,I)&M];I+=15&k;var N=k>>>4;if(!(N>>>8))o[R++]=N;else{if(N==256)break;var Z=R+N-254;if(N>264){var X=w.ldef[N-257];Z=R+(X>>>3)+p(l,I,7&X),I+=7&X}var O=j[x(l,I)&C];I+=15&O;var $=O>>>4,K=w.ddef[$],D=(K>>>4)+f(l,I,15&K);for(I+=15&K,E&&(o=a.F._check(o,R+(1<<17)));R<Z;)o[R]=o[R++-D],o[R]=o[R++-D],o[R]=o[R++-D],o[R]=o[R++-D];R=Z}}}else{(7&I)!=0&&(I+=8-(7&I));var ee=4+(I>>>3),W=l[ee-4]|l[ee-3]<<8;E&&(o=a.F._check(o,R+W)),o.set(new u(l.buffer,l.byteOffset+ee,W),R),I=ee+W<<3,R+=W}return o.length==R?o:o.slice(0,R)},a.F._check=function(l,o){var u=l.length;if(o<=u)return l;var d=new Uint8Array(Math.max(u<<1,o));return d.set(l,0),d},a.F._decodeTiny=function(l,o,u,d,f,p){for(var h=a.F._bitsE,y=a.F._get17,b=0;b<u;){var x=l[y(d,f)&o];f+=15&x;var w=x>>>4;if(w<=15)p[b]=w,b++;else{var E=0,S=0;w==16?(S=3+h(d,f,2),f+=2,E=p[b-1]):w==17?(S=3+h(d,f,3),f+=3):w==18&&(S=11+h(d,f,7),f+=7);for(var j=b+S;b<j;)p[b]=E,b++}}return f},a.F._copyOut=function(l,o,u,d){for(var f=0,p=0,h=d.length>>>1;p<u;){var y=l[p+o];d[p<<1]=0,d[1+(p<<1)]=y,y>f&&(f=y),p++}for(;p<h;)d[p<<1]=0,d[1+(p<<1)]=0,p++;return f},a.F.makeCodes=function(l,o){for(var u,d,f,p,h=a.F.U,y=l.length,b=h.bl_count,x=0;x<=o;x++)b[x]=0;for(x=1;x<y;x+=2)b[l[x]]++;var w=h.next_code;for(u=0,b[0]=0,d=1;d<=o;d++)u=u+b[d-1]<<1,w[d]=u;for(f=0;f<y;f+=2)(p=l[f+1])!=0&&(l[f]=w[p],w[p]++)},a.F.codes2map=function(l,o,u){for(var d=l.length,f=a.F.U.rev15,p=0;p<d;p+=2)if(l[p+1]!=0)for(var h=p>>1,y=l[p+1],b=h<<4|y,x=o-y,w=l[p]<<x,E=w+(1<<x);w!=E;)u[f[w]>>>15-o]=b,w++},a.F.revCodes=function(l,o){for(var u=a.F.U.rev15,d=15-o,f=0;f<l.length;f+=2){var p=l[f]<<o-l[f+1];l[f]=u[p]>>>d}},a.F._putsE=function(l,o,u){u<<=7&o;var d=o>>>3;l[d]|=u,l[d+1]|=u>>>8},a.F._putsF=function(l,o,u){u<<=7&o;var d=o>>>3;l[d]|=u,l[d+1]|=u>>>8,l[d+2]|=u>>>16},a.F._bitsE=function(l,o,u){return(l[o>>>3]|l[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},a.F._bitsF=function(l,o,u){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},a.F._get17=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)},a.F._get25=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16|l[3+(o>>>3)]<<24)>>>(7&o)},a.F.U=(t=Uint16Array,i=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var l=a.F.U,o=0;o<32768;o++){var u=o;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,l.rev15[o]=(u>>>16|u<<16)>>>17}function d(f,p,h){for(;p--!=0;)f.push(0,h)}for(o=0;o<32;o++)l.ldef[o]=l.of0[o]<<3|l.exb[o],l.ddef[o]=l.df0[o]<<4|l.dxb[o];d(l.fltree,144,8),d(l.fltree,112,9),d(l.fltree,24,7),d(l.fltree,8,8),a.F.makeCodes(l.fltree,9),a.F.codes2map(l.fltree,9,l.flmap),a.F.revCodes(l.fltree,9),d(l.fdtree,32,5),a.F.makeCodes(l.fdtree,5),a.F.codes2map(l.fdtree,5,l.fdmap),a.F.revCodes(l.fdtree,5),d(l.itree,19,0),d(l.ltree,286,0),d(l.dtree,30,0),d(l.ttree,320,0)})()})();var vE=pE({__proto__:null,default:Bo},[Bo]);const Vn=(function(){var n={nextZero(h,y){for(;h[y]!=0;)y++;return y},readUshort:(h,y)=>h[y]<<8|h[y+1],writeUshort(h,y,b){h[y]=b>>8&255,h[y+1]=255&b},readUint:(h,y)=>16777216*h[y]+(h[y+1]<<16|h[y+2]<<8|h[y+3]),writeUint(h,y,b){h[y]=b>>24&255,h[y+1]=b>>16&255,h[y+2]=b>>8&255,h[y+3]=255&b},readASCII(h,y,b){let x="";for(let w=0;w<b;w++)x+=String.fromCharCode(h[y+w]);return x},writeASCII(h,y,b){for(let x=0;x<b.length;x++)h[y+x]=b.charCodeAt(x)},readBytes(h,y,b){const x=[];for(let w=0;w<b;w++)x.push(h[y+w]);return x},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,y,b){let x,w="";for(let E=0;E<b;E++)w+=`%${n.pad(h[y+E].toString(16))}`;try{x=decodeURIComponent(w)}catch{return n.readASCII(h,y,b)}return x}};function t(h,y,b,x){const w=y*b,E=o(x),S=Math.ceil(y*E/8),j=new Uint8Array(4*w),L=new Uint32Array(j.buffer),{ctype:T}=x,{depth:B}=x,V=n.readUshort;if(T==6){const X=w<<2;if(B==8)for(var A=0;A<X;A+=4)j[A]=h[A],j[A+1]=h[A+1],j[A+2]=h[A+2],j[A+3]=h[A+3];if(B==16)for(A=0;A<X;A++)j[A]=h[A<<1]}else if(T==2){const X=x.tabs.tRNS;if(X==null){if(B==8)for(A=0;A<w;A++){var M=3*A;L[A]=255<<24|h[M+2]<<16|h[M+1]<<8|h[M]}if(B==16)for(A=0;A<w;A++)M=6*A,L[A]=255<<24|h[M+4]<<16|h[M+2]<<8|h[M]}else{var C=X[0];const O=X[1],$=X[2];if(B==8)for(A=0;A<w;A++){var R=A<<2;M=3*A,L[A]=255<<24|h[M+2]<<16|h[M+1]<<8|h[M],h[M]==C&&h[M+1]==O&&h[M+2]==$&&(j[R+3]=0)}if(B==16)for(A=0;A<w;A++)R=A<<2,M=6*A,L[A]=255<<24|h[M+4]<<16|h[M+2]<<8|h[M],V(h,M)==C&&V(h,M+2)==O&&V(h,M+4)==$&&(j[R+3]=0)}}else if(T==3){const X=x.tabs.PLTE,O=x.tabs.tRNS,$=O?O.length:0;if(B==1)for(var I=0;I<b;I++){var P=I*S,H=I*y;for(A=0;A<y;A++){R=H+A<<2;var G=3*(q=h[P+(A>>3)]>>7-((7&A)<<0)&1);j[R]=X[G],j[R+1]=X[G+1],j[R+2]=X[G+2],j[R+3]=q<$?O[q]:255}}if(B==2)for(I=0;I<b;I++)for(P=I*S,H=I*y,A=0;A<y;A++)R=H+A<<2,G=3*(q=h[P+(A>>2)]>>6-((3&A)<<1)&3),j[R]=X[G],j[R+1]=X[G+1],j[R+2]=X[G+2],j[R+3]=q<$?O[q]:255;if(B==4)for(I=0;I<b;I++)for(P=I*S,H=I*y,A=0;A<y;A++)R=H+A<<2,G=3*(q=h[P+(A>>1)]>>4-((1&A)<<2)&15),j[R]=X[G],j[R+1]=X[G+1],j[R+2]=X[G+2],j[R+3]=q<$?O[q]:255;if(B==8)for(A=0;A<w;A++){var q;R=A<<2,G=3*(q=h[A]),j[R]=X[G],j[R+1]=X[G+1],j[R+2]=X[G+2],j[R+3]=q<$?O[q]:255}}else if(T==4){if(B==8)for(A=0;A<w;A++){R=A<<2;var F=h[k=A<<1];j[R]=F,j[R+1]=F,j[R+2]=F,j[R+3]=h[k+1]}if(B==16)for(A=0;A<w;A++){var k;R=A<<2,F=h[k=A<<2],j[R]=F,j[R+1]=F,j[R+2]=F,j[R+3]=h[k+2]}}else if(T==0)for(C=x.tabs.tRNS?x.tabs.tRNS:-1,I=0;I<b;I++){const X=I*S,O=I*y;if(B==1)for(var N=0;N<y;N++){var Z=(F=255*(h[X+(N>>>3)]>>>7-(7&N)&1))==255*C?0:255;L[O+N]=Z<<24|F<<16|F<<8|F}else if(B==2)for(N=0;N<y;N++)Z=(F=85*(h[X+(N>>>2)]>>>6-((3&N)<<1)&3))==85*C?0:255,L[O+N]=Z<<24|F<<16|F<<8|F;else if(B==4)for(N=0;N<y;N++)Z=(F=17*(h[X+(N>>>1)]>>>4-((1&N)<<2)&15))==17*C?0:255,L[O+N]=Z<<24|F<<16|F<<8|F;else if(B==8)for(N=0;N<y;N++)Z=(F=h[X+N])==C?0:255,L[O+N]=Z<<24|F<<16|F<<8|F;else if(B==16)for(N=0;N<y;N++)F=h[X+(N<<1)],Z=V(h,X+(N<<1))==C?0:255,L[O+N]=Z<<24|F<<16|F<<8|F}return j}function i(h,y,b,x){const w=o(h),E=Math.ceil(b*w/8),S=new Uint8Array((E+1+h.interlace)*x);return y=h.tabs.CgBI?l(y,S):a(y,S),h.interlace==0?y=u(y,h,0,b,x):h.interlace==1&&(y=(function(L,T){const B=T.width,V=T.height,A=o(T),M=A>>3,C=Math.ceil(B*A/8),R=new Uint8Array(V*C);let I=0;const P=[0,0,4,0,2,0,1],H=[0,4,0,2,0,1,0],G=[8,8,8,4,4,2,2],q=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const N=G[F],Z=q[F];let X=0,O=0,$=P[F];for(;$<V;)$+=N,O++;let K=H[F];for(;K<B;)K+=Z,X++;const D=Math.ceil(X*A/8);u(L,T,I,X,O);let ee=0,W=P[F];for(;W<V;){let te=H[F],he=I+ee*D<<3;for(;te<B;){var k;if(A==1&&(k=(k=L[he>>3])>>7-(7&he)&1,R[W*C+(te>>3)]|=k<<7-((7&te)<<0)),A==2&&(k=(k=L[he>>3])>>6-(7&he)&3,R[W*C+(te>>2)]|=k<<6-((3&te)<<1)),A==4&&(k=(k=L[he>>3])>>4-(7&he)&15,R[W*C+(te>>1)]|=k<<4-((1&te)<<2)),A>=8){const oe=W*C+te*M;for(let fe=0;fe<M;fe++)R[oe+fe]=L[(he>>3)+fe]}he+=A,te+=Z}ee++,W+=N}X*O!=0&&(I+=O*(1+D)),F+=1}return R})(y,h)),y}function a(h,y){return l(new Uint8Array(h.buffer,2,h.length-6),y)}var l=(function(){const h={H:{}};return h.H.N=function(y,b){const x=Uint8Array;let w,E,S=0,j=0,L=0,T=0,B=0,V=0,A=0,M=0,C=0;if(y[0]==3&&y[1]==0)return b||new x(0);const R=h.H,I=R.b,P=R.e,H=R.R,G=R.n,q=R.A,F=R.Z,k=R.m,N=b==null;for(N&&(b=new x(y.length>>>2<<5));S==0;)if(S=I(y,C,1),j=I(y,C+1,2),C+=3,j!=0){if(N&&(b=h.H.W(b,M+(1<<17))),j==1&&(w=k.J,E=k.h,V=511,A=31),j==2){L=P(y,C,5)+257,T=P(y,C+5,5)+1,B=P(y,C+10,4)+4,C+=14;let X=1;for(var Z=0;Z<38;Z+=2)k.Q[Z]=0,k.Q[Z+1]=0;for(Z=0;Z<B;Z++){const K=P(y,C+3*Z,3);k.Q[1+(k.X[Z]<<1)]=K,K>X&&(X=K)}C+=3*B,G(k.Q,X),q(k.Q,X,k.u),w=k.w,E=k.d,C=H(k.u,(1<<X)-1,L+T,y,C,k.v);const O=R.V(k.v,0,L,k.C);V=(1<<O)-1;const $=R.V(k.v,L,T,k.D);A=(1<<$)-1,G(k.C,O),q(k.C,O,w),G(k.D,$),q(k.D,$,E)}for(;;){const X=w[F(y,C)&V];C+=15&X;const O=X>>>4;if(!(O>>>8))b[M++]=O;else{if(O==256)break;{let $=M+O-254;if(O>264){const te=k.q[O-257];$=M+(te>>>3)+P(y,C,7&te),C+=7&te}const K=E[F(y,C)&A];C+=15&K;const D=K>>>4,ee=k.c[D],W=(ee>>>4)+I(y,C,15&ee);for(C+=15&ee;M<$;)b[M]=b[M++-W],b[M]=b[M++-W],b[M]=b[M++-W],b[M]=b[M++-W];M=$}}}}else{(7&C)!=0&&(C+=8-(7&C));const X=4+(C>>>3),O=y[X-4]|y[X-3]<<8;N&&(b=h.H.W(b,M+O)),b.set(new x(y.buffer,y.byteOffset+X,O),M),C=X+O<<3,M+=O}return b.length==M?b:b.slice(0,M)},h.H.W=function(y,b){const x=y.length;if(b<=x)return y;const w=new Uint8Array(x<<1);return w.set(y,0),w},h.H.R=function(y,b,x,w,E,S){const j=h.H.e,L=h.H.Z;let T=0;for(;T<x;){const B=y[L(w,E)&b];E+=15&B;const V=B>>>4;if(V<=15)S[T]=V,T++;else{let A=0,M=0;V==16?(M=3+j(w,E,2),E+=2,A=S[T-1]):V==17?(M=3+j(w,E,3),E+=3):V==18&&(M=11+j(w,E,7),E+=7);const C=T+M;for(;T<C;)S[T]=A,T++}}return E},h.H.V=function(y,b,x,w){let E=0,S=0;const j=w.length>>>1;for(;S<x;){const L=y[S+b];w[S<<1]=0,w[1+(S<<1)]=L,L>E&&(E=L),S++}for(;S<j;)w[S<<1]=0,w[1+(S<<1)]=0,S++;return E},h.H.n=function(y,b){const x=h.H.m,w=y.length;let E,S,j,L;const T=x.j;for(var B=0;B<=b;B++)T[B]=0;for(B=1;B<w;B+=2)T[y[B]]++;const V=x.K;for(E=0,T[0]=0,S=1;S<=b;S++)E=E+T[S-1]<<1,V[S]=E;for(j=0;j<w;j+=2)L=y[j+1],L!=0&&(y[j]=V[L],V[L]++)},h.H.A=function(y,b,x){const w=y.length,E=h.H.m.r;for(let S=0;S<w;S+=2)if(y[S+1]!=0){const j=S>>1,L=y[S+1],T=j<<4|L,B=b-L;let V=y[S]<<B;const A=V+(1<<B);for(;V!=A;)x[E[V]>>>15-b]=T,V++}},h.H.l=function(y,b){const x=h.H.m.r,w=15-b;for(let E=0;E<y.length;E+=2){const S=y[E]<<b-y[E+1];y[E]=x[S]>>>w}},h.H.M=function(y,b,x){x<<=7&b;const w=b>>>3;y[w]|=x,y[w+1]|=x>>>8},h.H.I=function(y,b,x){x<<=7&b;const w=b>>>3;y[w]|=x,y[w+1]|=x>>>8,y[w+2]|=x>>>16},h.H.e=function(y,b,x){return(y[b>>>3]|y[1+(b>>>3)]<<8)>>>(7&b)&(1<<x)-1},h.H.b=function(y,b,x){return(y[b>>>3]|y[1+(b>>>3)]<<8|y[2+(b>>>3)]<<16)>>>(7&b)&(1<<x)-1},h.H.Z=function(y,b){return(y[b>>>3]|y[1+(b>>>3)]<<8|y[2+(b>>>3)]<<16)>>>(7&b)},h.H.i=function(y,b){return(y[b>>>3]|y[1+(b>>>3)]<<8|y[2+(b>>>3)]<<16|y[3+(b>>>3)]<<24)>>>(7&b)},h.H.m=(function(){const y=Uint16Array,b=Uint32Array;return{K:new y(16),j:new y(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new y(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new b(32),J:new y(512),_:[],h:new y(32),$:[],w:new y(32768),C:[],v:[],d:new y(32768),D:[],u:new y(512),Q:[],r:new y(32768),s:new b(286),Y:new b(30),a:new b(19),t:new b(15e3),k:new y(65536),g:new y(32768)}})(),(function(){const y=h.H.m;for(var b=0;b<32768;b++){let w=b;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,y.r[b]=(w>>>16|w<<16)>>>17}function x(w,E,S){for(;E--!=0;)w.push(0,S)}for(b=0;b<32;b++)y.q[b]=y.S[b]<<3|y.T[b],y.c[b]=y.p[b]<<4|y.z[b];x(y._,144,8),x(y._,112,9),x(y._,24,7),x(y._,8,8),h.H.n(y._,9),h.H.A(y._,9,y.J),h.H.l(y._,9),x(y.$,32,5),h.H.n(y.$,5),h.H.A(y.$,5,y.h),h.H.l(y.$,5),x(y.Q,19,0),x(y.C,286,0),x(y.D,30,0),x(y.v,320,0)})(),h.H.N})();function o(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function u(h,y,b,x,w){let E=o(y);const S=Math.ceil(x*E/8);let j,L;E=Math.ceil(E/8);let T=h[b],B=0;if(T>1&&(h[b]=[0,0,1][T-2]),T==3)for(B=E;B<S;B++)h[B+1]=h[B+1]+(h[B+1-E]>>>1)&255;for(let V=0;V<w;V++)if(j=b+V*S,L=j+V+1,T=h[L-1],B=0,T==0)for(;B<S;B++)h[j+B]=h[L+B];else if(T==1){for(;B<E;B++)h[j+B]=h[L+B];for(;B<S;B++)h[j+B]=h[L+B]+h[j+B-E]}else if(T==2)for(;B<S;B++)h[j+B]=h[L+B]+h[j+B-S];else if(T==3){for(;B<E;B++)h[j+B]=h[L+B]+(h[j+B-S]>>>1);for(;B<S;B++)h[j+B]=h[L+B]+(h[j+B-S]+h[j+B-E]>>>1)}else{for(;B<E;B++)h[j+B]=h[L+B]+d(0,h[j+B-S],0);for(;B<S;B++)h[j+B]=h[L+B]+d(h[j+B-E],h[j+B-S],h[j+B-E-S])}return h}function d(h,y,b){const x=h+y-b,w=x-h,E=x-y,S=x-b;return w*w<=E*E&&w*w<=S*S?h:E*E<=S*S?y:b}function f(h,y,b){b.width=n.readUint(h,y),y+=4,b.height=n.readUint(h,y),y+=4,b.depth=h[y],y++,b.ctype=h[y],y++,b.compress=h[y],y++,b.filter=h[y],y++,b.interlace=h[y],y++}function p(h,y,b,x,w,E,S,j,L){const T=Math.min(y,w),B=Math.min(b,E);let V=0,A=0;for(let F=0;F<B;F++)for(let k=0;k<T;k++)if(S>=0&&j>=0?(V=F*y+k<<2,A=(j+F)*w+S+k<<2):(V=(-j+F)*y-S+k<<2,A=F*w+k<<2),L==0)x[A]=h[V],x[A+1]=h[V+1],x[A+2]=h[V+2],x[A+3]=h[V+3];else if(L==1){var M=h[V+3]*.00392156862745098,C=h[V]*M,R=h[V+1]*M,I=h[V+2]*M,P=x[A+3]*(1/255),H=x[A]*P,G=x[A+1]*P,q=x[A+2]*P;const N=1-M,Z=M+P*N,X=Z==0?0:1/Z;x[A+3]=255*Z,x[A+0]=(C+H*N)*X,x[A+1]=(R+G*N)*X,x[A+2]=(I+q*N)*X}else if(L==2)M=h[V+3],C=h[V],R=h[V+1],I=h[V+2],P=x[A+3],H=x[A],G=x[A+1],q=x[A+2],M==P&&C==H&&R==G&&I==q?(x[A]=0,x[A+1]=0,x[A+2]=0,x[A+3]=0):(x[A]=C,x[A+1]=R,x[A+2]=I,x[A+3]=M);else if(L==3){if(M=h[V+3],C=h[V],R=h[V+1],I=h[V+2],P=x[A+3],H=x[A],G=x[A+1],q=x[A+2],M==P&&C==H&&R==G&&I==q)continue;if(M<220&&P>20)return!1}return!0}return{decode:function(y){const b=new Uint8Array(y);let x=8;const w=n,E=w.readUshort,S=w.readUint,j={tabs:{},frames:[]},L=new Uint8Array(b.length);let T,B=0,V=0;const A=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(b[M]!=A[M])throw"The input is not a PNG file!";for(;x<b.length;){const F=w.readUint(b,x);x+=4;const k=w.readASCII(b,x,4);if(x+=4,k=="IHDR")f(b,x,j);else if(k=="iCCP"){for(var C=x;b[C]!=0;)C++;w.readASCII(b,x,C-x),b[C+1];const N=b.slice(C+2,x+F);let Z=null;try{Z=a(N)}catch{Z=l(N)}j.tabs[k]=Z}else if(k=="CgBI")j.tabs[k]=b.slice(x,x+4);else if(k=="IDAT"){for(M=0;M<F;M++)L[B+M]=b[x+M];B+=F}else if(k=="acTL")j.tabs[k]={num_frames:S(b,x),num_plays:S(b,x+4)},T=new Uint8Array(b.length);else if(k=="fcTL"){V!=0&&((q=j.frames[j.frames.length-1]).data=i(j,T.slice(0,V),q.rect.width,q.rect.height),V=0);const N={x:S(b,x+12),y:S(b,x+16),width:S(b,x+4),height:S(b,x+8)};let Z=E(b,x+22);Z=E(b,x+20)/(Z==0?100:Z);const X={rect:N,delay:Math.round(1e3*Z),dispose:b[x+24],blend:b[x+25]};j.frames.push(X)}else if(k=="fdAT"){for(M=0;M<F-4;M++)T[V+M]=b[x+M+4];V+=F-4}else if(k=="pHYs")j.tabs[k]=[w.readUint(b,x),w.readUint(b,x+4),b[x+8]];else if(k=="cHRM")for(j.tabs[k]=[],M=0;M<8;M++)j.tabs[k].push(w.readUint(b,x+4*M));else if(k=="tEXt"||k=="zTXt"){j.tabs[k]==null&&(j.tabs[k]={});var R=w.nextZero(b,x),I=w.readASCII(b,x,R-x),P=x+F-R-1;if(k=="tEXt")G=w.readASCII(b,R+1,P);else{var H=a(b.slice(R+2,R+2+P));G=w.readUTF8(H,0,H.length)}j.tabs[k][I]=G}else if(k=="iTXt"){j.tabs[k]==null&&(j.tabs[k]={}),R=0,C=x,R=w.nextZero(b,C),I=w.readASCII(b,C,R-C);const N=b[C=R+1];var G;b[C+1],C+=2,R=w.nextZero(b,C),w.readASCII(b,C,R-C),C=R+1,R=w.nextZero(b,C),w.readUTF8(b,C,R-C),P=F-((C=R+1)-x),N==0?G=w.readUTF8(b,C,P):(H=a(b.slice(C,C+P)),G=w.readUTF8(H,0,H.length)),j.tabs[k][I]=G}else if(k=="PLTE")j.tabs[k]=w.readBytes(b,x,F);else if(k=="hIST"){const N=j.tabs.PLTE.length/3;for(j.tabs[k]=[],M=0;M<N;M++)j.tabs[k].push(E(b,x+2*M))}else if(k=="tRNS")j.ctype==3?j.tabs[k]=w.readBytes(b,x,F):j.ctype==0?j.tabs[k]=E(b,x):j.ctype==2&&(j.tabs[k]=[E(b,x),E(b,x+2),E(b,x+4)]);else if(k=="gAMA")j.tabs[k]=w.readUint(b,x)/1e5;else if(k=="sRGB")j.tabs[k]=b[x];else if(k=="bKGD")j.ctype==0||j.ctype==4?j.tabs[k]=[E(b,x)]:j.ctype==2||j.ctype==6?j.tabs[k]=[E(b,x),E(b,x+2),E(b,x+4)]:j.ctype==3&&(j.tabs[k]=b[x]);else if(k=="IEND")break;x+=F,w.readUint(b,x),x+=4}var q;return V!=0&&((q=j.frames[j.frames.length-1]).data=i(j,T.slice(0,V),q.rect.width,q.rect.height)),j.data=i(j,L,j.width,j.height),delete j.compress,delete j.interlace,delete j.filter,j},toRGBA8:function(y){const b=y.width,x=y.height;if(y.tabs.acTL==null)return[t(y.data,b,x,y).buffer];const w=[];y.frames[0].data==null&&(y.frames[0].data=y.data);const E=b*x*4,S=new Uint8Array(E),j=new Uint8Array(E),L=new Uint8Array(E);for(let B=0;B<y.frames.length;B++){const V=y.frames[B],A=V.rect.x,M=V.rect.y,C=V.rect.width,R=V.rect.height,I=t(V.data,C,R,y);if(B!=0)for(var T=0;T<E;T++)L[T]=S[T];if(V.blend==0?p(I,C,R,S,b,x,A,M,0):V.blend==1&&p(I,C,R,S,b,x,A,M,1),w.push(S.buffer.slice(0)),V.dispose!=0){if(V.dispose==1)p(j,C,R,S,b,x,A,M,0);else if(V.dispose==2)for(T=0;T<E;T++)S[T]=L[T]}}return w},_paeth:d,_copyTile:p,_bin:n}})();(function(){const{_copyTile:n}=Vn,{_bin:t}=Vn,i=Vn._paeth;var a={table:(function(){const C=new Uint32Array(256);for(let R=0;R<256;R++){let I=R;for(let P=0;P<8;P++)1&I?I=3988292384^I>>>1:I>>>=1;C[R]=I}return C})(),update(C,R,I,P){for(let H=0;H<P;H++)C=a.table[255&(C^R[I+H])]^C>>>8;return C},crc:(C,R,I)=>4294967295^a.update(4294967295,C,R,I)};function l(C,R,I,P){R[I]+=C[0]*P>>4,R[I+1]+=C[1]*P>>4,R[I+2]+=C[2]*P>>4,R[I+3]+=C[3]*P>>4}function o(C){return Math.max(0,Math.min(255,C))}function u(C,R){const I=C[0]-R[0],P=C[1]-R[1],H=C[2]-R[2],G=C[3]-R[3];return I*I+P*P+H*H+G*G}function d(C,R,I,P,H,G,q){q==null&&(q=1);const F=P.length,k=[];for(var N=0;N<F;N++){const W=P[N];k.push([W>>>0&255,W>>>8&255,W>>>16&255,W>>>24&255])}for(N=0;N<F;N++){let W=4294967295;for(var Z=0,X=0;X<F;X++){var O=u(k[N],k[X]);X!=N&&O<W&&(W=O,Z=X)}}const $=new Uint32Array(H.buffer),K=new Int16Array(R*I*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(N=0;N<D.length;N++)D[N]=255*((D[N]+.5)/16-.5);for(let W=0;W<I;W++)for(let te=0;te<R;te++){var ee;N=4*(W*R+te),q!=2?ee=[o(C[N]+K[N]),o(C[N+1]+K[N+1]),o(C[N+2]+K[N+2]),o(C[N+3]+K[N+3])]:(O=D[4*(3&W)+(3&te)],ee=[o(C[N]+O),o(C[N+1]+O),o(C[N+2]+O),o(C[N+3]+O)]),Z=0;let he=16777215;for(X=0;X<F;X++){const _e=u(ee,k[X]);_e<he&&(he=_e,Z=X)}const oe=k[Z],fe=[ee[0]-oe[0],ee[1]-oe[1],ee[2]-oe[2],ee[3]-oe[3]];q==1&&(te!=R-1&&l(fe,K,N+4,7),W!=I-1&&(te!=0&&l(fe,K,N+4*R-4,3),l(fe,K,N+4*R,5),te!=R-1&&l(fe,K,N+4*R+4,1))),G[N>>2]=Z,$[N>>2]=P[Z]}}function f(C,R,I,P,H){H==null&&(H={});const{crc:G}=a,q=t.writeUint,F=t.writeUshort,k=t.writeASCII;let N=8;const Z=C.frames.length>1;let X,O=!1,$=33+(Z?20:0);if(H.sRGB!=null&&($+=13),H.pHYs!=null&&($+=21),H.iCCP!=null&&(X=pako.deflate(H.iCCP),$+=21+X.length+4),C.ctype==3){for(var K=C.plte.length,D=0;D<K;D++)C.plte[D]>>>24!=255&&(O=!0);$+=8+3*K+4+(O?8+1*K+4:0)}for(var ee=0;ee<C.frames.length;ee++)Z&&($+=38),$+=(oe=C.frames[ee]).cimg.length+12,ee!=0&&($+=4);$+=12;const W=new Uint8Array($),te=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)W[D]=te[D];if(q(W,N,13),N+=4,k(W,N,"IHDR"),N+=4,q(W,N,R),N+=4,q(W,N,I),N+=4,W[N]=C.depth,N++,W[N]=C.ctype,N++,W[N]=0,N++,W[N]=0,N++,W[N]=0,N++,q(W,N,G(W,N-17,17)),N+=4,H.sRGB!=null&&(q(W,N,1),N+=4,k(W,N,"sRGB"),N+=4,W[N]=H.sRGB,N++,q(W,N,G(W,N-5,5)),N+=4),H.iCCP!=null){const fe=13+X.length;q(W,N,fe),N+=4,k(W,N,"iCCP"),N+=4,k(W,N,"ICC profile"),N+=11,N+=2,W.set(X,N),N+=X.length,q(W,N,G(W,N-(fe+4),fe+4)),N+=4}if(H.pHYs!=null&&(q(W,N,9),N+=4,k(W,N,"pHYs"),N+=4,q(W,N,H.pHYs[0]),N+=4,q(W,N,H.pHYs[1]),N+=4,W[N]=H.pHYs[2],N++,q(W,N,G(W,N-13,13)),N+=4),Z&&(q(W,N,8),N+=4,k(W,N,"acTL"),N+=4,q(W,N,C.frames.length),N+=4,q(W,N,H.loop!=null?H.loop:0),N+=4,q(W,N,G(W,N-12,12)),N+=4),C.ctype==3){for(q(W,N,3*(K=C.plte.length)),N+=4,k(W,N,"PLTE"),N+=4,D=0;D<K;D++){const fe=3*D,_e=C.plte[D],ve=255&_e,Ee=_e>>>8&255,Rt=_e>>>16&255;W[N+fe+0]=ve,W[N+fe+1]=Ee,W[N+fe+2]=Rt}if(N+=3*K,q(W,N,G(W,N-3*K-4,3*K+4)),N+=4,O){for(q(W,N,K),N+=4,k(W,N,"tRNS"),N+=4,D=0;D<K;D++)W[N+D]=C.plte[D]>>>24&255;N+=K,q(W,N,G(W,N-K-4,K+4)),N+=4}}let he=0;for(ee=0;ee<C.frames.length;ee++){var oe=C.frames[ee];Z&&(q(W,N,26),N+=4,k(W,N,"fcTL"),N+=4,q(W,N,he++),N+=4,q(W,N,oe.rect.width),N+=4,q(W,N,oe.rect.height),N+=4,q(W,N,oe.rect.x),N+=4,q(W,N,oe.rect.y),N+=4,F(W,N,P[ee]),N+=2,F(W,N,1e3),N+=2,W[N]=oe.dispose,N++,W[N]=oe.blend,N++,q(W,N,G(W,N-30,30)),N+=4);const fe=oe.cimg;q(W,N,(K=fe.length)+(ee==0?0:4)),N+=4;const _e=N;k(W,N,ee==0?"IDAT":"fdAT"),N+=4,ee!=0&&(q(W,N,he++),N+=4),W.set(fe,N),N+=K,q(W,N,G(W,_e,N-_e)),N+=4}return q(W,N,0),N+=4,k(W,N,"IEND"),N+=4,q(W,N,G(W,N-4,4)),N+=4,W.buffer}function p(C,R,I){for(let P=0;P<C.frames.length;P++){const H=C.frames[P];H.rect.width;const G=H.rect.height,q=new Uint8Array(G*H.bpl+G);H.cimg=x(H.img,G,H.bpp,H.bpl,q,R,I)}}function h(C,R,I,P,H){const G=H[0],q=H[1],F=H[2],k=H[3],N=H[4],Z=H[5];let X=6,O=8,$=255;for(var K=0;K<C.length;K++){const Qe=new Uint8Array(C[K]);for(var D=Qe.length,ee=0;ee<D;ee+=4)$&=Qe[ee+3]}const W=$!=255,te=(function(Ie,Ye,dt,vt,nt,Lt){const ft=[];for(var Oe=0;Oe<Ie.length;Oe++){const Ae=new Uint8Array(Ie[Oe]),lt=new Uint32Array(Ae.buffer);var Mt;let bt=0,ot=0,Ke=Ye,xt=dt,Fe=vt?1:0;if(Oe!=0){const Kn=Lt||vt||Oe==1||ft[Oe-2].dispose!=0?1:2;let Xt=0,Ws=1e9;for(let Qn=0;Qn<Kn;Qn++){var se=new Uint8Array(Ie[Oe-1-Qn]);const Ti=new Uint32Array(Ie[Oe-1-Qn]);let cn=Ye,Ft=dt,Bn=-1,In=-1;for(let Xn=0;Xn<dt;Xn++)for(let qn=0;qn<Ye;qn++)lt[ge=Xn*Ye+qn]!=Ti[ge]&&(qn<cn&&(cn=qn),qn>Bn&&(Bn=qn),Xn<Ft&&(Ft=Xn),Xn>In&&(In=Xn));Bn==-1&&(cn=Ft=Bn=In=0),nt&&((1&cn)==1&&cn--,(1&Ft)==1&&Ft--);const el=(Bn-cn+1)*(In-Ft+1);el<Ws&&(Ws=el,Xt=Qn,bt=cn,ot=Ft,Ke=Bn-cn+1,xt=In-Ft+1)}se=new Uint8Array(Ie[Oe-1-Xt]),Xt==1&&(ft[Oe-1].dispose=2),Mt=new Uint8Array(Ke*xt*4),n(se,Ye,dt,Mt,Ke,xt,-bt,-ot,0),Fe=n(Ae,Ye,dt,Mt,Ke,xt,-bt,-ot,3)?1:0,Fe==1?b(Ae,Ye,dt,Mt,{x:bt,y:ot,width:Ke,height:xt}):n(Ae,Ye,dt,Mt,Ke,xt,-bt,-ot,0)}else Mt=Ae.slice(0);ft.push({rect:{x:bt,y:ot,width:Ke,height:xt},img:Mt,blend:Fe,dispose:0})}if(vt)for(Oe=0;Oe<ft.length;Oe++){if((Te=ft[Oe]).blend==1)continue;const Ae=Te.rect,lt=ft[Oe-1].rect,bt=Math.min(Ae.x,lt.x),ot=Math.min(Ae.y,lt.y),Ke={x:bt,y:ot,width:Math.max(Ae.x+Ae.width,lt.x+lt.width)-bt,height:Math.max(Ae.y+Ae.height,lt.y+lt.height)-ot};ft[Oe-1].dispose=1,Oe-1!=0&&y(Ie,Ye,dt,ft,Oe-1,Ke,nt),y(Ie,Ye,dt,ft,Oe,Ke,nt)}let pe=0;if(Ie.length!=1)for(var ge=0;ge<ft.length;ge++){var Te;pe+=(Te=ft[ge]).rect.width*Te.rect.height}return ft})(C,R,I,G,q,F),he={},oe=[],fe=[];if(P!=0){const Qe=[];for(ee=0;ee<te.length;ee++)Qe.push(te[ee].img.buffer);const Ie=(function(nt){let Lt=0;for(var ft=0;ft<nt.length;ft++)Lt+=nt[ft].byteLength;const Oe=new Uint8Array(Lt);let Mt=0;for(ft=0;ft<nt.length;ft++){const se=new Uint8Array(nt[ft]),pe=se.length;for(let ge=0;ge<pe;ge+=4){let Te=se[ge],Ae=se[ge+1],lt=se[ge+2];const bt=se[ge+3];bt==0&&(Te=Ae=lt=0),Oe[Mt+ge]=Te,Oe[Mt+ge+1]=Ae,Oe[Mt+ge+2]=lt,Oe[Mt+ge+3]=bt}Mt+=pe}return Oe.buffer})(Qe),Ye=E(Ie,P);for(ee=0;ee<Ye.plte.length;ee++)oe.push(Ye.plte[ee].est.rgba);let dt=0;for(ee=0;ee<te.length;ee++){const vt=(ve=te[ee]).img.length;var _e=new Uint8Array(Ye.inds.buffer,dt>>2,vt>>2);fe.push(_e);const nt=new Uint8Array(Ye.abuf,dt,vt);Z&&d(ve.img,ve.rect.width,ve.rect.height,oe,nt,_e),ve.img.set(nt),dt+=vt}}else for(K=0;K<te.length;K++){var ve=te[K];const Qe=new Uint32Array(ve.img.buffer);var Ee=ve.rect.width;for(D=Qe.length,_e=new Uint8Array(D),fe.push(_e),ee=0;ee<D;ee++){const Ie=Qe[ee];if(ee!=0&&Ie==Qe[ee-1])_e[ee]=_e[ee-1];else if(ee>Ee&&Ie==Qe[ee-Ee])_e[ee]=_e[ee-Ee];else{let Ye=he[Ie];if(Ye==null&&(he[Ie]=Ye=oe.length,oe.push(Ie),oe.length>=300))break;_e[ee]=Ye}}}const Rt=oe.length;for(Rt<=256&&N==0&&(O=Rt<=2?1:Rt<=4?2:Rt<=16?4:8,O=Math.max(O,k)),K=0;K<te.length;K++){(ve=te[K]).rect.x,ve.rect.y,Ee=ve.rect.width;const Qe=ve.rect.height;let Ie=ve.img;new Uint32Array(Ie.buffer);let Ye=4*Ee,dt=4;if(Rt<=256&&N==0){Ye=Math.ceil(O*Ee/8);var st=new Uint8Array(Ye*Qe);const vt=fe[K];for(let nt=0;nt<Qe;nt++){ee=nt*Ye;const Lt=nt*Ee;if(O==8)for(var $e=0;$e<Ee;$e++)st[ee+$e]=vt[Lt+$e];else if(O==4)for($e=0;$e<Ee;$e++)st[ee+($e>>1)]|=vt[Lt+$e]<<4-4*(1&$e);else if(O==2)for($e=0;$e<Ee;$e++)st[ee+($e>>2)]|=vt[Lt+$e]<<6-2*(3&$e);else if(O==1)for($e=0;$e<Ee;$e++)st[ee+($e>>3)]|=vt[Lt+$e]<<7-1*(7&$e)}Ie=st,X=3,dt=1}else if(W==0&&te.length==1){st=new Uint8Array(Ee*Qe*3);const vt=Ee*Qe;for(ee=0;ee<vt;ee++){const nt=3*ee,Lt=4*ee;st[nt]=Ie[Lt],st[nt+1]=Ie[Lt+1],st[nt+2]=Ie[Lt+2]}Ie=st,X=2,dt=3,Ye=3*Ee}ve.img=Ie,ve.bpl=Ye,ve.bpp=dt}return{ctype:X,depth:O,plte:oe,frames:te}}function y(C,R,I,P,H,G,q){const F=Uint8Array,k=Uint32Array,N=new F(C[H-1]),Z=new k(C[H-1]),X=H+1<C.length?new F(C[H+1]):null,O=new F(C[H]),$=new k(O.buffer);let K=R,D=I,ee=-1,W=-1;for(let he=0;he<G.height;he++)for(let oe=0;oe<G.width;oe++){const fe=G.x+oe,_e=G.y+he,ve=_e*R+fe,Ee=$[ve];Ee==0||P[H-1].dispose==0&&Z[ve]==Ee&&(X==null||X[4*ve+3]!=0)||(fe<K&&(K=fe),fe>ee&&(ee=fe),_e<D&&(D=_e),_e>W&&(W=_e))}ee==-1&&(K=D=ee=W=0),q&&((1&K)==1&&K--,(1&D)==1&&D--),G={x:K,y:D,width:ee-K+1,height:W-D+1};const te=P[H];te.rect=G,te.blend=1,te.img=new Uint8Array(G.width*G.height*4),P[H-1].dispose==0?(n(N,R,I,te.img,G.width,G.height,-G.x,-G.y,0),b(O,R,I,te.img,G)):n(O,R,I,te.img,G.width,G.height,-G.x,-G.y,0)}function b(C,R,I,P,H){n(C,R,I,P,H.width,H.height,-H.x,-H.y,2)}function x(C,R,I,P,H,G,q){const F=[];let k,N=[0,1,2,3,4];G!=-1?N=[G]:(R*P>5e5||I==1)&&(N=[0]),q&&(k={level:0});const Z=vE;for(var X=0;X<N.length;X++){for(let K=0;K<R;K++)w(H,C,K,P,I,N[X]);F.push(Z.deflate(H,k))}let O,$=1e9;for(X=0;X<F.length;X++)F[X].length<$&&(O=X,$=F[X].length);return F[O]}function w(C,R,I,P,H,G){const q=I*P;let F=q+I;if(C[F]=G,F++,G==0)if(P<500)for(var k=0;k<P;k++)C[F+k]=R[q+k];else C.set(new Uint8Array(R.buffer,q,P),F);else if(G==1){for(k=0;k<H;k++)C[F+k]=R[q+k];for(k=H;k<P;k++)C[F+k]=R[q+k]-R[q+k-H]+256&255}else if(I==0){for(k=0;k<H;k++)C[F+k]=R[q+k];if(G==2)for(k=H;k<P;k++)C[F+k]=R[q+k];if(G==3)for(k=H;k<P;k++)C[F+k]=R[q+k]-(R[q+k-H]>>1)+256&255;if(G==4)for(k=H;k<P;k++)C[F+k]=R[q+k]-i(R[q+k-H],0,0)+256&255}else{if(G==2)for(k=0;k<P;k++)C[F+k]=R[q+k]+256-R[q+k-P]&255;if(G==3){for(k=0;k<H;k++)C[F+k]=R[q+k]+256-(R[q+k-P]>>1)&255;for(k=H;k<P;k++)C[F+k]=R[q+k]+256-(R[q+k-P]+R[q+k-H]>>1)&255}if(G==4){for(k=0;k<H;k++)C[F+k]=R[q+k]+256-i(0,R[q+k-P],0)&255;for(k=H;k<P;k++)C[F+k]=R[q+k]+256-i(R[q+k-H],R[q+k-P],R[q+k-H-P])&255}}}function E(C,R){const I=new Uint8Array(C),P=I.slice(0),H=new Uint32Array(P.buffer),G=S(P,R),q=G[0],F=G[1],k=I.length,N=new Uint8Array(k>>2);let Z;if(I.length<2e7)for(var X=0;X<k;X+=4)Z=j(q,O=I[X]*(1/255),$=I[X+1]*(1/255),K=I[X+2]*(1/255),D=I[X+3]*(1/255)),N[X>>2]=Z.ind,H[X>>2]=Z.est.rgba;else for(X=0;X<k;X+=4){var O=I[X]*.00392156862745098,$=I[X+1]*(1/255),K=I[X+2]*(1/255),D=I[X+3]*(1/255);for(Z=q;Z.left;)Z=L(Z.est,O,$,K,D)<=0?Z.left:Z.right;N[X>>2]=Z.ind,H[X>>2]=Z.est.rgba}return{abuf:P.buffer,inds:N,plte:F}}function S(C,R,I){I==null&&(I=1e-4);const P=new Uint32Array(C.buffer),H={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};H.bst=V(C,H.i0,H.i1),H.est=A(H.bst);const G=[H];for(;G.length<R;){let F=0,k=0;for(var q=0;q<G.length;q++)G[q].est.L>F&&(F=G[q].est.L,k=q);if(F<I)break;const N=G[k],Z=T(C,P,N.i0,N.i1,N.est.e,N.est.eMq255);if(N.i0>=Z||N.i1<=Z){N.est.L=0;continue}const X={i0:N.i0,i1:Z,bst:null,est:null,tdst:0,left:null,right:null};X.bst=V(C,X.i0,X.i1),X.est=A(X.bst);const O={i0:Z,i1:N.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:N.bst.N-X.bst.N},q=0;q<16;q++)O.bst.R[q]=N.bst.R[q]-X.bst.R[q];for(q=0;q<4;q++)O.bst.m[q]=N.bst.m[q]-X.bst.m[q];O.est=A(O.bst),N.left=X,N.right=O,G[k]=X,G.push(O)}for(G.sort(((F,k)=>k.bst.N-F.bst.N)),q=0;q<G.length;q++)G[q].ind=q;return[H,G]}function j(C,R,I,P,H){if(C.left==null)return C.tdst=(function(X,O,$,K,D){const ee=O-X[0],W=$-X[1],te=K-X[2],he=D-X[3];return ee*ee+W*W+te*te+he*he})(C.est.q,R,I,P,H),C;const G=L(C.est,R,I,P,H);let q=C.left,F=C.right;G>0&&(q=C.right,F=C.left);const k=j(q,R,I,P,H);if(k.tdst<=G*G)return k;const N=j(F,R,I,P,H);return N.tdst<k.tdst?N:k}function L(C,R,I,P,H){const{e:G}=C;return G[0]*R+G[1]*I+G[2]*P+G[3]*H-C.eMq}function T(C,R,I,P,H,G){for(P-=4;I<P;){for(;B(C,I,H)<=G;)I+=4;for(;B(C,P,H)>G;)P-=4;if(I>=P)break;const q=R[I>>2];R[I>>2]=R[P>>2],R[P>>2]=q,I+=4,P-=4}for(;B(C,I,H)>G;)I-=4;return I+4}function B(C,R,I){return C[R]*I[0]+C[R+1]*I[1]+C[R+2]*I[2]+C[R+3]*I[3]}function V(C,R,I){const P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H=[0,0,0,0],G=I-R>>2;for(let q=R;q<I;q+=4){const F=C[q]*.00392156862745098,k=C[q+1]*(1/255),N=C[q+2]*(1/255),Z=C[q+3]*(1/255);H[0]+=F,H[1]+=k,H[2]+=N,H[3]+=Z,P[0]+=F*F,P[1]+=F*k,P[2]+=F*N,P[3]+=F*Z,P[5]+=k*k,P[6]+=k*N,P[7]+=k*Z,P[10]+=N*N,P[11]+=N*Z,P[15]+=Z*Z}return P[4]=P[1],P[8]=P[2],P[9]=P[6],P[12]=P[3],P[13]=P[7],P[14]=P[11],{R:P,m:H,N:G}}function A(C){const{R}=C,{m:I}=C,{N:P}=C,H=I[0],G=I[1],q=I[2],F=I[3],k=P==0?0:1/P,N=[R[0]-H*H*k,R[1]-H*G*k,R[2]-H*q*k,R[3]-H*F*k,R[4]-G*H*k,R[5]-G*G*k,R[6]-G*q*k,R[7]-G*F*k,R[8]-q*H*k,R[9]-q*G*k,R[10]-q*q*k,R[11]-q*F*k,R[12]-F*H*k,R[13]-F*G*k,R[14]-F*q*k,R[15]-F*F*k],Z=N,X=M;let O=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,K=0;if(P!=0)for(let ee=0;ee<16&&(O=X.multVec(Z,O),K=Math.sqrt(X.dot(O,O)),O=X.sml(1/K,O),!(ee!=0&&Math.abs(K-$)<1e-9));ee++)$=K;const D=[H*k,G*k,q*k,F*k];return{Cov:N,q:D,e:O,L:$,eMq255:X.dot(X.sml(255,D),O),eMq:X.dot(O,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var M={multVec:(C,R)=>[C[0]*R[0]+C[1]*R[1]+C[2]*R[2]+C[3]*R[3],C[4]*R[0]+C[5]*R[1]+C[6]*R[2]+C[7]*R[3],C[8]*R[0]+C[9]*R[1]+C[10]*R[2]+C[11]*R[3],C[12]*R[0]+C[13]*R[1]+C[14]*R[2]+C[15]*R[3]],dot:(C,R)=>C[0]*R[0]+C[1]*R[1]+C[2]*R[2]+C[3]*R[3],sml:(C,R)=>[C*R[0],C*R[1],C*R[2],C*R[3]]};Vn.encode=function(R,I,P,H,G,q,F){H==null&&(H=0),F==null&&(F=!1);const k=h(R,I,P,H,[!1,!1,!1,0,F,!1]);return p(k,-1),f(k,I,P,G,q)},Vn.encodeLL=function(R,I,P,H,G,q,F,k){const N={ctype:0+(H==1?0:2)+(G==0?0:4),depth:q,frames:[]},Z=(H+G)*q,X=Z*I;for(let O=0;O<R.length;O++)N.frames.push({rect:{x:0,y:0,width:I,height:P},img:new Uint8Array(R[O]),blend:0,dispose:1,bpp:Math.ceil(Z/8),bpl:Math.ceil(X/8)});return p(N,0,!0),f(N,I,P,F,k)},Vn.encode.compress=h,Vn.encode.dither=d,Vn.quantize=E,Vn.quantize.getKDtree=S,Vn.quantize.getNearest=j})();const Pv={toArrayBuffer(n,t){const i=n.width,a=n.height,l=i<<2,o=n.getContext("2d").getImageData(0,0,i,a),u=new Uint32Array(o.data.buffer),d=(32*i+31)/32<<2,f=d*a,p=122+f,h=new ArrayBuffer(p),y=new DataView(h),b=1<<20;let x,w,E,S,j=b,L=0,T=0,B=0;function V(C){y.setUint16(T,C,!0),T+=2}function A(C){y.setUint32(T,C,!0),T+=4}function M(C){T+=C}V(19778),A(p),M(4),A(122),A(108),A(i),A(-a>>>0),V(1),V(32),A(3),A(f),A(2835),A(2835),M(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),(function C(){for(;L<a&&j>0;){for(S=122+L*d,x=0;x<l;)j--,w=u[B++],E=w>>>24,y.setUint32(S+x,w<<8|E),x+=4;L++}B<u.length?(j=b,setTimeout(C,Pv._dly)):t(h)})()},toBlob(n,t){this.toArrayBuffer(n,(i=>{t(new Blob([i],{type:"image/bmp"}))}))},_dly:9};var ln={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},bE={[ln.CHROME]:16384,[ln.FIREFOX]:11180,[ln.DESKTOP_SAFARI]:16384,[ln.IE]:8192,[ln.IOS]:4096,[ln.ETC]:8192};const Lf=typeof window<"u",Hv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Io=Lf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),xE=(Lf||Hv)&&(Io&&Io.getOriginalSymbol(window,"File")||typeof File<"u"&&File),$v=(Lf||Hv)&&(Io&&Io.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Mf(n,t,i=Date.now()){return new Promise((a=>{const l=n.split(","),o=l[0].match(/:(.*?);/)[1],u=globalThis.atob(l[1]);let d=u.length;const f=new Uint8Array(d);for(;d--;)f[d]=u.charCodeAt(d);const p=new Blob([f],{type:o});p.name=t,p.lastModified=i,a(p)}))}function Fv(n){return new Promise(((t,i)=>{const a=new $v;a.onload=()=>t(a.result),a.onerror=l=>i(l),a.readAsDataURL(n)}))}function Vv(n){return new Promise(((t,i)=>{const a=new Image;a.onload=()=>t(a),a.onerror=l=>i(l),a.src=n}))}function Ni(){if(Ni.cachedResult!==void 0)return Ni.cachedResult;let n=ln.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?n=ln.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?n=ln.IOS:/Safari/i.test(t)?n=ln.DESKTOP_SAFARI:/Firefox/i.test(t)?n=ln.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(n=ln.IE),Ni.cachedResult=n,Ni.cachedResult}function Gv(n,t){const i=Ni(),a=bE[i];let l=n,o=t,u=l*o;const d=l>o?o/l:l/o;for(;u>a*a;){const f=(a+l)/2,p=(a+o)/2;f<p?(o=p,l=p*d):(o=f*d,l=f),u=l*o}return{width:l,height:o}}function Qo(n,t){let i,a;try{if(i=new OffscreenCanvas(n,t),a=i.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{i=document.createElement("canvas"),a=i.getContext("2d")}return i.width=n,i.height=t,[i,a]}function Yv(n,t){const{width:i,height:a}=Gv(n.width,n.height),[l,o]=Qo(i,a);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,l.width,l.height)),o.drawImage(n,0,0,l.width,l.height),l}function Co(){return Co.cachedResult!==void 0||(Co.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Co.cachedResult}function qo(n,t={}){return new Promise((function(i,a){let l,o;var u=function(){try{return o=Yv(l,t.fileType||n.type),i([l,o])}catch(f){return a(f)}},d=function(f){try{var p=function(h){try{throw h}catch(y){return a(y)}};try{let h;return Fv(n).then((function(y){try{return h=y,Vv(h).then((function(b){try{return l=b,(function(){try{return u()}catch(x){return a(x)}})()}catch(x){return p(x)}}),p)}catch(b){return p(b)}}),p)}catch(h){p(h)}}catch(h){return a(h)}};try{if(Co()||[ln.DESKTOP_SAFARI,ln.MOBILE_SAFARI].includes(Ni()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then((function(f){try{return l=f,u()}catch{return d()}}),d)}catch{d()}}))}function Po(n,t,i,a,l=1){return new Promise((function(o,u){let d;if(t==="image/png"){let y,b,x;return y=n.getContext("2d"),{data:b}=y.getImageData(0,0,n.width,n.height),x=Vn.encode([b.buffer],n.width,n.height,4096*l),d=new Blob([x],{type:t}),d.name=i,d.lastModified=a,f.call(this)}{let y=function(){return f.call(this)};var p=y;if(t==="image/bmp")return new Promise((b=>Pv.toBlob(n,b))).then((function(b){try{return d=b,d.name=i,d.lastModified=a,y.call(this)}catch(x){return u(x)}}).bind(this),u);{let b=function(){return y.call(this)};var h=b;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:t,quality:l}).then((function(x){try{return d=x,d.name=i,d.lastModified=a,b.call(this)}catch(w){return u(w)}}).bind(this),u);{let x;return x=n.toDataURL(t,l),Mf(x,i,a).then((function(w){try{return d=w,b.call(this)}catch(E){return u(E)}}).bind(this),u)}}}function f(){return o(d)}}))}function nr(n){n.width=0,n.height=0}function ja(){return new Promise((function(n,t){let i,a,l,o;return ja.cachedResult!==void 0?n(ja.cachedResult):Mf("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return i=u,qo(i).then((function(d){try{return a=d[1],Po(a,i.type,i.name,i.lastModified).then((function(f){try{return l=f,nr(a),qo(l).then((function(p){try{return o=p[0],ja.cachedResult=o.width===1&&o.height===2,n(ja.cachedResult)}catch(h){return t(h)}}),t)}catch(p){return t(p)}}),t)}catch(f){return t(f)}}),t)}catch(d){return t(d)}}),t)}))}function Kv(n){return new Promise(((t,i)=>{const a=new $v;a.onload=l=>{const o=new DataView(l.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const u=o.byteLength;let d=2;for(;d<u;){if(o.getUint16(d+2,!1)<=8)return t(-1);const f=o.getUint16(d,!1);if(d+=2,f==65505){if(o.getUint32(d+=2,!1)!=1165519206)return t(-1);const p=o.getUint16(d+=6,!1)==18761;d+=o.getUint32(d+4,p);const h=o.getUint16(d,p);d+=2;for(let y=0;y<h;y++)if(o.getUint16(d+12*y,p)==274)return t(o.getUint16(d+12*y+8,p))}else{if((65280&f)!=65280)break;d+=o.getUint16(d,!1)}}return t(-1)},a.onerror=l=>i(l),a.readAsArrayBuffer(n)}))}function Qv(n,t){const{width:i}=n,{height:a}=n,{maxWidthOrHeight:l}=t;let o,u=n;return isFinite(l)&&(i>l||a>l)&&([u,o]=Qo(i,a),i>a?(u.width=l,u.height=a/i*l):(u.width=i/a*l,u.height=l),o.drawImage(n,0,0,u.width,u.height),nr(n)),u}function Xv(n,t){const{width:i}=n,{height:a}=n,[l,o]=Qo(i,a);switch(t>4&&t<9?(l.width=a,l.height=i):(l.width=i,l.height=a),t){case 2:o.transform(-1,0,0,1,i,0);break;case 3:o.transform(-1,0,0,-1,i,a);break;case 4:o.transform(1,0,0,-1,0,a);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,a,0);break;case 7:o.transform(0,-1,-1,0,a,i);break;case 8:o.transform(0,-1,1,0,0,i)}return o.drawImage(n,0,0,i,a),nr(n),l}function Py(n,t,i=0){return new Promise((function(a,l){let o,u,d,f,p,h,y,b,x,w,E,S,j,L,T,B,V,A,M,C;function R(P=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=P,t.onProgress(Math.min(o,100))}function I(P){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(P,o),100),t.onProgress(o)}return o=i,u=t.maxIteration||10,d=1024*t.maxSizeMB*1024,R(),qo(n,t).then((function(P){try{return[,f]=P,R(),p=Qv(f,t),R(),new Promise((function(H,G){var q;if(!(q=t.exifOrientation))return Kv(n).then((function(k){try{return q=k,F.call(this)}catch(N){return G(N)}}).bind(this),G);function F(){return H(q)}return F.call(this)})).then((function(H){try{return h=H,R(),ja().then((function(G){try{return y=G?p:Xv(p,h),R(),b=t.initialQuality||1,x=t.fileType||n.type,Po(y,x,n.name,n.lastModified,b).then((function(q){try{{let Z=function(){if(u--&&(T>d||T>j)){let O,$;return O=C?.95*M.width:M.width,$=C?.95*M.height:M.height,[V,A]=Qo(O,$),A.drawImage(M,0,0,O,$),b*=x==="image/png"?.85:.95,Po(V,x,n.name,n.lastModified,b).then((function(K){try{return B=K,nr(M),M=V,T=B.size,I(Math.min(99,Math.floor((L-T)/(L-d)*100))),Z}catch(D){return l(D)}}),l)}return[1]},X=function(){return nr(M),nr(V),nr(p),nr(y),nr(f),I(100),a(B)};var k=Z,N=X;if(w=q,R(),E=w.size>d,S=w.size>n.size,!E&&!S)return I(100),a(w);var F;return j=n.size,L=w.size,T=L,M=y,C=!t.alwaysKeepResolution&&E,(F=(function(O){for(;O;){if(O.then)return void O.then(F,l);try{if(O.pop){if(O.length)return O.pop()?X.call(this):O;O=Z}else O=O.call(this)}catch($){return l($)}}}).bind(this))(Z)}}catch(Z){return l(Z)}}).bind(this),l)}catch(q){return l(q)}}).bind(this),l)}catch(G){return l(G)}}).bind(this),l)}catch(H){return l(H)}}).bind(this),l)}))}const wE=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Td;function _E(n,t){return new Promise(((i,a)=>{Td||(Td=(function(u){const d=[];return d.push(u),URL.createObjectURL(new Blob(d))})(wE));const l=new Worker(Td);l.addEventListener("message",(function(u){if(t.signal&&t.signal.aborted)l.terminate();else if(u.data.progress===void 0){if(u.data.error)return a(new Error(u.data.error)),void l.terminate();i(u.data.file),l.terminate()}else t.onProgress(u.data.progress)})),l.addEventListener("error",a),t.signal&&t.signal.addEventListener("abort",(()=>{a(t.signal.reason),l.terminate()})),l.postMessage({file:n,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function Yt(n,t){return new Promise((function(i,a){let l,o,u,d,f,p;if(l={...t},u=0,{onProgress:d}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=x=>{u=x,typeof d=="function"&&d(u)},!(n instanceof Blob||n instanceof xE))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return a(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||p)return Py(n,l).then((function(x){try{return o=x,b.call(this)}catch(w){return a(w)}}).bind(this),a);var h=(function(){try{return b.call(this)}catch(x){return a(x)}}).bind(this),y=function(x){try{return Py(n,l).then((function(w){try{return o=w,h()}catch(E){return a(E)}}),a)}catch(w){return a(w)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",_E(n,l).then((function(x){try{return o=x,h()}catch{return y()}}),y)}catch{y()}function b(){try{o.name=n.name,o.lastModified=n.lastModified}catch{}try{l.preserveExif&&n.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===n.type)&&(o=qv(n,o))}catch{}return i(o)}}))}Yt.getDataUrlFromFile=Fv,Yt.getFilefromDataUrl=Mf,Yt.loadImage=Vv,Yt.drawImageInCanvas=Yv,Yt.drawFileInCanvas=qo,Yt.canvasToFile=Po,Yt.getExifOrientation=Kv,Yt.handleMaxWidthOrHeight=Qv,Yt.followExifOrientation=Xv,Yt.cleanupCanvasMemory=nr,Yt.isAutoOrientationInBrowser=ja,Yt.approximateBelowMaximumCanvasSizeOfBrowser=Gv,Yt.copyExifWithoutOrientation=qv,Yt.getBrowserName=Ni,Yt.version="2.0.2";async function Jv(n){return await Yt(n,{maxWidthOrHeight:1500,maxSizeMB:.4,useWebWorker:!0})}async function Zv(n,t){const i=await Jv(n),a=n.name.split(".").pop()??"jpg",l=`${t}/${Date.now()}.${a}`,{error:o}=await ue.storage.from("images").upload(l,i,{upsert:!0});if(o)throw o;return l}async function Bf(n){const{error:t}=await ue.storage.from("images").remove([n]);if(t)throw t}function If(n,t=800){if(!n)return;const{data:i}=ue.storage.from("images").getPublicUrl(n,{transform:{width:t,quality:80,format:"origin"}});return i.publicUrl}function qf(n,t=300){if(!n)return;const{data:i}=ue.storage.from("images").getPublicUrl(n,{transform:{width:t,quality:80,format:"origin"}});return i.publicUrl}function SE(){const n=Kt(),[t,i]=z.useState(null),[a,l]=z.useState(!0),[o,u]=z.useState(!1),[d,f]=z.useState(!1),[p,h]=z.useState(null),[y,b]=z.useState(null),[x,w]=z.useState(""),[E,S]=z.useState(""),[j,L]=z.useState(""),[T,B]=z.useState(null),[V,A]=z.useState(null);z.useEffect(()=>{let I=!1;return(async()=>{const{data:P}=await ue.auth.getUser();if(!P.user){I||h("You must be logged in to edit your profile.");return}const{data:H,error:G}=await ue.from("profiles").select("*").eq("auth_id",P.user.id).maybeSingle();if(!I){if(G){h(G.message);return}i(H),w(H?.first_name??""),S(H?.last_name??""),L(H?.bio??""),A(H?.profile_picture_url??null),l(!1)}})(),()=>{I=!0}},[]);async function M(I){const P=I.target.files?.[0];if(!P)return;if(!P.type.startsWith("image/")){h("Please upload a valid image file.");return}B(P);try{if(f(!0),h(null),V)try{await Bf(V)}catch(q){console.warn("Could not delete old profile image:",q)}const G=await Zv(P,"profiles");A(G),b("Image uploaded successfully!")}catch(G){h(G.message||"Failed to upload image.")}finally{f(!1)}}async function C(I){if(I.preventDefault(),!t)return;h(null),b(null),u(!0);const{error:P}=await ue.from("profiles").update({first_name:x.trim()||null,last_name:E.trim()||null,bio:j.trim()||null,profile_picture_url:V}).eq("auth_id",t.auth_id);u(!1),P?h(P.message):(b("Profile updated successfully!"),n(`/profile/${t.username}`))}const R=T?URL.createObjectURL(T):V?qf(V):null;return a?g.jsx(kr,{message:"Fetching User To Edit..."}):g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bright px-4",children:g.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white p-6 sm:p-8 shadow-xl font-body",children:[g.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Edit Profile"}),y&&g.jsx("div",{className:"mb-3 rounded-lg bg-main/10 px-3 py-2 text-sm text-main",children:y}),p&&g.jsx("div",{className:"mb-3 rounded-lg bg-main/10 px-3 py-2 text-sm text-danger",children:p}),g.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2 sm:col-span-2 flex flex-col items-center",children:[g.jsx("label",{className:"text-lg font-heading text-dark",children:"Profile Picture"}),g.jsxs("div",{className:"relative",children:[R?g.jsx("img",{src:R,alt:"Profile preview",className:"w-32 h-32 rounded-full object-cover border-4 border-main/20"}):g.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm",children:"No image"}),d&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full",children:g.jsx("span",{className:"text-white text-sm",children:"Uploading"})})]}),g.jsx("input",{id:"profile_image",type:"file",accept:"image/*",onChange:M,disabled:d,className:"mt-2 text-sm text-gray-600 file:mr-3 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-main file:text-white file:cursor-pointer hover:file:bg-main/90 disabled:opacity-50"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{htmlFor:"first_name",className:"text-lg font-heading text-dark",children:"First name"}),g.jsx("input",{id:"first_name",type:"text",value:x,onChange:I=>w(I.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-bright focus:ring-2 focus:ring-main transition"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{htmlFor:"last_name",className:"text-lg font-heading text-dark",children:"Last name"}),g.jsx("input",{id:"last_name",type:"text",value:E,onChange:I=>S(I.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-bright focus:ring-2 focus:ring-main transition"})]}),g.jsxs("div",{className:"space-y-1 sm:col-span-2",children:[g.jsx("label",{htmlFor:"bio",className:"text-lg font-heading text-dark",children:"Bio"}),g.jsx("textarea",{id:"bio",rows:4,value:j,onChange:I=>L(I.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-bright focus:ring-2 focus:ring-main transition",placeholder:"Tell us about your cooking style..."})]}),g.jsxs("div",{className:"sm:col-span-2 flex justify-between items-center mt-4",children:[g.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-gray-700 underline underline-offset-4 hover:text-black",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:o||d,className:"rounded-lg bg-secondary px-4 py-2.5 text-white font-medium hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 transition",children:o?"Saving":"Save changes"})]})]})]})})}function EE(n,t){const i={};return(n[n.length-1]===""?[...n,""]:n).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const jE=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kE=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NE={};function Hy(n,t){return(NE.jsx?kE:jE).test(n)}const AE=/[ \t\n\f\r]/g;function TE(n){return typeof n=="object"?n.type==="text"?$y(n.value):!1:$y(n)}function $y(n){return n.replace(AE,"")===""}class Js{constructor(t,i,a){this.normal=i,this.property=t,a&&(this.space=a)}}Js.prototype.normal={};Js.prototype.property={};Js.prototype.space=void 0;function Wv(n,t){const i={},a={};for(const l of n)Object.assign(i,l.property),Object.assign(a,l.normal);return new Js(i,a,t)}function uf(n){return n.toLowerCase()}class un{constructor(t,i){this.attribute=i,this.property=t}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let CE=0;const De=Ai(),Tt=Ai(),cf=Ai(),me=Ai(),it=Ai(),Na=Ai(),bn=Ai();function Ai(){return 2**++CE}const df=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:Tt,commaOrSpaceSeparated:bn,commaSeparated:Na,number:me,overloadedBoolean:cf,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),Cd=Object.keys(df);class Pf extends un{constructor(t,i,a,l){let o=-1;if(super(t,i),Fy(this,"space",l),typeof a=="number")for(;++o<Cd.length;){const u=Cd[o];Fy(this,Cd[o],(a&df[u])===df[u])}}}Pf.prototype.defined=!0;function Fy(n,t,i){i&&(n[t]=i)}function za(n){const t={},i={};for(const[a,l]of Object.entries(n.properties)){const o=new Pf(a,n.transform(n.attributes||{},a),l,n.space);n.mustUseProperty&&n.mustUseProperty.includes(a)&&(o.mustUseProperty=!0),t[a]=o,i[uf(a)]=a,i[uf(o.attribute)]=a}return new Js(t,i,n.space)}const eb=za({properties:{ariaActiveDescendant:null,ariaAtomic:Tt,ariaAutoComplete:null,ariaBusy:Tt,ariaChecked:Tt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:Tt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:Tt,ariaFlowTo:it,ariaGrabbed:Tt,ariaHasPopup:null,ariaHidden:Tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:me,ariaLive:null,ariaModal:Tt,ariaMultiLine:Tt,ariaMultiSelectable:Tt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Tt,ariaReadOnly:Tt,ariaRelevant:null,ariaRequired:Tt,ariaRoleDescription:it,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Tt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function tb(n,t){return t in n?n[t]:t}function nb(n,t){return tb(n,t.toLowerCase())}const RE=za({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Na,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:it,autoFocus:De,autoPlay:De,blocking:it,capture:null,charSet:null,checked:De,cite:null,className:it,cols:me,colSpan:null,content:null,contentEditable:Tt,controls:De,controlsList:it,coords:me|Na,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:cf,draggable:Tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:it,height:me,hidden:cf,high:me,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:it,itemRef:it,itemScope:De,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:me,pattern:null,ping:it,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:it,required:De,reversed:De,rows:me,rowSpan:me,sandbox:it,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:Tt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Tt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:nb}),OE=za({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Na,g2:Na,glyphName:Na,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tb}),rb=za({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),ib=za({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:nb}),ab=za({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),UE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},DE=/[A-Z]/g,Vy=/-[a-z]/g,zE=/^data[-\w.:]+$/i;function LE(n,t){const i=uf(t);let a=t,l=un;if(i in n.normal)return n.property[n.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&zE.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Vy,BE);a="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Vy.test(o)){let u=o.replace(DE,ME);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}l=Pf}return new l(a,t)}function ME(n){return"-"+n.toLowerCase()}function BE(n){return n.charAt(1).toUpperCase()}const IE=Wv([eb,RE,rb,ib,ab],"html"),Hf=Wv([eb,OE,rb,ib,ab],"svg");function qE(n){return n.join(" ").trim()}var ba={},Rd,Gy;function PE(){if(Gy)return Rd;Gy=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,f=`
`,p="/",h="*",y="",b="comment",x="declaration";function w(S,j){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];j=j||{};var L=1,T=1;function B(q){var F=q.match(t);F&&(L+=F.length);var k=q.lastIndexOf(f);T=~k?q.length-k:T+q.length}function V(){var q={line:L,column:T};return function(F){return F.position=new A(q),R(),F}}function A(q){this.start=q,this.end={line:L,column:T},this.source=j.source}A.prototype.content=S;function M(q){var F=new Error(j.source+":"+L+":"+T+": "+q);if(F.reason=q,F.filename=j.source,F.line=L,F.column=T,F.source=S,!j.silent)throw F}function C(q){var F=q.exec(S);if(F){var k=F[0];return B(k),S=S.slice(k.length),F}}function R(){C(i)}function I(q){var F;for(q=q||[];F=P();)F!==!1&&q.push(F);return q}function P(){var q=V();if(!(p!=S.charAt(0)||h!=S.charAt(1))){for(var F=2;y!=S.charAt(F)&&(h!=S.charAt(F)||p!=S.charAt(F+1));)++F;if(F+=2,y===S.charAt(F-1))return M("End of comment missing");var k=S.slice(2,F-2);return T+=2,B(k),S=S.slice(F),T+=2,q({type:b,comment:k})}}function H(){var q=V(),F=C(a);if(F){if(P(),!C(l))return M("property missing ':'");var k=C(o),N=q({type:x,property:E(F[0].replace(n,y)),value:k?E(k[0].replace(n,y)):y});return C(u),N}}function G(){var q=[];I(q);for(var F;F=H();)F!==!1&&(q.push(F),I(q));return q}return R(),G()}function E(S){return S?S.replace(d,y):y}return Rd=w,Rd}var Yy;function HE(){if(Yy)return ba;Yy=1;var n=ba&&ba.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ba,"__esModule",{value:!0}),ba.default=i;const t=n(PE());function i(a,l){let o=null;if(!a||typeof a!="string")return o;const u=(0,t.default)(a),d=typeof l=="function";return u.forEach(f=>{if(f.type!=="declaration")return;const{property:p,value:h}=f;d?l(p,h,f):h&&(o=o||{},o[p]=h)}),o}return ba}var Rs={},Ky;function $E(){if(Ky)return Rs;Ky=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(p){return!p||i.test(p)||n.test(p)},u=function(p,h){return h.toUpperCase()},d=function(p,h){return"".concat(h,"-")},f=function(p,h){return h===void 0&&(h={}),o(p)?p:(p=p.toLowerCase(),h.reactCompat?p=p.replace(l,d):p=p.replace(a,d),p.replace(t,u))};return Rs.camelCase=f,Rs}var Os,Qy;function FE(){if(Qy)return Os;Qy=1;var n=Os&&Os.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},t=n(HE()),i=$E();function a(l,o){var u={};return!l||typeof l!="string"||(0,t.default)(l,function(d,f){d&&f&&(u[(0,i.camelCase)(d,o)]=f)}),u}return a.default=a,Os=a,Os}var VE=FE();const GE=Ys(VE),sb=lb("end"),$f=lb("start");function lb(n){return t;function t(i){const a=i&&i.position&&i.position[n]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function YE(n){const t=$f(n),i=sb(n);if(t&&i)return{start:t,end:i}}function Is(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Xy(n.position):"start"in n||"end"in n?Xy(n):"line"in n||"column"in n?ff(n):""}function ff(n){return Jy(n&&n.line)+":"+Jy(n&&n.column)}function Xy(n){return ff(n&&n.start)+"-"+ff(n&&n.end)}function Jy(n){return n&&typeof n=="number"?n:1}class Qt extends Error{constructor(t,i,a){super(),typeof i=="string"&&(a=i,i=void 0);let l="",o={},u=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof t=="string"?l=t:!o.cause&&t&&(u=!0,l=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof a=="string"){const f=a.indexOf(":");f===-1?o.ruleId=a:(o.source=a.slice(0,f),o.ruleId=a.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=d?d.line:void 0,this.name=Is(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Qt.prototype.file="";Qt.prototype.name="";Qt.prototype.reason="";Qt.prototype.message="";Qt.prototype.stack="";Qt.prototype.column=void 0;Qt.prototype.line=void 0;Qt.prototype.ancestors=void 0;Qt.prototype.cause=void 0;Qt.prototype.fatal=void 0;Qt.prototype.place=void 0;Qt.prototype.ruleId=void 0;Qt.prototype.source=void 0;const Ff={}.hasOwnProperty,KE=new Map,QE=/[A-Z]/g,XE=new Set(["table","tbody","thead","tfoot","tr"]),JE=new Set(["td","th"]),ob="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ZE(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=sj(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=aj(i,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Hf:IE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=ub(l,n,void 0);return o&&typeof o!="string"?o:l.create(n,l.Fragment,{children:o||void 0},void 0)}function ub(n,t,i){if(t.type==="element")return WE(n,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ej(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return nj(n,t,i);if(t.type==="mdxjsEsm")return tj(n,t);if(t.type==="root")return rj(n,t,i);if(t.type==="text")return ij(n,t)}function WE(n,t,i){const a=n.schema;let l=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(l=Hf,n.schema=l),n.ancestors.push(t);const o=db(n,t.tagName,!1),u=lj(n,t);let d=Gf(n,t);return XE.has(t.tagName)&&(d=d.filter(function(f){return typeof f=="string"?!TE(f):!0})),cb(n,u,o,t),Vf(u,d),n.ancestors.pop(),n.schema=a,n.create(t,o,u,i)}function ej(n,t){if(t.data&&t.data.estree&&n.evaluater){const a=t.data.estree.body[0];return a.type,n.evaluater.evaluateExpression(a.expression)}Gs(n,t.position)}function tj(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);Gs(n,t.position)}function nj(n,t,i){const a=n.schema;let l=a;t.name==="svg"&&a.space==="html"&&(l=Hf,n.schema=l),n.ancestors.push(t);const o=t.name===null?n.Fragment:db(n,t.name,!0),u=oj(n,t),d=Gf(n,t);return cb(n,u,o,t),Vf(u,d),n.ancestors.pop(),n.schema=a,n.create(t,o,u,i)}function rj(n,t,i){const a={};return Vf(a,Gf(n,t)),n.create(t,n.Fragment,a,i)}function ij(n,t){return t.value}function cb(n,t,i,a){typeof i!="string"&&i!==n.Fragment&&n.passNode&&(t.node=a)}function Vf(n,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(n.children=i)}}function aj(n,t,i){return a;function a(l,o,u,d){const p=Array.isArray(u.children)?i:t;return d?p(o,u,d):p(o,u)}}function sj(n,t){return i;function i(a,l,o,u){const d=Array.isArray(o.children),f=$f(a);return t(l,o,u,d,{columnNumber:f?f.column-1:void 0,fileName:n,lineNumber:f?f.line:void 0},void 0)}}function lj(n,t){const i={};let a,l;for(l in t.properties)if(l!=="children"&&Ff.call(t.properties,l)){const o=uj(n,l,t.properties[l]);if(o){const[u,d]=o;n.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&JE.has(t.tagName)?a=d:i[u]=d}}if(a){const o=i.style||(i.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return i}function oj(n,t){const i={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&n.evaluater){const o=a.data.estree.body[0];o.type;const u=o.expression;u.type;const d=u.properties[0];d.type,Object.assign(i,n.evaluater.evaluateExpression(d.argument))}else Gs(n,t.position);else{const l=a.name;let o;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&n.evaluater){const d=a.value.data.estree.body[0];d.type,o=n.evaluater.evaluateExpression(d.expression)}else Gs(n,t.position);else o=a.value===null?!0:a.value;i[l]=o}return i}function Gf(n,t){const i=[];let a=-1;const l=n.passKeys?new Map:KE;for(;++a<t.children.length;){const o=t.children[a];let u;if(n.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const p=l.get(f)||0;u=f+"-"+p,l.set(f,p+1)}}const d=ub(n,o,u);d!==void 0&&i.push(d)}return i}function uj(n,t,i){const a=LE(n.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=a.commaSeparated?EE(i):qE(i)),a.property==="style"){let l=typeof i=="object"?i:cj(n,String(i));return n.stylePropertyNameCase==="css"&&(l=dj(l)),["style",l]}return[n.elementAttributeNameCase==="react"&&a.space?UE[a.property]||a.property:a.attribute,i]}}function cj(n,t){try{return GE(t,{reactCompat:!0})}catch(i){if(n.ignoreInvalidStyle)return{};const a=i,l=new Qt("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=n.filePath||void 0,l.url=ob+"#cannot-parse-style-attribute",l}}function db(n,t,i){let a;if(!i)a={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let o=-1,u;for(;++o<l.length;){const d=Hy(l[o])?{type:"Identifier",name:l[o]}:{type:"Literal",value:l[o]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}a=u}else a=Hy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const l=a.value;return Ff.call(n.components,l)?n.components[l]:l}if(n.evaluater)return n.evaluater.evaluateExpression(a);Gs(n)}function Gs(n,t){const i=new Qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=n.filePath||void 0,i.url=ob+"#cannot-handle-mdx-estrees-without-createevaluater",i}function dj(n){const t={};let i;for(i in n)Ff.call(n,i)&&(t[fj(i)]=n[i]);return t}function fj(n){let t=n.replace(QE,hj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function hj(n){return"-"+n.toLowerCase()}const Od={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mj={};function pj(n,t){const i=mj,a=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return fb(n,a,l)}function fb(n,t,i){if(gj(n)){if("value"in n)return n.type==="html"&&!i?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Zy(n.children,t,i)}return Array.isArray(n)?Zy(n,t,i):""}function Zy(n,t,i){const a=[];let l=-1;for(;++l<n.length;)a[l]=fb(n[l],t,i);return a.join("")}function gj(n){return!!(n&&typeof n=="object")}const Wy=document.createElement("i");function Yf(n){const t="&"+n+";";Wy.innerHTML=t;const i=Wy.textContent;return i.charCodeAt(i.length-1)===59&&n!=="semi"||i===t?!1:i}function ir(n,t,i,a){const l=n.length;let o=0,u;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,i=i>0?i:0,a.length<1e4)u=Array.from(a),u.unshift(t,i),n.splice(...u);else for(i&&n.splice(t,i);o<a.length;)u=a.slice(o,o+1e4),u.unshift(t,0),n.splice(...u),o+=1e4,t+=1e4}function zn(n,t){return n.length>0?(ir(n,n.length,0,t),n):t}const e0={}.hasOwnProperty;function yj(n){const t={};let i=-1;for(;++i<n.length;)vj(t,n[i]);return t}function vj(n,t){let i;for(i in t){const l=(e0.call(n,i)?n[i]:void 0)||(n[i]={}),o=t[i];let u;if(o)for(u in o){e0.call(l,u)||(l[u]=[]);const d=o[u];bj(l[u],Array.isArray(d)?d:d?[d]:[])}}}function bj(n,t){let i=-1;const a=[];for(;++i<t.length;)(t[i].add==="after"?n:a).push(t[i]);ir(n,0,0,a)}function hb(n,t){const i=Number.parseInt(n,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Aa(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rr=ni(/[A-Za-z]/),_n=ni(/[\dA-Za-z]/),xj=ni(/[#-'*+\--9=?A-Z^-~]/);function hf(n){return n!==null&&(n<32||n===127)}const mf=ni(/\d/),wj=ni(/[\dA-Fa-f]/),_j=ni(/[!-/:-@[-`{-~]/);function Ne(n){return n!==null&&n<-2}function on(n){return n!==null&&(n<0||n===32)}function Ge(n){return n===-2||n===-1||n===32}const Sj=ni(new RegExp("\\p{P}|\\p{S}","u")),Ej=ni(/\s/);function ni(n){return t;function t(i){return i!==null&&i>-1&&n.test(String.fromCharCode(i))}}function La(n){const t=[];let i=-1,a=0,l=0;for(;++i<n.length;){const o=n.charCodeAt(i);let u="";if(o===37&&_n(n.charCodeAt(i+1))&&_n(n.charCodeAt(i+2)))l=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const d=n.charCodeAt(i+1);o<56320&&d>56319&&d<57344?(u=String.fromCharCode(o,d),l=1):u=""}else u=String.fromCharCode(o);u&&(t.push(n.slice(a,i),encodeURIComponent(u)),a=i+l+1,u=""),l&&(i+=l,l=0)}return t.join("")+n.slice(a)}function at(n,t,i,a){const l=a?a-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return Ge(f)?(n.enter(i),d(f)):t(f)}function d(f){return Ge(f)&&o++<l?(n.consume(f),d):(n.exit(i),t(f))}}const jj={tokenize:kj};function kj(n){const t=n.attempt(this.parser.constructs.contentInitial,a,l);let i;return t;function a(d){if(d===null){n.consume(d);return}return n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),at(n,t,"linePrefix")}function l(d){return n.enter("paragraph"),o(d)}function o(d){const f=n.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=f),i=f,u(d)}function u(d){if(d===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(d);return}return Ne(d)?(n.consume(d),n.exit("chunkText"),o):(n.consume(d),u)}}const Nj={tokenize:Aj},t0={tokenize:Tj};function Aj(n){const t=this,i=[];let a=0,l,o,u;return d;function d(T){if(a<i.length){const B=i[a];return t.containerState=B[1],n.attempt(B[0].continuation,f,p)(T)}return p(T)}function f(T){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&L();const B=t.events.length;let V=B,A;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){A=t.events[V][1].end;break}j(a);let M=B;for(;M<t.events.length;)t.events[M][1].end={...A},M++;return ir(t.events,V+1,0,t.events.slice(B)),t.events.length=M,p(T)}return d(T)}function p(T){if(a===i.length){if(!l)return b(T);if(l.currentConstruct&&l.currentConstruct.concrete)return w(T);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(t0,h,y)(T)}function h(T){return l&&L(),j(a),b(T)}function y(T){return t.parser.lazy[t.now().line]=a!==i.length,u=t.now().offset,w(T)}function b(T){return t.containerState={},n.attempt(t0,x,w)(T)}function x(T){return a++,i.push([t.currentConstruct,t.containerState]),b(T)}function w(T){if(T===null){l&&L(),j(0),n.consume(T);return}return l=l||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:o}),E(T)}function E(T){if(T===null){S(n.exit("chunkFlow"),!0),j(0),n.consume(T);return}return Ne(T)?(n.consume(T),S(n.exit("chunkFlow")),a=0,t.interrupt=void 0,d):(n.consume(T),E)}function S(T,B){const V=t.sliceStream(T);if(B&&V.push(null),T.previous=o,o&&(o.next=T),o=T,l.defineSkip(T.start),l.write(V),t.parser.lazy[T.start.line]){let A=l.events.length;for(;A--;)if(l.events[A][1].start.offset<u&&(!l.events[A][1].end||l.events[A][1].end.offset>u))return;const M=t.events.length;let C=M,R,I;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(R){I=t.events[C][1].end;break}R=!0}for(j(a),A=M;A<t.events.length;)t.events[A][1].end={...I},A++;ir(t.events,C+1,0,t.events.slice(M)),t.events.length=A}}function j(T){let B=i.length;for(;B-- >T;){const V=i[B];t.containerState=V[1],V[0].exit.call(t,n)}i.length=T}function L(){l.write([null]),o=void 0,l=void 0,t.containerState._closeFlow=void 0}}function Tj(n,t,i){return at(n,n.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function n0(n){if(n===null||on(n)||Ej(n))return 1;if(Sj(n))return 2}function Kf(n,t,i){const a=[];let l=-1;for(;++l<n.length;){const o=n[l].resolveAll;o&&!a.includes(o)&&(t=o(t,i),a.push(o))}return t}const pf={name:"attention",resolveAll:Cj,tokenize:Rj};function Cj(n,t){let i=-1,a,l,o,u,d,f,p,h;for(;++i<n.length;)if(n[i][0]==="enter"&&n[i][1].type==="attentionSequence"&&n[i][1]._close){for(a=i;a--;)if(n[a][0]==="exit"&&n[a][1].type==="attentionSequence"&&n[a][1]._open&&t.sliceSerialize(n[a][1]).charCodeAt(0)===t.sliceSerialize(n[i][1]).charCodeAt(0)){if((n[a][1]._close||n[i][1]._open)&&(n[i][1].end.offset-n[i][1].start.offset)%3&&!((n[a][1].end.offset-n[a][1].start.offset+n[i][1].end.offset-n[i][1].start.offset)%3))continue;f=n[a][1].end.offset-n[a][1].start.offset>1&&n[i][1].end.offset-n[i][1].start.offset>1?2:1;const y={...n[a][1].end},b={...n[i][1].start};r0(y,-f),r0(b,f),u={type:f>1?"strongSequence":"emphasisSequence",start:y,end:{...n[a][1].end}},d={type:f>1?"strongSequence":"emphasisSequence",start:{...n[i][1].start},end:b},o={type:f>1?"strongText":"emphasisText",start:{...n[a][1].end},end:{...n[i][1].start}},l={type:f>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},n[a][1].end={...u.start},n[i][1].start={...d.end},p=[],n[a][1].end.offset-n[a][1].start.offset&&(p=zn(p,[["enter",n[a][1],t],["exit",n[a][1],t]])),p=zn(p,[["enter",l,t],["enter",u,t],["exit",u,t],["enter",o,t]]),p=zn(p,Kf(t.parser.constructs.insideSpan.null,n.slice(a+1,i),t)),p=zn(p,[["exit",o,t],["enter",d,t],["exit",d,t],["exit",l,t]]),n[i][1].end.offset-n[i][1].start.offset?(h=2,p=zn(p,[["enter",n[i][1],t],["exit",n[i][1],t]])):h=0,ir(n,a-1,i-a+3,p),i=a+p.length-h-2;break}}for(i=-1;++i<n.length;)n[i][1].type==="attentionSequence"&&(n[i][1].type="data");return n}function Rj(n,t){const i=this.parser.constructs.attentionMarkers.null,a=this.previous,l=n0(a);let o;return u;function u(f){return o=f,n.enter("attentionSequence"),d(f)}function d(f){if(f===o)return n.consume(f),d;const p=n.exit("attentionSequence"),h=n0(f),y=!h||h===2&&l||i.includes(f),b=!l||l===2&&h||i.includes(a);return p._open=!!(o===42?y:y&&(l||!b)),p._close=!!(o===42?b:b&&(h||!y)),t(f)}}function r0(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const Oj={name:"autolink",tokenize:Uj};function Uj(n,t,i){let a=0;return l;function l(x){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(x){return rr(x)?(n.consume(x),u):x===64?i(x):p(x)}function u(x){return x===43||x===45||x===46||_n(x)?(a=1,d(x)):p(x)}function d(x){return x===58?(n.consume(x),a=0,f):(x===43||x===45||x===46||_n(x))&&a++<32?(n.consume(x),d):(a=0,p(x))}function f(x){return x===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),t):x===null||x===32||x===60||hf(x)?i(x):(n.consume(x),f)}function p(x){return x===64?(n.consume(x),h):xj(x)?(n.consume(x),p):i(x)}function h(x){return _n(x)?y(x):i(x)}function y(x){return x===46?(n.consume(x),a=0,h):x===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),t):b(x)}function b(x){if((x===45||_n(x))&&a++<63){const w=x===45?b:y;return n.consume(x),w}return i(x)}}const Xo={partial:!0,tokenize:Dj};function Dj(n,t,i){return a;function a(o){return Ge(o)?at(n,l,"linePrefix")(o):l(o)}function l(o){return o===null||Ne(o)?t(o):i(o)}}const mb={continuation:{tokenize:Lj},exit:Mj,name:"blockQuote",tokenize:zj};function zj(n,t,i){const a=this;return l;function l(u){if(u===62){const d=a.containerState;return d.open||(n.enter("blockQuote",{_container:!0}),d.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(u),n.exit("blockQuoteMarker"),o}return i(u)}function o(u){return Ge(u)?(n.enter("blockQuotePrefixWhitespace"),n.consume(u),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(u))}}function Lj(n,t,i){const a=this;return l;function l(u){return Ge(u)?at(n,o,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return n.attempt(mb,t,i)(u)}}function Mj(n){n.exit("blockQuote")}const pb={name:"characterEscape",tokenize:Bj};function Bj(n,t,i){return a;function a(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),l}function l(o){return _j(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):i(o)}}const gb={name:"characterReference",tokenize:Ij};function Ij(n,t,i){const a=this;let l=0,o,u;return d;function d(y){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),f}function f(y){return y===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(y),n.exit("characterReferenceMarkerNumeric"),p):(n.enter("characterReferenceValue"),o=31,u=_n,h(y))}function p(y){return y===88||y===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(y),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,u=wj,h):(n.enter("characterReferenceValue"),o=7,u=mf,h(y))}function h(y){if(y===59&&l){const b=n.exit("characterReferenceValue");return u===_n&&!Yf(a.sliceSerialize(b))?i(y):(n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return u(y)&&l++<o?(n.consume(y),h):i(y)}}const i0={partial:!0,tokenize:Pj},a0={concrete:!0,name:"codeFenced",tokenize:qj};function qj(n,t,i){const a=this,l={partial:!0,tokenize:V};let o=0,u=0,d;return f;function f(A){return p(A)}function p(A){const M=a.events[a.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,d=A,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===d?(u++,n.consume(A),h):u<3?i(A):(n.exit("codeFencedFenceSequence"),Ge(A)?at(n,y,"whitespace")(A):y(A))}function y(A){return A===null||Ne(A)?(n.exit("codeFencedFence"),a.interrupt?t(A):n.check(i0,E,B)(A)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===null||Ne(A)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),y(A)):Ge(A)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),at(n,x,"whitespace")(A)):A===96&&A===d?i(A):(n.consume(A),b)}function x(A){return A===null||Ne(A)?y(A):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===null||Ne(A)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),y(A)):A===96&&A===d?i(A):(n.consume(A),w)}function E(A){return n.attempt(l,B,S)(A)}function S(A){return n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),j}function j(A){return o>0&&Ge(A)?at(n,L,"linePrefix",o+1)(A):L(A)}function L(A){return A===null||Ne(A)?n.check(i0,E,B)(A):(n.enter("codeFlowValue"),T(A))}function T(A){return A===null||Ne(A)?(n.exit("codeFlowValue"),L(A)):(n.consume(A),T)}function B(A){return n.exit("codeFenced"),t(A)}function V(A,M,C){let R=0;return I;function I(F){return A.enter("lineEnding"),A.consume(F),A.exit("lineEnding"),P}function P(F){return A.enter("codeFencedFence"),Ge(F)?at(A,H,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):H(F)}function H(F){return F===d?(A.enter("codeFencedFenceSequence"),G(F)):C(F)}function G(F){return F===d?(R++,A.consume(F),G):R>=u?(A.exit("codeFencedFenceSequence"),Ge(F)?at(A,q,"whitespace")(F):q(F)):C(F)}function q(F){return F===null||Ne(F)?(A.exit("codeFencedFence"),M(F)):C(F)}}}function Pj(n,t,i){const a=this;return l;function l(u){return u===null?i(u):(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),o)}function o(u){return a.parser.lazy[a.now().line]?i(u):t(u)}}const Ud={name:"codeIndented",tokenize:$j},Hj={partial:!0,tokenize:Fj};function $j(n,t,i){const a=this;return l;function l(p){return n.enter("codeIndented"),at(n,o,"linePrefix",5)(p)}function o(p){const h=a.events[a.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?u(p):i(p)}function u(p){return p===null?f(p):Ne(p)?n.attempt(Hj,u,f)(p):(n.enter("codeFlowValue"),d(p))}function d(p){return p===null||Ne(p)?(n.exit("codeFlowValue"),u(p)):(n.consume(p),d)}function f(p){return n.exit("codeIndented"),t(p)}}function Fj(n,t,i){const a=this;return l;function l(u){return a.parser.lazy[a.now().line]?i(u):Ne(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),l):at(n,o,"linePrefix",5)(u)}function o(u){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(u):Ne(u)?l(u):i(u)}}const Vj={name:"codeText",previous:Yj,resolve:Gj,tokenize:Kj};function Gj(n){let t=n.length-4,i=3,a,l;if((n[i][1].type==="lineEnding"||n[i][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(a=i;++a<t;)if(n[a][1].type==="codeTextData"){n[i][1].type="codeTextPadding",n[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(a=i-1,t++;++a<=t;)l===void 0?a!==t&&n[a][1].type!=="lineEnding"&&(l=a):(a===t||n[a][1].type==="lineEnding")&&(n[l][1].type="codeTextData",a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),t-=a-l-2,a=l+2),l=void 0);return n}function Yj(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Kj(n,t,i){let a=0,l,o;return u;function u(y){return n.enter("codeText"),n.enter("codeTextSequence"),d(y)}function d(y){return y===96?(n.consume(y),a++,d):(n.exit("codeTextSequence"),f(y))}function f(y){return y===null?i(y):y===32?(n.enter("space"),n.consume(y),n.exit("space"),f):y===96?(o=n.enter("codeTextSequence"),l=0,h(y)):Ne(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),f):(n.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||Ne(y)?(n.exit("codeTextData"),f(y)):(n.consume(y),p)}function h(y){return y===96?(n.consume(y),l++,h):l===a?(n.exit("codeTextSequence"),n.exit("codeText"),t(y)):(o.type="codeTextData",p(y))}}class Qj{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const a=i??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,i,a){const l=i||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return a&&Us(this.left,a),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Us(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Us(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);Us(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Us(this.left,i.reverse())}}}function Us(n,t){let i=0;if(t.length<1e4)n.push(...t);else for(;i<t.length;)n.push(...t.slice(i,i+1e4)),i+=1e4}function yb(n){const t={};let i=-1,a,l,o,u,d,f,p;const h=new Qj(n);for(;++i<h.length;){for(;i in t;)i=t[i];if(a=h.get(i),i&&a[1].type==="chunkFlow"&&h.get(i-1)[1].type==="listItemPrefix"&&(f=a[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,Xj(h,i)),i=t[i],p=!0);else if(a[1]._container){for(o=i,l=void 0;o--;)if(u=h.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(l&&(h.get(l)[1].type="lineEndingBlank"),u[1].type="lineEnding",l=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;l&&(a[1].end={...h.get(l)[1].start},d=h.slice(l,i),d.unshift(a),h.splice(l,i-l+1,d))}}return ir(n,0,Number.POSITIVE_INFINITY,h.slice(0)),!p}function Xj(n,t){const i=n.get(t)[1],a=n.get(t)[2];let l=t-1;const o=[];let u=i._tokenizer;u||(u=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,f=[],p={};let h,y,b=-1,x=i,w=0,E=0;const S=[E];for(;x;){for(;n.get(++l)[1]!==x;);o.push(l),x._tokenizer||(h=a.sliceStream(x),x.next||h.push(null),y&&u.defineSkip(x.start),x._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(h),x._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=x,x=x.next}for(x=i;++b<d.length;)d[b][0]==="exit"&&d[b-1][0]==="enter"&&d[b][1].type===d[b-1][1].type&&d[b][1].start.line!==d[b][1].end.line&&(E=b+1,S.push(E),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(u.events=[],x?(x._tokenizer=void 0,x.previous=void 0):S.pop(),b=S.length;b--;){const j=d.slice(S[b],S[b+1]),L=o.pop();f.push([L,L+j.length-1]),n.splice(L,2,j)}for(f.reverse(),b=-1;++b<f.length;)p[w+f[b][0]]=w+f[b][1],w+=f[b][1]-f[b][0]-1;return p}const Jj={resolve:Wj,tokenize:ek},Zj={partial:!0,tokenize:tk};function Wj(n){return yb(n),n}function ek(n,t){let i;return a;function a(d){return n.enter("content"),i=n.enter("chunkContent",{contentType:"content"}),l(d)}function l(d){return d===null?o(d):Ne(d)?n.check(Zj,u,o)(d):(n.consume(d),l)}function o(d){return n.exit("chunkContent"),n.exit("content"),t(d)}function u(d){return n.consume(d),n.exit("chunkContent"),i.next=n.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function tk(n,t,i){const a=this;return l;function l(u){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),at(n,o,"linePrefix")}function o(u){if(u===null||Ne(u))return i(u);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(u):n.interrupt(a.parser.constructs.flow,i,t)(u)}}function vb(n,t,i,a,l,o,u,d,f){const p=f||Number.POSITIVE_INFINITY;let h=0;return y;function y(j){return j===60?(n.enter(a),n.enter(l),n.enter(o),n.consume(j),n.exit(o),b):j===null||j===32||j===41||hf(j)?i(j):(n.enter(a),n.enter(u),n.enter(d),n.enter("chunkString",{contentType:"string"}),E(j))}function b(j){return j===62?(n.enter(o),n.consume(j),n.exit(o),n.exit(l),n.exit(a),t):(n.enter(d),n.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===62?(n.exit("chunkString"),n.exit(d),b(j)):j===null||j===60||Ne(j)?i(j):(n.consume(j),j===92?w:x)}function w(j){return j===60||j===62||j===92?(n.consume(j),x):x(j)}function E(j){return!h&&(j===null||j===41||on(j))?(n.exit("chunkString"),n.exit(d),n.exit(u),n.exit(a),t(j)):h<p&&j===40?(n.consume(j),h++,E):j===41?(n.consume(j),h--,E):j===null||j===32||j===40||hf(j)?i(j):(n.consume(j),j===92?S:E)}function S(j){return j===40||j===41||j===92?(n.consume(j),E):E(j)}}function bb(n,t,i,a,l,o){const u=this;let d=0,f;return p;function p(x){return n.enter(a),n.enter(l),n.consume(x),n.exit(l),n.enter(o),h}function h(x){return d>999||x===null||x===91||x===93&&!f||x===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?i(x):x===93?(n.exit(o),n.enter(l),n.consume(x),n.exit(l),n.exit(a),t):Ne(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),h):(n.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===null||x===91||x===93||Ne(x)||d++>999?(n.exit("chunkString"),h(x)):(n.consume(x),f||(f=!Ge(x)),x===92?b:y)}function b(x){return x===91||x===92||x===93?(n.consume(x),d++,y):y(x)}}function xb(n,t,i,a,l,o){let u;return d;function d(b){return b===34||b===39||b===40?(n.enter(a),n.enter(l),n.consume(b),n.exit(l),u=b===40?41:b,f):i(b)}function f(b){return b===u?(n.enter(l),n.consume(b),n.exit(l),n.exit(a),t):(n.enter(o),p(b))}function p(b){return b===u?(n.exit(o),f(u)):b===null?i(b):Ne(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),at(n,p,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===u||b===null||Ne(b)?(n.exit("chunkString"),p(b)):(n.consume(b),b===92?y:h)}function y(b){return b===u||b===92?(n.consume(b),h):h(b)}}function qs(n,t){let i;return a;function a(l){return Ne(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i=!0,a):Ge(l)?at(n,a,i?"linePrefix":"lineSuffix")(l):t(l)}}const nk={name:"definition",tokenize:ik},rk={partial:!0,tokenize:ak};function ik(n,t,i){const a=this;let l;return o;function o(x){return n.enter("definition"),u(x)}function u(x){return bb.call(a,n,d,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function d(x){return l=Aa(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),x===58?(n.enter("definitionMarker"),n.consume(x),n.exit("definitionMarker"),f):i(x)}function f(x){return on(x)?qs(n,p)(x):p(x)}function p(x){return vb(n,h,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return n.attempt(rk,y,y)(x)}function y(x){return Ge(x)?at(n,b,"whitespace")(x):b(x)}function b(x){return x===null||Ne(x)?(n.exit("definition"),a.parser.defined.push(l),t(x)):i(x)}}function ak(n,t,i){return a;function a(d){return on(d)?qs(n,l)(d):i(d)}function l(d){return xb(n,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return Ge(d)?at(n,u,"whitespace")(d):u(d)}function u(d){return d===null||Ne(d)?t(d):i(d)}}const sk={name:"hardBreakEscape",tokenize:lk};function lk(n,t,i){return a;function a(o){return n.enter("hardBreakEscape"),n.consume(o),l}function l(o){return Ne(o)?(n.exit("hardBreakEscape"),t(o)):i(o)}}const ok={name:"headingAtx",resolve:uk,tokenize:ck};function uk(n,t){let i=n.length-2,a=3,l,o;return n[a][1].type==="whitespace"&&(a+=2),i-2>a&&n[i][1].type==="whitespace"&&(i-=2),n[i][1].type==="atxHeadingSequence"&&(a===i-1||i-4>a&&n[i-2][1].type==="whitespace")&&(i-=a+1===i?2:4),i>a&&(l={type:"atxHeadingText",start:n[a][1].start,end:n[i][1].end},o={type:"chunkText",start:n[a][1].start,end:n[i][1].end,contentType:"text"},ir(n,a,i-a+1,[["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t]])),n}function ck(n,t,i){let a=0;return l;function l(h){return n.enter("atxHeading"),o(h)}function o(h){return n.enter("atxHeadingSequence"),u(h)}function u(h){return h===35&&a++<6?(n.consume(h),u):h===null||on(h)?(n.exit("atxHeadingSequence"),d(h)):i(h)}function d(h){return h===35?(n.enter("atxHeadingSequence"),f(h)):h===null||Ne(h)?(n.exit("atxHeading"),t(h)):Ge(h)?at(n,d,"whitespace")(h):(n.enter("atxHeadingText"),p(h))}function f(h){return h===35?(n.consume(h),f):(n.exit("atxHeadingSequence"),d(h))}function p(h){return h===null||h===35||on(h)?(n.exit("atxHeadingText"),d(h)):(n.consume(h),p)}}const dk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],s0=["pre","script","style","textarea"],fk={concrete:!0,name:"htmlFlow",resolveTo:pk,tokenize:gk},hk={partial:!0,tokenize:vk},mk={partial:!0,tokenize:yk};function pk(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function gk(n,t,i){const a=this;let l,o,u,d,f;return p;function p(D){return h(D)}function h(D){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(D),y}function y(D){return D===33?(n.consume(D),b):D===47?(n.consume(D),o=!0,E):D===63?(n.consume(D),l=3,a.interrupt?t:O):rr(D)?(n.consume(D),u=String.fromCharCode(D),S):i(D)}function b(D){return D===45?(n.consume(D),l=2,x):D===91?(n.consume(D),l=5,d=0,w):rr(D)?(n.consume(D),l=4,a.interrupt?t:O):i(D)}function x(D){return D===45?(n.consume(D),a.interrupt?t:O):i(D)}function w(D){const ee="CDATA[";return D===ee.charCodeAt(d++)?(n.consume(D),d===ee.length?a.interrupt?t:H:w):i(D)}function E(D){return rr(D)?(n.consume(D),u=String.fromCharCode(D),S):i(D)}function S(D){if(D===null||D===47||D===62||on(D)){const ee=D===47,W=u.toLowerCase();return!ee&&!o&&s0.includes(W)?(l=1,a.interrupt?t(D):H(D)):dk.includes(u.toLowerCase())?(l=6,ee?(n.consume(D),j):a.interrupt?t(D):H(D)):(l=7,a.interrupt&&!a.parser.lazy[a.now().line]?i(D):o?L(D):T(D))}return D===45||_n(D)?(n.consume(D),u+=String.fromCharCode(D),S):i(D)}function j(D){return D===62?(n.consume(D),a.interrupt?t:H):i(D)}function L(D){return Ge(D)?(n.consume(D),L):I(D)}function T(D){return D===47?(n.consume(D),I):D===58||D===95||rr(D)?(n.consume(D),B):Ge(D)?(n.consume(D),T):I(D)}function B(D){return D===45||D===46||D===58||D===95||_n(D)?(n.consume(D),B):V(D)}function V(D){return D===61?(n.consume(D),A):Ge(D)?(n.consume(D),V):T(D)}function A(D){return D===null||D===60||D===61||D===62||D===96?i(D):D===34||D===39?(n.consume(D),f=D,M):Ge(D)?(n.consume(D),A):C(D)}function M(D){return D===f?(n.consume(D),f=null,R):D===null||Ne(D)?i(D):(n.consume(D),M)}function C(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||on(D)?V(D):(n.consume(D),C)}function R(D){return D===47||D===62||Ge(D)?T(D):i(D)}function I(D){return D===62?(n.consume(D),P):i(D)}function P(D){return D===null||Ne(D)?H(D):Ge(D)?(n.consume(D),P):i(D)}function H(D){return D===45&&l===2?(n.consume(D),k):D===60&&l===1?(n.consume(D),N):D===62&&l===4?(n.consume(D),$):D===63&&l===3?(n.consume(D),O):D===93&&l===5?(n.consume(D),X):Ne(D)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(hk,K,G)(D)):D===null||Ne(D)?(n.exit("htmlFlowData"),G(D)):(n.consume(D),H)}function G(D){return n.check(mk,q,K)(D)}function q(D){return n.enter("lineEnding"),n.consume(D),n.exit("lineEnding"),F}function F(D){return D===null||Ne(D)?G(D):(n.enter("htmlFlowData"),H(D))}function k(D){return D===45?(n.consume(D),O):H(D)}function N(D){return D===47?(n.consume(D),u="",Z):H(D)}function Z(D){if(D===62){const ee=u.toLowerCase();return s0.includes(ee)?(n.consume(D),$):H(D)}return rr(D)&&u.length<8?(n.consume(D),u+=String.fromCharCode(D),Z):H(D)}function X(D){return D===93?(n.consume(D),O):H(D)}function O(D){return D===62?(n.consume(D),$):D===45&&l===2?(n.consume(D),O):H(D)}function $(D){return D===null||Ne(D)?(n.exit("htmlFlowData"),K(D)):(n.consume(D),$)}function K(D){return n.exit("htmlFlow"),t(D)}}function yk(n,t,i){const a=this;return l;function l(u){return Ne(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),o):i(u)}function o(u){return a.parser.lazy[a.now().line]?i(u):t(u)}}function vk(n,t,i){return a;function a(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(Xo,t,i)}}const bk={name:"htmlText",tokenize:xk};function xk(n,t,i){const a=this;let l,o,u;return d;function d(O){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(O),f}function f(O){return O===33?(n.consume(O),p):O===47?(n.consume(O),V):O===63?(n.consume(O),T):rr(O)?(n.consume(O),C):i(O)}function p(O){return O===45?(n.consume(O),h):O===91?(n.consume(O),o=0,w):rr(O)?(n.consume(O),L):i(O)}function h(O){return O===45?(n.consume(O),x):i(O)}function y(O){return O===null?i(O):O===45?(n.consume(O),b):Ne(O)?(u=y,N(O)):(n.consume(O),y)}function b(O){return O===45?(n.consume(O),x):y(O)}function x(O){return O===62?k(O):O===45?b(O):y(O)}function w(O){const $="CDATA[";return O===$.charCodeAt(o++)?(n.consume(O),o===$.length?E:w):i(O)}function E(O){return O===null?i(O):O===93?(n.consume(O),S):Ne(O)?(u=E,N(O)):(n.consume(O),E)}function S(O){return O===93?(n.consume(O),j):E(O)}function j(O){return O===62?k(O):O===93?(n.consume(O),j):E(O)}function L(O){return O===null||O===62?k(O):Ne(O)?(u=L,N(O)):(n.consume(O),L)}function T(O){return O===null?i(O):O===63?(n.consume(O),B):Ne(O)?(u=T,N(O)):(n.consume(O),T)}function B(O){return O===62?k(O):T(O)}function V(O){return rr(O)?(n.consume(O),A):i(O)}function A(O){return O===45||_n(O)?(n.consume(O),A):M(O)}function M(O){return Ne(O)?(u=M,N(O)):Ge(O)?(n.consume(O),M):k(O)}function C(O){return O===45||_n(O)?(n.consume(O),C):O===47||O===62||on(O)?R(O):i(O)}function R(O){return O===47?(n.consume(O),k):O===58||O===95||rr(O)?(n.consume(O),I):Ne(O)?(u=R,N(O)):Ge(O)?(n.consume(O),R):k(O)}function I(O){return O===45||O===46||O===58||O===95||_n(O)?(n.consume(O),I):P(O)}function P(O){return O===61?(n.consume(O),H):Ne(O)?(u=P,N(O)):Ge(O)?(n.consume(O),P):R(O)}function H(O){return O===null||O===60||O===61||O===62||O===96?i(O):O===34||O===39?(n.consume(O),l=O,G):Ne(O)?(u=H,N(O)):Ge(O)?(n.consume(O),H):(n.consume(O),q)}function G(O){return O===l?(n.consume(O),l=void 0,F):O===null?i(O):Ne(O)?(u=G,N(O)):(n.consume(O),G)}function q(O){return O===null||O===34||O===39||O===60||O===61||O===96?i(O):O===47||O===62||on(O)?R(O):(n.consume(O),q)}function F(O){return O===47||O===62||on(O)?R(O):i(O)}function k(O){return O===62?(n.consume(O),n.exit("htmlTextData"),n.exit("htmlText"),t):i(O)}function N(O){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),Z}function Z(O){return Ge(O)?at(n,X,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):X(O)}function X(O){return n.enter("htmlTextData"),u(O)}}const Qf={name:"labelEnd",resolveAll:Ek,resolveTo:jk,tokenize:kk},wk={tokenize:Nk},_k={tokenize:Ak},Sk={tokenize:Tk};function Ek(n){let t=-1;const i=[];for(;++t<n.length;){const a=n[t][1];if(i.push(n[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const l=a.type==="labelImage"?4:2;a.type="data",t+=l}}return n.length!==i.length&&ir(n,0,n.length,i),n}function jk(n,t){let i=n.length,a=0,l,o,u,d;for(;i--;)if(l=n[i][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(u){if(n[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=i,l.type!=="labelLink")){a=2;break}}else l.type==="labelEnd"&&(u=i);const f={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},p={type:"label",start:{...n[o][1].start},end:{...n[u][1].end}},h={type:"labelText",start:{...n[o+a+2][1].end},end:{...n[u-2][1].start}};return d=[["enter",f,t],["enter",p,t]],d=zn(d,n.slice(o+1,o+a+3)),d=zn(d,[["enter",h,t]]),d=zn(d,Kf(t.parser.constructs.insideSpan.null,n.slice(o+a+4,u-3),t)),d=zn(d,[["exit",h,t],n[u-2],n[u-1],["exit",p,t]]),d=zn(d,n.slice(u+1)),d=zn(d,[["exit",f,t]]),ir(n,o,n.length,d),n}function kk(n,t,i){const a=this;let l=a.events.length,o,u;for(;l--;)if((a.events[l][1].type==="labelImage"||a.events[l][1].type==="labelLink")&&!a.events[l][1]._balanced){o=a.events[l][1];break}return d;function d(b){return o?o._inactive?y(b):(u=a.parser.defined.includes(Aa(a.sliceSerialize({start:o.end,end:a.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(b),n.exit("labelMarker"),n.exit("labelEnd"),f):i(b)}function f(b){return b===40?n.attempt(wk,h,u?h:y)(b):b===91?n.attempt(_k,h,u?p:y)(b):u?h(b):y(b)}function p(b){return n.attempt(Sk,h,y)(b)}function h(b){return t(b)}function y(b){return o._balanced=!0,i(b)}}function Nk(n,t,i){return a;function a(y){return n.enter("resource"),n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),l}function l(y){return on(y)?qs(n,o)(y):o(y)}function o(y){return y===41?h(y):vb(n,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return on(y)?qs(n,f)(y):h(y)}function d(y){return i(y)}function f(y){return y===34||y===39||y===40?xb(n,p,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):h(y)}function p(y){return on(y)?qs(n,h)(y):h(y)}function h(y){return y===41?(n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),n.exit("resource"),t):i(y)}}function Ak(n,t,i){const a=this;return l;function l(d){return bb.call(a,n,o,u,"reference","referenceMarker","referenceString")(d)}function o(d){return a.parser.defined.includes(Aa(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(d):i(d)}function u(d){return i(d)}}function Tk(n,t,i){return a;function a(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),l}function l(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),t):i(o)}}const Ck={name:"labelStartImage",resolveAll:Qf.resolveAll,tokenize:Rk};function Rk(n,t,i){const a=this;return l;function l(d){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(d),n.exit("labelImageMarker"),o}function o(d){return d===91?(n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelImage"),u):i(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(d):t(d)}}const Ok={name:"labelStartLink",resolveAll:Qf.resolveAll,tokenize:Uk};function Uk(n,t,i){const a=this;return l;function l(u){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(u):t(u)}}const Dd={name:"lineEnding",tokenize:Dk};function Dk(n,t){return i;function i(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),at(n,t,"linePrefix")}}const Ro={name:"thematicBreak",tokenize:zk};function zk(n,t,i){let a=0,l;return o;function o(p){return n.enter("thematicBreak"),u(p)}function u(p){return l=p,d(p)}function d(p){return p===l?(n.enter("thematicBreakSequence"),f(p)):a>=3&&(p===null||Ne(p))?(n.exit("thematicBreak"),t(p)):i(p)}function f(p){return p===l?(n.consume(p),a++,f):(n.exit("thematicBreakSequence"),Ge(p)?at(n,d,"whitespace")(p):d(p))}}const sn={continuation:{tokenize:Ik},exit:Pk,name:"list",tokenize:Bk},Lk={partial:!0,tokenize:Hk},Mk={partial:!0,tokenize:qk};function Bk(n,t,i){const a=this,l=a.events[a.events.length-1];let o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,u=0;return d;function d(x){const w=a.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||x===a.containerState.marker:mf(x)){if(a.containerState.type||(a.containerState.type=w,n.enter(w,{_container:!0})),w==="listUnordered")return n.enter("listItemPrefix"),x===42||x===45?n.check(Ro,i,p)(x):p(x);if(!a.interrupt||x===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(x)}return i(x)}function f(x){return mf(x)&&++u<10?(n.consume(x),f):(!a.interrupt||u<2)&&(a.containerState.marker?x===a.containerState.marker:x===41||x===46)?(n.exit("listItemValue"),p(x)):i(x)}function p(x){return n.enter("listItemMarker"),n.consume(x),n.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||x,n.check(Xo,a.interrupt?i:h,n.attempt(Lk,b,y))}function h(x){return a.containerState.initialBlankLine=!0,o++,b(x)}function y(x){return Ge(x)?(n.enter("listItemPrefixWhitespace"),n.consume(x),n.exit("listItemPrefixWhitespace"),b):i(x)}function b(x){return a.containerState.size=o+a.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(x)}}function Ik(n,t,i){const a=this;return a.containerState._closeFlow=void 0,n.check(Xo,l,o);function l(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,at(n,t,"listItemIndent",a.containerState.size+1)(d)}function o(d){return a.containerState.furtherBlankLines||!Ge(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,u(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,n.attempt(Mk,t,u)(d))}function u(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,at(n,n.attempt(sn,t,i),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function qk(n,t,i){const a=this;return at(n,l,"listItemIndent",a.containerState.size+1);function l(o){const u=a.events[a.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===a.containerState.size?t(o):i(o)}}function Pk(n){n.exit(this.containerState.type)}function Hk(n,t,i){const a=this;return at(n,l,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){const u=a.events[a.events.length-1];return!Ge(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):i(o)}}const l0={name:"setextUnderline",resolveTo:$k,tokenize:Fk};function $k(n,t){let i=n.length,a,l,o;for(;i--;)if(n[i][0]==="enter"){if(n[i][1].type==="content"){a=i;break}n[i][1].type==="paragraph"&&(l=i)}else n[i][1].type==="content"&&n.splice(i,1),!o&&n[i][1].type==="definition"&&(o=i);const u={type:"setextHeading",start:{...n[a][1].start},end:{...n[n.length-1][1].end}};return n[l][1].type="setextHeadingText",o?(n.splice(l,0,["enter",u,t]),n.splice(o+1,0,["exit",n[a][1],t]),n[a][1].end={...n[o][1].end}):n[a][1]=u,n.push(["exit",u,t]),n}function Fk(n,t,i){const a=this;let l;return o;function o(p){let h=a.events.length,y;for(;h--;)if(a.events[h][1].type!=="lineEnding"&&a.events[h][1].type!=="linePrefix"&&a.events[h][1].type!=="content"){y=a.events[h][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||y)?(n.enter("setextHeadingLine"),l=p,u(p)):i(p)}function u(p){return n.enter("setextHeadingLineSequence"),d(p)}function d(p){return p===l?(n.consume(p),d):(n.exit("setextHeadingLineSequence"),Ge(p)?at(n,f,"lineSuffix")(p):f(p))}function f(p){return p===null||Ne(p)?(n.exit("setextHeadingLine"),t(p)):i(p)}}const Vk={tokenize:Gk};function Gk(n){const t=this,i=n.attempt(Xo,a,n.attempt(this.parser.constructs.flowInitial,l,at(n,n.attempt(this.parser.constructs.flow,l,n.attempt(Jj,l)),"linePrefix")));return i;function a(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function l(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),t.currentConstruct=void 0,i}}const Yk={resolveAll:_b()},Kk=wb("string"),Qk=wb("text");function wb(n){return{resolveAll:_b(n==="text"?Xk:void 0),tokenize:t};function t(i){const a=this,l=this.parser.constructs[n],o=i.attempt(l,u,d);return u;function u(h){return p(h)?o(h):d(h)}function d(h){if(h===null){i.consume(h);return}return i.enter("data"),i.consume(h),f}function f(h){return p(h)?(i.exit("data"),o(h)):(i.consume(h),f)}function p(h){if(h===null)return!0;const y=l[h];let b=-1;if(y)for(;++b<y.length;){const x=y[b];if(!x.previous||x.previous.call(a,a.previous))return!0}return!1}}}function _b(n){return t;function t(i,a){let l=-1,o;for(;++l<=i.length;)o===void 0?i[l]&&i[l][1].type==="data"&&(o=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==o+2&&(i[o][1].end=i[l-1][1].end,i.splice(o+2,l-o-2),l=o+2),o=void 0);return n?n(i,a):i}}function Xk(n,t){let i=0;for(;++i<=n.length;)if((i===n.length||n[i][1].type==="lineEnding")&&n[i-1][1].type==="data"){const a=n[i-1][1],l=t.sliceStream(a);let o=l.length,u=-1,d=0,f;for(;o--;){const p=l[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(p===-2)f=!0,d++;else if(p!==-1){o++;break}}if(t._contentTypeTextTrailing&&i===n.length&&(d=0),d){const p={type:i===n.length||f||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:a.start._bufferIndex+u,_index:a.start._index+o,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...p.start},a.start.offset===a.end.offset?Object.assign(a,p):(n.splice(i,0,["enter",p,t],["exit",p,t]),i+=2)}i++}return n}const Jk={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:mb},Zk={91:nk},Wk={[-2]:Ud,[-1]:Ud,32:Ud},eN={35:ok,42:Ro,45:[l0,Ro],60:fk,61:l0,95:Ro,96:a0,126:a0},tN={38:gb,92:pb},nN={[-5]:Dd,[-4]:Dd,[-3]:Dd,33:Ck,38:gb,42:pf,60:[Oj,bk],91:Ok,92:[sk,pb],93:Qf,95:pf,96:Vj},rN={null:[pf,Yk]},iN={null:[42,95]},aN={null:[]},sN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:iN,contentInitial:Zk,disable:aN,document:Jk,flow:eN,flowInitial:Wk,insideSpan:rN,string:tN,text:nN},Symbol.toStringTag,{value:"Module"}));function lN(n,t,i){let a={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},o=[];let u=[],d=[];const f={attempt:M(V),check:M(A),consume:L,enter:T,exit:B,interrupt:M(A,{interrupt:!0})},p={code:null,containerState:{},defineSkip:E,events:[],now:w,parser:n,previous:null,sliceSerialize:b,sliceStream:x,write:y};let h=t.tokenize.call(p,f);return t.resolveAll&&o.push(t),p;function y(P){return u=zn(u,P),S(),u[u.length-1]!==null?[]:(C(t,0),p.events=Kf(o,p.events,p),p.events)}function b(P,H){return uN(x(P),H)}function x(P){return oN(u,P)}function w(){const{_bufferIndex:P,_index:H,line:G,column:q,offset:F}=a;return{_bufferIndex:P,_index:H,line:G,column:q,offset:F}}function E(P){l[P.line]=P.column,I()}function S(){let P;for(;a._index<u.length;){const H=u[a._index];if(typeof H=="string")for(P=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===P&&a._bufferIndex<H.length;)j(H.charCodeAt(a._bufferIndex));else j(H)}}function j(P){h=h(P)}function L(P){Ne(P)?(a.line++,a.column=1,a.offset+=P===-3?2:1,I()):P!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===u[a._index].length&&(a._bufferIndex=-1,a._index++)),p.previous=P}function T(P,H){const G=H||{};return G.type=P,G.start=w(),p.events.push(["enter",G,p]),d.push(G),G}function B(P){const H=d.pop();return H.end=w(),p.events.push(["exit",H,p]),H}function V(P,H){C(P,H.from)}function A(P,H){H.restore()}function M(P,H){return G;function G(q,F,k){let N,Z,X,O;return Array.isArray(q)?K(q):"tokenize"in q?K([q]):$(q);function $(te){return he;function he(oe){const fe=oe!==null&&te[oe],_e=oe!==null&&te.null,ve=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return K(ve)(oe)}}function K(te){return N=te,Z=0,te.length===0?k:D(te[Z])}function D(te){return he;function he(oe){return O=R(),X=te,te.partial||(p.currentConstruct=te),te.name&&p.parser.constructs.disable.null.includes(te.name)?W():te.tokenize.call(H?Object.assign(Object.create(p),H):p,f,ee,W)(oe)}}function ee(te){return P(X,O),F}function W(te){return O.restore(),++Z<N.length?D(N[Z]):k}}}function C(P,H){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&ir(p.events,H,p.events.length-H,P.resolve(p.events.slice(H),p)),P.resolveTo&&(p.events=P.resolveTo(p.events,p))}function R(){const P=w(),H=p.previous,G=p.currentConstruct,q=p.events.length,F=Array.from(d);return{from:q,restore:k};function k(){a=P,p.previous=H,p.currentConstruct=G,p.events.length=q,d=F,I()}}function I(){a.line in l&&a.column<2&&(a.column=l[a.line],a.offset+=l[a.line]-1)}}function oN(n,t){const i=t.start._index,a=t.start._bufferIndex,l=t.end._index,o=t.end._bufferIndex;let u;if(i===l)u=[n[i].slice(a,o)];else{if(u=n.slice(i,l),a>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(a):u.shift()}o>0&&u.push(n[l].slice(0,o))}return u}function uN(n,t){let i=-1;const a=[];let l;for(;++i<n.length;){const o=n[i];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&l)continue;u=" ";break}default:u=String.fromCharCode(o)}l=o===-2,a.push(u)}return a.join("")}function cN(n){const a={constructs:yj([sN,...(n||{}).extensions||[]]),content:l(jj),defined:[],document:l(Nj),flow:l(Vk),lazy:{},string:l(Kk),text:l(Qk)};return a;function l(o){return u;function u(d){return lN(a,o,d)}}}function dN(n){for(;!yb(n););return n}const o0=/[\0\t\n\r]/g;function fN(){let n=1,t="",i=!0,a;return l;function l(o,u,d){const f=[];let p,h,y,b,x;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,t="",i&&(o.charCodeAt(0)===65279&&y++,i=void 0);y<o.length;){if(o0.lastIndex=y,p=o0.exec(o),b=p&&p.index!==void 0?p.index:o.length,x=o.charCodeAt(b),!p){t=o.slice(y);break}if(x===10&&y===b&&a)f.push(-3),a=void 0;else switch(a&&(f.push(-5),a=void 0),y<b&&(f.push(o.slice(y,b)),n+=b-y),x){case 0:{f.push(65533),n++;break}case 9:{for(h=Math.ceil(n/4)*4,f.push(-2);n++<h;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:a=!0,n=1}y=b+1}return d&&(a&&f.push(-5),t&&f.push(t),f.push(null)),f}}const hN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mN(n){return n.replace(hN,pN)}function pN(n,t,i){if(t)return t;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),o=l===120||l===88;return hb(i.slice(o?2:1),o?16:10)}return Yf(i)||n}const Sb={}.hasOwnProperty;function gN(n,t,i){return typeof t!="string"&&(i=t,t=void 0),yN(i)(dN(cN(i).document().write(fN()(n,t,!0))))}function yN(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(dt),autolinkProtocol:R,autolinkEmail:R,atxHeading:o($e),blockQuote:o(_e),characterEscape:R,characterReference:R,codeFenced:o(ve),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(ve,u),codeText:o(Ee,u),codeTextData:R,data:R,codeFlowValue:R,definition:o(Rt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(st),hardBreakEscape:o(Qe),hardBreakTrailing:o(Qe),htmlFlow:o(Ie,u),htmlFlowData:R,htmlText:o(Ie,u),htmlTextData:R,image:o(Ye),label:u,link:o(dt),listItem:o(nt),listItemValue:b,listOrdered:o(vt,y),listUnordered:o(vt),paragraph:o(Lt),reference:D,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o($e),strong:o(ft),thematicBreak:o(Mt)},exit:{atxHeading:f(),atxHeadingSequence:V,autolink:f(),autolinkEmail:fe,autolinkProtocol:oe,blockQuote:f(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:te,characterReference:he,codeFenced:f(S),codeFencedFence:E,codeFencedFenceInfo:x,codeFencedFenceMeta:w,codeFlowValue:I,codeIndented:f(j),codeText:f(F),codeTextData:I,data:I,definition:f(),definitionDestinationString:B,definitionLabelString:L,definitionTitleString:T,emphasis:f(),hardBreakEscape:f(H),hardBreakTrailing:f(H),htmlFlow:f(G),htmlFlowData:I,htmlText:f(q),htmlTextData:I,image:f(N),label:X,labelText:Z,lineEnding:P,link:f(k),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ee,resourceDestinationString:O,resourceTitleString:$,resource:K,setextHeading:f(C),setextHeadingLineSequence:M,setextHeadingText:A,strong:f(),thematicBreak:f()}};Eb(t,(n||{}).mdastExtensions||[]);const i={};return a;function a(se){let pe={type:"root",children:[]};const ge={stack:[pe],tokenStack:[],config:t,enter:d,exit:p,buffer:u,resume:h,data:i},Te=[];let Ae=-1;for(;++Ae<se.length;)if(se[Ae][1].type==="listOrdered"||se[Ae][1].type==="listUnordered")if(se[Ae][0]==="enter")Te.push(Ae);else{const lt=Te.pop();Ae=l(se,lt,Ae)}for(Ae=-1;++Ae<se.length;){const lt=t[se[Ae][0]];Sb.call(lt,se[Ae][1].type)&&lt[se[Ae][1].type].call(Object.assign({sliceSerialize:se[Ae][2].sliceSerialize},ge),se[Ae][1])}if(ge.tokenStack.length>0){const lt=ge.tokenStack[ge.tokenStack.length-1];(lt[1]||u0).call(ge,void 0,lt[0])}for(pe.position={start:Zr(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Zr(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<t.transforms.length;)pe=t.transforms[Ae](pe)||pe;return pe}function l(se,pe,ge){let Te=pe-1,Ae=-1,lt=!1,bt,ot,Ke,xt;for(;++Te<=ge;){const Fe=se[Te];switch(Fe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Fe[0]==="enter"?Ae++:Ae--,xt=void 0;break}case"lineEndingBlank":{Fe[0]==="enter"&&(bt&&!xt&&!Ae&&!Ke&&(Ke=Te),xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xt=void 0}if(!Ae&&Fe[0]==="enter"&&Fe[1].type==="listItemPrefix"||Ae===-1&&Fe[0]==="exit"&&(Fe[1].type==="listUnordered"||Fe[1].type==="listOrdered")){if(bt){let Kn=Te;for(ot=void 0;Kn--;){const Xt=se[Kn];if(Xt[1].type==="lineEnding"||Xt[1].type==="lineEndingBlank"){if(Xt[0]==="exit")continue;ot&&(se[ot][1].type="lineEndingBlank",lt=!0),Xt[1].type="lineEnding",ot=Kn}else if(!(Xt[1].type==="linePrefix"||Xt[1].type==="blockQuotePrefix"||Xt[1].type==="blockQuotePrefixWhitespace"||Xt[1].type==="blockQuoteMarker"||Xt[1].type==="listItemIndent"))break}Ke&&(!ot||Ke<ot)&&(bt._spread=!0),bt.end=Object.assign({},ot?se[ot][1].start:Fe[1].end),se.splice(ot||Te,0,["exit",bt,Fe[2]]),Te++,ge++}if(Fe[1].type==="listItemPrefix"){const Kn={type:"listItem",_spread:!1,start:Object.assign({},Fe[1].start),end:void 0};bt=Kn,se.splice(Te,0,["enter",Kn,Fe[2]]),Te++,ge++,Ke=void 0,xt=!0}}}return se[pe][1]._spread=lt,ge}function o(se,pe){return ge;function ge(Te){d.call(this,se(Te),Te),pe&&pe.call(this,Te)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(se,pe,ge){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([pe,ge||void 0]),se.position={start:Zr(pe.start),end:void 0}}function f(se){return pe;function pe(ge){se&&se.call(this,ge),p.call(this,ge)}}function p(se,pe){const ge=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==se.type&&(pe?pe.call(this,se,Te[0]):(Te[1]||u0).call(this,se,Te[0]));else throw new Error("Cannot close `"+se.type+"` ("+Is({start:se.start,end:se.end})+"): its not open");ge.position.end=Zr(se.end)}function h(){return pj(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(se){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function x(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=se}function w(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=se}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/(\r?\n|\r)$/g,"")}function L(se){const pe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=pe,ge.identifier=Aa(this.sliceSerialize(se)).toLowerCase()}function T(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function B(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function V(se){const pe=this.stack[this.stack.length-1];if(!pe.depth){const ge=this.sliceSerialize(se).length;pe.depth=ge}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function M(se){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function R(se){const ge=this.stack[this.stack.length-1].children;let Te=ge[ge.length-1];(!Te||Te.type!=="text")&&(Te=Oe(),Te.position={start:Zr(se.start),end:void 0},ge.push(Te)),this.stack.push(Te)}function I(se){const pe=this.stack.pop();pe.value+=this.sliceSerialize(se),pe.position.end=Zr(se.end)}function P(se){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=pe.children[pe.children.length-1];ge.position.end=Zr(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(pe.type)&&(R.call(this,se),I.call(this,se))}function H(){this.data.atHardBreak=!0}function G(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function q(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function F(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function k(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function N(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function Z(se){const pe=this.sliceSerialize(se),ge=this.stack[this.stack.length-2];ge.label=mN(pe),ge.identifier=Aa(pe).toLowerCase()}function X(){const se=this.stack[this.stack.length-1],pe=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Te=se.children;ge.children=Te}else ge.alt=pe}function O(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function $(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function K(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function ee(se){const pe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=pe,ge.identifier=Aa(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function W(se){this.data.characterReferenceType=se.type}function te(se){const pe=this.sliceSerialize(se),ge=this.data.characterReferenceType;let Te;ge?(Te=hb(pe,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=Yf(pe);const Ae=this.stack[this.stack.length-1];Ae.value+=Te}function he(se){const pe=this.stack.pop();pe.position.end=Zr(se.end)}function oe(se){I.call(this,se);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(se)}function fe(se){I.call(this,se);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(se)}function _e(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function Rt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function st(){return{type:"emphasis",children:[]}}function $e(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Ie(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function dt(){return{type:"link",title:null,url:"",children:[]}}function vt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function nt(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Lt(){return{type:"paragraph",children:[]}}function ft(){return{type:"strong",children:[]}}function Oe(){return{type:"text",value:""}}function Mt(){return{type:"thematicBreak"}}}function Zr(n){return{line:n.line,column:n.column,offset:n.offset}}function Eb(n,t){let i=-1;for(;++i<t.length;){const a=t[i];Array.isArray(a)?Eb(n,a):vN(n,a)}}function vN(n,t){let i;for(i in t)if(Sb.call(t,i))switch(i){case"canContainEols":{const a=t[i];a&&n[i].push(...a);break}case"transforms":{const a=t[i];a&&n[i].push(...a);break}case"enter":case"exit":{const a=t[i];a&&Object.assign(n[i],a);break}}}function u0(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+Is({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+Is({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Is({start:t.start,end:t.end})+") is still open")}function bN(n){const t=this;t.parser=i;function i(a){return gN(a,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xN(n,t){const i={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,i),n.applyData(t,i)}function wN(n,t){const i={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,i),[n.applyData(t,i),{type:"text",value:`
`}]}function _N(n,t){const i=t.value?t.value+`
`:"",a={},l=t.lang?t.lang.split(/\s+/):[];l.length>0&&(a.className=["language-"+l[0]]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:i}]};return t.meta&&(o.data={meta:t.meta}),n.patch(t,o),o=n.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},n.patch(t,o),o}function SN(n,t){const i={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function EN(n,t){const i={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function jN(n,t){const i=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),l=La(a.toLowerCase()),o=n.footnoteOrder.indexOf(a);let u,d=n.footnoteCounts.get(a);d===void 0?(d=0,n.footnoteOrder.push(a),u=n.footnoteOrder.length):u=o+1,d+=1,n.footnoteCounts.set(a,d);const f={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};n.patch(t,f);const p={type:"element",tagName:"sup",properties:{},children:[f]};return n.patch(t,p),n.applyData(t,p)}function kN(n,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function NN(n,t){if(n.options.allowDangerousHtml){const i={type:"raw",value:t.value};return n.patch(t,i),n.applyData(t,i)}}function jb(n,t){const i=t.referenceType;let a="]";if(i==="collapsed"?a+="[]":i==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const l=n.all(t),o=l[0];o&&o.type==="text"?o.value="["+o.value:l.unshift({type:"text",value:"["});const u=l[l.length-1];return u&&u.type==="text"?u.value+=a:l.push({type:"text",value:a}),l}function AN(n,t){const i=String(t.identifier).toUpperCase(),a=n.definitionById.get(i);if(!a)return jb(n,t);const l={src:La(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(l.title=a.title);const o={type:"element",tagName:"img",properties:l,children:[]};return n.patch(t,o),n.applyData(t,o)}function TN(n,t){const i={src:La(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"img",properties:i,children:[]};return n.patch(t,a),n.applyData(t,a)}function CN(n,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,i);const a={type:"element",tagName:"code",properties:{},children:[i]};return n.patch(t,a),n.applyData(t,a)}function RN(n,t){const i=String(t.identifier).toUpperCase(),a=n.definitionById.get(i);if(!a)return jb(n,t);const l={href:La(a.url||"")};a.title!==null&&a.title!==void 0&&(l.title=a.title);const o={type:"element",tagName:"a",properties:l,children:n.all(t)};return n.patch(t,o),n.applyData(t,o)}function ON(n,t){const i={href:La(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"a",properties:i,children:n.all(t)};return n.patch(t,a),n.applyData(t,a)}function UN(n,t,i){const a=n.all(t),l=i?DN(i):kb(t),o={},u=[];if(typeof t.checked=="boolean"){const h=a[0];let y;h&&h.type==="element"&&h.tagName==="p"?y=h:(y={type:"element",tagName:"p",properties:{},children:[]},a.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const h=a[d];(l||d!==0||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!l?u.push(...h.children):u.push(h)}const f=a[a.length-1];f&&(l||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return n.patch(t,p),n.applyData(t,p)}function DN(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const i=n.children;let a=-1;for(;!t&&++a<i.length;)t=kb(i[a])}return t}function kb(n){const t=n.spread;return t??n.children.length>1}function zN(n,t){const i={},a=n.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++l<a.length;){const u=a[l];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:n.wrap(a,!0)};return n.patch(t,o),n.applyData(t,o)}function LN(n,t){const i={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function MN(n,t){const i={type:"root",children:n.wrap(n.all(t))};return n.patch(t,i),n.applyData(t,i)}function BN(n,t){const i={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function IN(n,t){const i=n.all(t),a=i.shift(),l=[];if(a){const u={type:"element",tagName:"thead",properties:{},children:n.wrap([a],!0)};n.patch(t.children[0],u),l.push(u)}if(i.length>0){const u={type:"element",tagName:"tbody",properties:{},children:n.wrap(i,!0)},d=$f(t.children[1]),f=sb(t.children[t.children.length-1]);d&&f&&(u.position={start:d,end:f}),l.push(u)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(l,!0)};return n.patch(t,o),n.applyData(t,o)}function qN(n,t,i){const a=i?i.children:void 0,o=(a?a.indexOf(t):1)===0?"th":"td",u=i&&i.type==="table"?i.align:void 0,d=u?u.length:t.children.length;let f=-1;const p=[];for(;++f<d;){const y=t.children[f],b={},x=u?u[f]:void 0;x&&(b.align=x);let w={type:"element",tagName:o,properties:b,children:[]};y&&(w.children=n.all(y),n.patch(y,w),w=n.applyData(y,w)),p.push(w)}const h={type:"element",tagName:"tr",properties:{},children:n.wrap(p,!0)};return n.patch(t,h),n.applyData(t,h)}function PN(n,t){const i={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}const c0=9,d0=32;function HN(n){const t=String(n),i=/\r?\n|\r/g;let a=i.exec(t),l=0;const o=[];for(;a;)o.push(f0(t.slice(l,a.index),l>0,!0),a[0]),l=a.index+a[0].length,a=i.exec(t);return o.push(f0(t.slice(l),l>0,!1)),o.join("")}function f0(n,t,i){let a=0,l=n.length;if(t){let o=n.codePointAt(a);for(;o===c0||o===d0;)a++,o=n.codePointAt(a)}if(i){let o=n.codePointAt(l-1);for(;o===c0||o===d0;)l--,o=n.codePointAt(l-1)}return l>a?n.slice(a,l):""}function $N(n,t){const i={type:"text",value:HN(String(t.value))};return n.patch(t,i),n.applyData(t,i)}function FN(n,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,i),n.applyData(t,i)}const VN={blockquote:xN,break:wN,code:_N,delete:SN,emphasis:EN,footnoteReference:jN,heading:kN,html:NN,imageReference:AN,image:TN,inlineCode:CN,linkReference:RN,link:ON,listItem:UN,list:zN,paragraph:LN,root:MN,strong:BN,table:IN,tableCell:PN,tableRow:qN,text:$N,thematicBreak:FN,toml:Eo,yaml:Eo,definition:Eo,footnoteDefinition:Eo};function Eo(){}const Nb=-1,Jo=0,Ps=1,Ho=2,Xf=3,Jf=4,Zf=5,Wf=6,Ab=7,Tb=8,h0=typeof self=="object"?self:globalThis,GN=(n,t)=>{const i=(l,o)=>(n.set(o,l),l),a=l=>{if(n.has(l))return n.get(l);const[o,u]=t[l];switch(o){case Jo:case Nb:return i(u,l);case Ps:{const d=i([],l);for(const f of u)d.push(a(f));return d}case Ho:{const d=i({},l);for(const[f,p]of u)d[a(f)]=a(p);return d}case Xf:return i(new Date(u),l);case Jf:{const{source:d,flags:f}=u;return i(new RegExp(d,f),l)}case Zf:{const d=i(new Map,l);for(const[f,p]of u)d.set(a(f),a(p));return d}case Wf:{const d=i(new Set,l);for(const f of u)d.add(a(f));return d}case Ab:{const{name:d,message:f}=u;return i(new h0[d](f),l)}case Tb:return i(BigInt(u),l);case"BigInt":return i(Object(BigInt(u)),l);case"ArrayBuffer":return i(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return i(new DataView(d),u)}}return i(new h0[o](u),l)};return a},m0=n=>GN(new Map,n)(0),xa="",{toString:YN}={},{keys:KN}=Object,Ds=n=>{const t=typeof n;if(t!=="object"||!n)return[Jo,t];const i=YN.call(n).slice(8,-1);switch(i){case"Array":return[Ps,xa];case"Object":return[Ho,xa];case"Date":return[Xf,xa];case"RegExp":return[Jf,xa];case"Map":return[Zf,xa];case"Set":return[Wf,xa];case"DataView":return[Ps,i]}return i.includes("Array")?[Ps,i]:i.includes("Error")?[Ab,i]:[Ho,i]},jo=([n,t])=>n===Jo&&(t==="function"||t==="symbol"),QN=(n,t,i,a)=>{const l=(u,d)=>{const f=a.push(u)-1;return i.set(d,f),f},o=u=>{if(i.has(u))return i.get(u);let[d,f]=Ds(u);switch(d){case Jo:{let h=u;switch(f){case"bigint":d=Tb,h=u.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+f);h=null;break;case"undefined":return l([Nb],u)}return l([d,h],u)}case Ps:{if(f){let b=u;return f==="DataView"?b=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(b=new Uint8Array(u)),l([f,[...b]],u)}const h=[],y=l([d,h],u);for(const b of u)h.push(o(b));return y}case Ho:{if(f)switch(f){case"BigInt":return l([f,u.toString()],u);case"Boolean":case"Number":case"String":return l([f,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const h=[],y=l([d,h],u);for(const b of KN(u))(n||!jo(Ds(u[b])))&&h.push([o(b),o(u[b])]);return y}case Xf:return l([d,u.toISOString()],u);case Jf:{const{source:h,flags:y}=u;return l([d,{source:h,flags:y}],u)}case Zf:{const h=[],y=l([d,h],u);for(const[b,x]of u)(n||!(jo(Ds(b))||jo(Ds(x))))&&h.push([o(b),o(x)]);return y}case Wf:{const h=[],y=l([d,h],u);for(const b of u)(n||!jo(Ds(b)))&&h.push(o(b));return y}}const{message:p}=u;return l([d,{name:f,message:p}],u)};return o},p0=(n,{json:t,lossy:i}={})=>{const a=[];return QN(!(t||i),!!t,new Map,a)(n),a},$o=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?m0(p0(n,t)):structuredClone(n):(n,t)=>m0(p0(n,t));function XN(n,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function JN(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function ZN(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=n.options.footnoteBackContent||XN,a=n.options.footnoteBackLabel||JN,l=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",u=n.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let f=-1;for(;++f<n.footnoteOrder.length;){const p=n.footnoteById.get(n.footnoteOrder[f]);if(!p)continue;const h=n.all(p),y=String(p.identifier).toUpperCase(),b=La(y.toLowerCase());let x=0;const w=[],E=n.footnoteCounts.get(y);for(;E!==void 0&&++x<=E;){w.length>0&&w.push({type:"text",value:" "});let L=typeof i=="string"?i:i(f,x);typeof L=="string"&&(L={type:"text",value:L}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(f,x),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const L=S.children[S.children.length-1];L&&L.type==="text"?L.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...w)}else h.push(...w);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:n.wrap(h,!0)};n.patch(p,j),d.push(j)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$o(u),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(d,!0)},{type:"text",value:`
`}]}}const Cb=(function(n){if(n==null)return nA;if(typeof n=="function")return Zo(n);if(typeof n=="object")return Array.isArray(n)?WN(n):eA(n);if(typeof n=="string")return tA(n);throw new Error("Expected function, string, or object as test")});function WN(n){const t=[];let i=-1;for(;++i<n.length;)t[i]=Cb(n[i]);return Zo(a);function a(...l){let o=-1;for(;++o<t.length;)if(t[o].apply(this,l))return!0;return!1}}function eA(n){const t=n;return Zo(i);function i(a){const l=a;let o;for(o in n)if(l[o]!==t[o])return!1;return!0}}function tA(n){return Zo(t);function t(i){return i&&i.type===n}}function Zo(n){return t;function t(i,a,l){return!!(rA(i)&&n.call(this,i,typeof a=="number"?a:void 0,l||void 0))}}function nA(){return!0}function rA(n){return n!==null&&typeof n=="object"&&"type"in n}const Rb=[],iA=!0,g0=!1,aA="skip";function sA(n,t,i,a){let l;typeof t=="function"&&typeof i!="function"?(a=i,i=t):l=t;const o=Cb(l),u=a?-1:1;d(n,void 0,[])();function d(f,p,h){const y=f&&typeof f=="object"?f:{};if(typeof y.type=="string"){const x=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(x?"<"+x+">":""))+")"})}return b;function b(){let x=Rb,w,E,S;if((!t||o(f,p,h[h.length-1]||void 0))&&(x=lA(i(f,h)),x[0]===g0))return x;if("children"in f&&f.children){const j=f;if(j.children&&x[0]!==aA)for(E=(a?j.children.length:-1)+u,S=h.concat(j);E>-1&&E<j.children.length;){const L=j.children[E];if(w=d(L,E,S)(),w[0]===g0)return w;E=typeof w[1]=="number"?w[1]:E+u}}return x}}}function lA(n){return Array.isArray(n)?n:typeof n=="number"?[iA,n]:n==null?Rb:[n]}function Ob(n,t,i,a){let l,o,u;typeof t=="function"&&typeof i!="function"?(o=void 0,u=t,l=i):(o=t,u=i,l=a),sA(n,o,d,l);function d(f,p){const h=p[p.length-1],y=h?h.children.indexOf(f):void 0;return u(f,y,h)}}const gf={}.hasOwnProperty,oA={};function uA(n,t){const i=t||oA,a=new Map,l=new Map,o=new Map,u={...VN,...i.handlers},d={all:p,applyData:dA,definitionById:a,footnoteById:l,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:i,patch:cA,wrap:hA};return Ob(n,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const y=h.type==="definition"?a:l,b=String(h.identifier).toUpperCase();y.has(b)||y.set(b,h)}}),d;function f(h,y){const b=h.type,x=d.handlers[b];if(gf.call(d.handlers,b)&&x)return x(d,h,y);if(d.options.passThrough&&d.options.passThrough.includes(b)){if("children"in h){const{children:E,...S}=h,j=$o(S);return j.children=d.all(h),j}return $o(h)}return(d.options.unknownHandler||fA)(d,h,y)}function p(h){const y=[];if("children"in h){const b=h.children;let x=-1;for(;++x<b.length;){const w=d.one(b[x],h);if(w){if(x&&b[x-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=y0(w.value)),!Array.isArray(w)&&w.type==="element")){const E=w.children[0];E&&E.type==="text"&&(E.value=y0(E.value))}Array.isArray(w)?y.push(...w):y.push(w)}}}return y}}function cA(n,t){n.position&&(t.position=YE(n))}function dA(n,t){let i=t;if(n&&n.data){const a=n.data.hName,l=n.data.hChildren,o=n.data.hProperties;if(typeof a=="string")if(i.type==="element")i.tagName=a;else{const u="children"in i?i.children:[i];i={type:"element",tagName:a,properties:{},children:u}}i.type==="element"&&o&&Object.assign(i.properties,$o(o)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function fA(n,t){const i=t.data||{},a="value"in t&&!(gf.call(i,"hProperties")||gf.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,a),n.applyData(t,a)}function hA(n,t){const i=[];let a=-1;for(t&&i.push({type:"text",value:`
`});++a<n.length;)a&&i.push({type:"text",value:`
`}),i.push(n[a]);return t&&n.length>0&&i.push({type:"text",value:`
`}),i}function y0(n){let t=0,i=n.charCodeAt(t);for(;i===9||i===32;)t++,i=n.charCodeAt(t);return n.slice(t)}function v0(n,t){const i=uA(n,t),a=i.one(n,void 0),l=ZN(i),o=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return l&&o.children.push({type:"text",value:`
`},l),o}function mA(n,t){return n&&"run"in n?async function(i,a){const l=v0(i,{file:a,...t});await n.run(l,a)}:function(i,a){return v0(i,{file:a,...n||t})}}function b0(n){if(n)throw n}var zd,x0;function pA(){if(x0)return zd;x0=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):t.call(p)==="[object Array]"},o=function(p){if(!p||t.call(p)!=="[object Object]")return!1;var h=n.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&n.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!h&&!y)return!1;var b;for(b in p);return typeof b>"u"||n.call(p,b)},u=function(p,h){i&&h.name==="__proto__"?i(p,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):p[h.name]=h.newValue},d=function(p,h){if(h==="__proto__")if(n.call(p,h)){if(a)return a(p,h).value}else return;return p[h]};return zd=function f(){var p,h,y,b,x,w,E=arguments[0],S=1,j=arguments.length,L=!1;for(typeof E=="boolean"&&(L=E,E=arguments[1]||{},S=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});S<j;++S)if(p=arguments[S],p!=null)for(h in p)y=d(E,h),b=d(p,h),E!==b&&(L&&b&&(o(b)||(x=l(b)))?(x?(x=!1,w=y&&l(y)?y:[]):w=y&&o(y)?y:{},u(E,{name:h,newValue:f(L,w,b)})):typeof b<"u"&&u(E,{name:h,newValue:b}));return E},zd}var gA=pA();const Ld=Ys(gA);function yf(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function yA(){const n=[],t={run:i,use:a};return t;function i(...l){let o=-1;const u=l.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...l);function d(f,...p){const h=n[++o];let y=-1;if(f){u(f);return}for(;++y<l.length;)(p[y]===null||p[y]===void 0)&&(p[y]=l[y]);l=p,h?vA(h,d)(...p):u(null,...p)}}function a(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return n.push(l),t}}function vA(n,t){let i;return a;function a(...u){const d=n.length>u.length;let f;d&&u.push(l);try{f=n.apply(this,u)}catch(p){const h=p;if(d&&i)throw h;return l(h)}d||(f&&f.then&&typeof f.then=="function"?f.then(o,l):f instanceof Error?l(f):o(f))}function l(u,...d){i||(i=!0,t(u,...d))}function o(u){l(null,u)}}const tr={basename:bA,dirname:xA,extname:wA,join:_A,sep:"/"};function bA(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zs(n);let i=0,a=-1,l=n.length,o;if(t===void 0||t.length===0||t.length>n.length){for(;l--;)if(n.codePointAt(l)===47){if(o){i=l+1;break}}else a<0&&(o=!0,a=l+1);return a<0?"":n.slice(i,a)}if(t===n)return"";let u=-1,d=t.length-1;for(;l--;)if(n.codePointAt(l)===47){if(o){i=l+1;break}}else u<0&&(o=!0,u=l+1),d>-1&&(n.codePointAt(l)===t.codePointAt(d--)?d<0&&(a=l):(d=-1,a=u));return i===a?a=u:a<0&&(a=n.length),n.slice(i,a)}function xA(n){if(Zs(n),n.length===0)return".";let t=-1,i=n.length,a;for(;--i;)if(n.codePointAt(i)===47){if(a){t=i;break}}else a||(a=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function wA(n){Zs(n);let t=n.length,i=-1,a=0,l=-1,o=0,u;for(;t--;){const d=n.codePointAt(t);if(d===47){if(u){a=t+1;break}continue}i<0&&(u=!0,i=t+1),d===46?l<0?l=t:o!==1&&(o=1):l>-1&&(o=-1)}return l<0||i<0||o===0||o===1&&l===i-1&&l===a+1?"":n.slice(l,i)}function _A(...n){let t=-1,i;for(;++t<n.length;)Zs(n[t]),n[t]&&(i=i===void 0?n[t]:i+"/"+n[t]);return i===void 0?".":SA(i)}function SA(n){Zs(n);const t=n.codePointAt(0)===47;let i=EA(n,!t);return i.length===0&&!t&&(i="."),i.length>0&&n.codePointAt(n.length-1)===47&&(i+="/"),t?"/"+i:i}function EA(n,t){let i="",a=0,l=-1,o=0,u=-1,d,f;for(;++u<=n.length;){if(u<n.length)d=n.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(l===u-1||o===1))if(l!==u-1&&o===2){if(i.length<2||a!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(f=i.lastIndexOf("/"),f!==i.length-1){f<0?(i="",a=0):(i=i.slice(0,f),a=i.length-1-i.lastIndexOf("/")),l=u,o=0;continue}}else if(i.length>0){i="",a=0,l=u,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+n.slice(l+1,u):i=n.slice(l+1,u),a=u-l-1;l=u,o=0}else d===46&&o>-1?o++:o=-1}return i}function Zs(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const jA={cwd:kA};function kA(){return"/"}function vf(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function NA(n){if(typeof n=="string")n=new URL(n);else if(!vf(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return AA(n)}function AA(n){if(n.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=n.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const a=t.codePointAt(i+2);if(a===70||a===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const Md=["history","path","basename","stem","extname","dirname"];class Ub{constructor(t){let i;t?vf(t)?i={path:t}:typeof t=="string"||TA(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":jA.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Md.length;){const o=Md[a];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let l;for(l in i)Md.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?tr.basename(this.path):void 0}set basename(t){Id(t,"basename"),Bd(t,"basename"),this.path=tr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?tr.dirname(this.path):void 0}set dirname(t){w0(this.basename,"dirname"),this.path=tr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?tr.extname(this.path):void 0}set extname(t){if(Bd(t,"extname"),w0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=tr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){vf(t)&&(t=NA(t)),Id(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?tr.basename(this.path,this.extname):void 0}set stem(t){Id(t,"stem"),Bd(t,"stem"),this.path=tr.join(this.dirname||"",t+(this.extname||""))}fail(t,i,a){const l=this.message(t,i,a);throw l.fatal=!0,l}info(t,i,a){const l=this.message(t,i,a);return l.fatal=void 0,l}message(t,i,a){const l=new Qt(t,i,a);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Bd(n,t){if(n&&n.includes(tr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+tr.sep+"`")}function Id(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function w0(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function TA(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const CA=(function(n){const a=this.constructor.prototype,l=a[n],o=function(){return l.apply(o,arguments)};return Object.setPrototypeOf(o,a),o}),RA={}.hasOwnProperty;class eh extends CA{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yA()}copy(){const t=new eh;let i=-1;for(;++i<this.attachers.length;){const a=this.attachers[i];t.use(...a)}return t.data(Ld(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(Hd("data",this.frozen),this.namespace[t]=i,this):RA.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Hd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const l=i.call(t,...a);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=ko(t),a=this.parser||this.Parser;return qd("parse",a),a(String(i),i)}process(t,i){const a=this;return this.freeze(),qd("process",this.parser||this.Parser),Pd("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(o,u){const d=ko(t),f=a.parse(d);a.run(f,d,function(h,y,b){if(h||!y||!b)return p(h);const x=y,w=a.stringify(x,b);DA(w)?b.value=w:b.result=w,p(h,b)});function p(h,y){h||!y?u(h):o?o(y):i(void 0,y)}}}processSync(t){let i=!1,a;return this.freeze(),qd("processSync",this.parser||this.Parser),Pd("processSync",this.compiler||this.Compiler),this.process(t,l),S0("processSync","process",i),a;function l(o,u){i=!0,b0(o),a=u}}run(t,i,a){_0(t),this.freeze();const l=this.transformers;return!a&&typeof i=="function"&&(a=i,i=void 0),a?o(void 0,a):new Promise(o);function o(u,d){const f=ko(i);l.run(t,f,p);function p(h,y,b){const x=y||t;h?d(h):u?u(x):a(void 0,x,b)}}}runSync(t,i){let a=!1,l;return this.run(t,i,o),S0("runSync","run",a),l;function o(u,d){b0(u),l=d,a=!0}}stringify(t,i){this.freeze();const a=ko(i),l=this.compiler||this.Compiler;return Pd("stringify",l),_0(t),l(t,a)}use(t,...i){const a=this.attachers,l=this.namespace;if(Hd("use",this.frozen),t!=null)if(typeof t=="function")f(t,i);else if(typeof t=="object")Array.isArray(t)?d(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(p){if(typeof p=="function")f(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[h,...y]=p;f(h,y)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(p.plugins),p.settings&&(l.settings=Ld(!0,l.settings,p.settings))}function d(p){let h=-1;if(p!=null)if(Array.isArray(p))for(;++h<p.length;){const y=p[h];o(y)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function f(p,h){let y=-1,b=-1;for(;++y<a.length;)if(a[y][0]===p){b=y;break}if(b===-1)a.push([p,...h]);else if(h.length>0){let[x,...w]=h;const E=a[b][1];yf(E)&&yf(x)&&(x=Ld(!0,E,x)),a[b]=[p,x,...w]}}}}const OA=new eh().freeze();function qd(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Pd(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Hd(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _0(n){if(!yf(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function S0(n,t,i){if(!i)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function ko(n){return UA(n)?n:new Ub(n)}function UA(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function DA(n){return typeof n=="string"||zA(n)}function zA(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const LA="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E0=[],j0={allowDangerousHtml:!0},MA=/^(https?|ircs?|mailto|xmpp)$/i,BA=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function IA(n){const t=qA(n),i=PA(n);return HA(t.runSync(t.parse(i),i),n)}function qA(n){const t=n.rehypePlugins||E0,i=n.remarkPlugins||E0,a=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...j0}:j0;return OA().use(bN).use(i).use(mA,a).use(t)}function PA(n){const t=n.children||"",i=new Ub;return typeof t=="string"&&(i.value=t),i}function HA(n,t){const i=t.allowedElements,a=t.allowElement,l=t.components,o=t.disallowedElements,u=t.skipHtml,d=t.unwrapDisallowed,f=t.urlTransform||$A;for(const h of BA)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+LA+h.id,void 0);return Ob(n,p),ZE(n,{Fragment:g.Fragment,components:l,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function p(h,y,b){if(h.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:h.value},y;if(h.type==="element"){let x;for(x in Od)if(Object.hasOwn(Od,x)&&Object.hasOwn(h.properties,x)){const w=h.properties[x],E=Od[x];(E===null||E.includes(h.tagName))&&(h.properties[x]=f(String(w||""),x,h))}}if(h.type==="element"){let x=i?!i.includes(h.tagName):o?o.includes(h.tagName):!1;if(!x&&a&&typeof y=="number"&&(x=!a(h,y,b)),x&&b&&typeof y=="number")return d&&h.children?b.children.splice(y,1,...h.children):b.children.splice(y,1),y}}}function $A(n){const t=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),l=n.indexOf("/");return t===-1||l!==-1&&t>l||i!==-1&&t>i||a!==-1&&t>a||MA.test(n.slice(0,t))?n:""}const FA=[{question:"How do I create a recipe?",answer:`
You can create a recipe by going to **Your Profile  Add Recipe (+ button at the bottom right)**.
Make sure to fill all form fields, except the image which is optional.

    `},{question:"How do I create a thematic list?",answer:`
To create a thematic list, go to **Your Profile  Thematic Lists  + Thematic List (dashed rectangle)**.
Fill in the title and description, then add recipes to your list.
You can add more recipes later by editing the list.
    `},{question:"How do I follow other cooks?",answer:`
Visit any user profile and tap **Follow**.  
You will see their updates on future social features.
    `},{question:"How do I edit my profile?",answer:`
    Go to Profile  Edit Profile.
    Here you can change your:
    - Profile Picture
    - Bio
    - Other personal details
    `},{question:"How do I edit my uploaded recipes?",answer:`
    Go to Profile  My Recipes.
    Select the recipe you want to edit and tap Edit.
    Make your changes and save.
    `},{question:"How do I search for recipes?",answer:`
Use the search bar at the top of the page.  
You can search by:
- Recipe Title  
- Ingredients  
- Tags
    `},{question:"Which image formats are supported?",answer:`
Right now we support JPEG format only.
In the future we plan to support other formats including HEIC.
    `}];function VA(){const[n,t]=z.useState(null),i=a=>{t(n===a?null:a)};return g.jsxs("main",{className:"min-h-screen bg-bright pb-20 pt-10 px-4 sm:px-6 lg:px-10 mt-10 md:mt-0",children:[g.jsx("h1",{className:`
          text-center absolute left-1/2 top-26 -translate-x-1/2
          text-[80px] font-heading-styled 
          text-dark/5 select-none tracking-tight
        `,children:"FAQ"}),g.jsx("h1",{className:"text-3xl font-heading text-secondary mb-8 text-center",children:"Frequently Asked Questions"}),g.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:FA.map((a,l)=>g.jsxs("article",{className:"border border-secondary/20 bg-white rounded-xl shadow-sm p-4 cursor-pointer",onClick:()=>i(l),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"font-heading text-lg text-secondary",children:a.question}),g.jsx("span",{className:"text-main font-heading text-xl",children:n===l?"":"+"})]}),n===l&&g.jsx("div",{className:"mt-3 text-dark/80 font-body text-sm leading-6",children:g.jsx(IA,{children:a.answer})})]},l))})]})}function ei({recipe:n,variant:t="grid",addedAt:i,backgroundColor:a="white"}){const l=GA(n.image_url,t==="grid"?600:360);return t==="list"?g.jsxs("article",{className:"flex gap-4 rounded-xl border border-off-white p-3 shadow-sm hover:shadow-md transition-shadow duration-150",style:{backgroundColor:a},children:[l&&g.jsx(mt,{to:`/recipe/${n.id}`,className:"relative block h-24 w-24 shrink-0 overflow-hidden rounded-lg",children:g.jsx("img",{src:l,alt:n.title,className:"h-full w-full object-cover"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-1",children:[g.jsx(mt,{to:`/recipe/${n.id}`,className:"text-base font-heading text-secondary hover:text-main transition-colors",children:n.title}),i&&g.jsxs("span",{className:"text-xs font-body text-dark/60",children:["Added on ",new Date(i).toLocaleDateString()]})]}),n.short_description&&g.jsx("p",{className:"mt-1 text-sm text-dark/70 font-body leading-5 line-clamp-3",children:n.short_description}),g.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs font-heading text-dark/70",children:[g.jsx(No,{label:"Prep",value:k0(n.prep_time,"min")}),g.jsx(No,{label:"Cook",value:k0(n.cook_time,"min")}),g.jsx(No,{label:"Servings",value:n.servings?.toString()}),g.jsx(No,{label:"Difficulty",value:typeof n.difficulty=="string"?n.difficulty:n.difficulty?.toString()})]})]})]}):g.jsxs("article",{className:"rounded-lg w-68 shrink-0 overflow-hidden shadow-sm border border-gray-200 hover:shadow-md transition",style:{backgroundColor:a},children:[l?g.jsx(mt,{to:`/recipe/${n.id}`,children:g.jsx("img",{src:l,alt:n.title,className:"w-full h-44 object-cover"})}):g.jsx("div",{className:"w-full h-44 bg-gray-200"}),g.jsxs("div",{className:"p-4 h-60",children:[g.jsx(mt,{to:`/recipe/${n.id}`,className:"text-lg font-semibold text-[#e57f22] hover:text-[#c96411] transition-colors w-",children:n.title}),n.short_description&&g.jsx("p",{className:"mt-2 h-22 text-sm text-gray-700 leading-relaxed line-clamp-5",children:n.short_description}),g.jsxs("div",{className:"mt-3 text-xs text-gray-500 space-y-1",children:[(n.prep_time||n.cook_time)&&g.jsxs("p",{children:[" Prep: ",n.prep_time??"-"," min  Cook:"," ",n.cook_time??"-"," min"]}),n.servings&&g.jsxs("p",{children:[" Servings: ",n.servings]}),n.difficulty!=null&&g.jsxs("p",{children:[" Difficulty:"," ",typeof n.difficulty=="string"?n.difficulty:`${n.difficulty}/5`]})]})]})]})}function GA(n,t=600){if(n)return n.startsWith("http")?n:If(n,t)}function No({label:n,value:t}){return t?g.jsxs("span",{className:"rounded-full bg-off-white px-3 py-1",children:[g.jsxs("span",{className:"font-semibold",children:[n,":"]})," ",t]}):null}function k0(n,t){if(n!=null)return t?`${n} ${t}`:`${n}`}function YA({review:n,className:t="",recipeCardBackground:i="var(--color-bright)"}){const a=KA(n.author),l=n.author?.username?`/profile/${n.author.username}`:void 0,o=QA(n.rating);return g.jsxs("article",{className:`flex flex-row shrink-0  max-w-full rounded-2xl border border-off-white bg-bright shadow-lg overflow-hidden ${t}`,children:[g.jsxs("div",{className:"flex w-64 flex-col  bg-off-white/70 p-5 ",children:[g.jsxs(mt,{to:`/review/${n.id}`,className:"flex items-center justify-between gap-3 hover:text-main transition-colors",children:[g.jsxs("div",{className:"text-lg font-heading text-dark",children:["Review:"," ",g.jsxs("span",{className:"font-semibold text-main",children:[o,g.jsx("span",{className:"text-dark/60",children:"/5"})]})]}),g.jsx(XA,{author:n.author})]}),g.jsxs("div",{className:"text-sm font-body text-dark/70 flex items-center gap-2 mb-10",children:[g.jsx("span",{className:"text-xs uppercase tracking-wide text-dark/50",children:"by"}),l?g.jsx(mt,{to:l,className:"text-main font-semibold hover:text-secondary transition-colors",onClick:u=>u.stopPropagation(),children:a}):g.jsx("span",{className:"font-semibold",children:a})]}),n.description?g.jsx("p",{className:"text-sm text-dark/80 font-body leading-relaxed line-clamp-3",children:n.description}):g.jsx("p",{className:"text-sm text-dark/50 font-body italic",children:"No review text provided."})]}),g.jsx("div",{className:"flex-1 border-l border-off-white",children:n.recipe?g.jsx(ei,{recipe:n.recipe,backgroundColor:i}):g.jsx("div",{className:"p-4 text-sm text-dark/60 font-body h-full flex items-center",children:"Recipe unavailable"})})]})}function KA(n){return n&&(`${n.first_name??""} ${n.last_name??""}`.trim()||n.username)||"Tempero cook"}function QA(n){return Number.isNaN(n)?0:Math.max(0,Math.min(5,Math.round(n)))}function XA({author:n}){const t=n?.profile_picture_url,i=(n?.first_name?.[0]??n?.last_name?.[0]??"?").toUpperCase();return t?g.jsx("img",{src:t,alt:n?.username??"Profile picture",className:"h-10 w-10 rounded-full object-cover border border-white shadow-sm"}):g.jsx("div",{className:"h-10 w-10 rounded-full bg-main/10 text-main font-semibold flex items-center justify-center border border-main/20",children:i})}function Db(){const[n,t]=z.useState(0),[i,a]=z.useState(1),[l,o]=z.useState("New Cook"),[u,d]=z.useState(null);return z.useEffect(()=>{(async()=>{const{data:f}=await ue.auth.getUser();d(f?.user??null)})()},[]),z.useEffect(()=>{if(!u)return;(async()=>{const{data:h,error:y}=await ue.from("profiles").select("xp, level, chef_type").eq("auth_id",u.id).single();y||!h||(t(h.xp||0),a(h.level||1),o(h.chef_type||"New Cook"))})();const p=ue.channel(`profile-xp-${u.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`auth_id=eq.${u.id}`},h=>{const y=h.new;t(y.xp||0),a(y.level||1),o(y.chef_type||"New Cook")}).subscribe();return()=>{ue.removeChannel(p)}},[u]),u?g.jsxs("div",{className:"bg-white border border-secondary/20 rounded-xl p-6 shadow-sm w-full max-w-2xl mt-16 md:mt-0",children:[g.jsx("h3",{className:"text-lg font-heading-styled text-secondary mb-4",children:"Your Progress"}),g.jsxs("div",{className:"mb-3",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("span",{className:"text-sm font-heading text-dark",children:["Level ",i]}),g.jsx("span",{className:"text-sm font-heading text-main",children:l})]}),g.jsx("div",{className:"h-4 bg-bright rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-main rounded-full transition-all duration-300",style:{width:`${Math.min(100,n%1e3/10)}%`}})}),g.jsxs("div",{className:"flex justify-between items-center mt-2",children:[g.jsxs("span",{className:"text-xs text-dark/60 font-body",children:[n," XP"]}),g.jsxs("span",{className:"text-xs text-dark/60 font-body",children:[Math.floor(n/1e3)*1e3+1e3," XP"]})]})]})]}):null}async function JA(n){const{data:t,error:i}=await ue.from("recipes").select("*").order("updated_at",{ascending:!1}).limit(n);return i?(console.error("Error fetching recent recipes:",i),[]):t??[]}async function N0(n){const{data:t,error:i}=await ue.from("recipes").select("*").eq("difficulty",n);return i?(console.error("Error fetching recipes by level:",i),[]):t??[]}async function ZA(n=20){const{data:t,error:i}=await ue.from("popular_recipes").select("*").order("popularity",{ascending:!1}).limit(n);return i?(console.error("Error fetching popular recipes:",i),[]):t}function WA(){const[n,t]=z.useState(!1);return z.useEffect(()=>{(async()=>{const{data:i}=await ue.auth.getUser();if(!i.user)return;const{data:a}=await ue.from("profiles").select("is_admin").eq("auth_id",i.user.id).single();t(a?.is_admin||!1)})()},[]),n?null:g.jsx("button",{className:"bg-main text-bright text-3xl font-heading fixed right-6 bottom-10 py-2 px-4 rounded shadow-2xl hover:cursor-pointer hover:-translate-y-1 hover:opacity-80 transition-all",children:g.jsx(Ls,{to:"/upload-recipe",children:"+"})})}async function eT(n,t){if(t&&t.length===0)return[];let i=ue.from("reviews").select(`
        id,
        author_id,
        review,
        description,
        recipe_id,
        created_at,
        updated_at,
        recipes(
          id,
          title,
          short_description,
          image_url,
          prep_time,
          cook_time,
          servings,
          difficulty
        )
      `).order("updated_at",{ascending:!1});t&&t.length>0&&(i=i.in("author_id",t)),i=i.limit(n);const{data:a,error:l}=await i;if(l)return console.error("Error fetching recent reviews:",l),[];const o=(a??[]).map(f=>({...f,recipes:Array.isArray(f.recipes)?f.recipes[0]??null:f.recipes??null})),u=Array.from(new Set(o.map(f=>f.author_id).filter(Boolean)));let d=new Map;if(u.length>0){const{data:f,error:p}=await ue.from("profiles").select("auth_id, username, first_name, last_name, profile_picture_url").in("auth_id",u);p?console.error("Error fetching profiles for reviews:",p):d=new Map((f??[]).map(h=>[h.auth_id,h]))}return o.map(f=>({id:f.id,rating:f.review,description:f.description??null,updated_at:f.updated_at??f.created_at??null,recipe:f.recipes??null,author:d.get(f.author_id)??null}))}async function tT(n){const{data:t,error:i}=await ue.from("followers").select("followed_id").eq("follower_id",n);return i?(console.error("Error fetching follow relationships:",i),[]):(t??[]).map(a=>a.followed_id).filter(Boolean)}function nT(){const[t,i]=z.useState([]),[a,l]=z.useState([]),[o,u]=z.useState(null),[d,f]=z.useState(null),[p,h]=z.useState([]),[y,b]=z.useState([]),[x,w]=z.useState([]);return z.useEffect(()=>{JA(10).then(i)},[]),z.useEffect(()=>{let E=!0;return ue.auth.getUser().then(({data:S})=>{E&&u(S.user?.id??null)}),()=>{E=!1}},[]),z.useEffect(()=>{let E=!0;if(!o){f([]);return}return tT(o).then(S=>{E&&f(S)}),()=>{E=!1}},[o]),z.useEffect(()=>{let E=!0;if(d!==null){if(d.length===0){l([]);return}return eT(10,d).then(S=>{E&&l(S)}),()=>{E=!1}}},[d]),z.useEffect(()=>{const E=[...t.map(S=>({kind:"recipe",date:S?.updated_at??S?.created_at??null,data:S})),...a.map(S=>({kind:"review",date:S?.created_at??S?.updated_at??null,data:S}))];E.sort((S,j)=>{const L=S.date?new Date(S.date).getTime():0;return(j.date?new Date(j.date).getTime():0)-L}),w(E)},[t,a]),z.useEffect(()=>{(async()=>{if(!o)return;const{data:S,error:j}=await ue.from("profiles").select("level").eq("auth_id",o).single();if(j||!S)return;const L=S.level,T=await N0(L),B=await N0(L+1),V=[...T,...B];h(V)})()},[o]),z.useEffect(()=>{(async()=>{const S=await ZA(15);b(S),console.log(S)})()},[]),g.jsxs("div",{className:"main-section bg-bright min-h-screen flex flex-col items-center justify-start py-10 px-5 space-y-15",children:[g.jsx(Db,{}),g.jsxs("div",{className:"feed-preview-container flex flex-col w-full ",children:[g.jsx("div",{className:"feed-preview-header mb-2",children:g.jsx("h2",{className:"text-4xl font-heading-styled w-fit text-gradient-to-r py-2 ",children:"What's new?"})}),g.jsx("div",{className:"feed-preview-list flex flex-row gap-6 bg-white rounded-lg shadow-lg overflow-x-scroll p-6 custom-scroll w-full h-120",children:x.map((E,S)=>g.jsx("div",{children:E.kind==="review"?g.jsx(YA,{review:E.data,className:"min-w-[300px]"}):g.jsx(ei,{recipe:E.data,backgroundColor:"var(--color-bright)"})},`${E.kind}-${E.data.id??S}`))})]}),g.jsxs("div",{className:"suggestions-preview-container flex flex-col md:items-center w-full",children:[g.jsxs("div",{className:"suggestions-preview-header mb-6 text-center",children:[g.jsx("h2",{className:"text-4xl font-heading-styled text-gradient-to-r py-2 mx-auto",children:"Suggestions for you!"}),g.jsx("b",{className:"font-body font-thin text-dark",children:"Recipe selection curated to increase your experience level"})]}),g.jsx("div",{className:"feed-preview-list flex flex-row gap-6 bg-white rounded-lg shadow-lg overflow-x-scroll p-6 custom-scroll w-full h-120",children:p.map(E=>g.jsx(ei,{recipe:E,backgroundColor:"var(--color-bright)"},E.id))})]}),g.jsxs("div",{className:"suggestions-preview-container flex flex-col md:items-end w-full",children:[g.jsx("div",{className:"suggestions-preview-header  md:text-right mb-2",children:g.jsx("h2",{className:"text-4xl font-heading-styled w-fit text-gradient-to-r   py-2 ",children:"Popular recipes!"})}),g.jsx("div",{className:"feed-preview-list flex flex-row gap-6 bg-white rounded-lg shadow-lg overflow-x-scroll p-6 custom-scroll w-full h-120",children:y.map(E=>g.jsx(ei,{recipe:E,backgroundColor:"var(--color-bright)"},E.id))})]})]})}function rT({listId:n,onClose:t,onAdded:i}){const[a,l]=z.useState([]),[o,u]=z.useState(!1),[d,f]=z.useState(!1);z.useEffect(()=>{(async()=>{u(!0);const{data:h}=await ue.from("recipes").select("*");l(h||[]),u(!1)})()},[]);async function p(h){f(!0),await ue.from("list_recipes").insert({list_id:n,recipe_id:h}),f(!1),i(),t()}return g.jsx("div",{className:`
      fixed inset-0 bg-black/40 backdrop-blur-sm
      flex items-center justify-center z-50
    `,children:g.jsxs("div",{className:`
        w-full max-w-lg bg-white rounded-xl p-6 
        border border-secondary/30 shadow-xl
      `,children:[g.jsx("h2",{className:"font-heading-styled text-2xl text-secondary mb-4",children:"Add Recipes"}),o?g.jsx("p",{className:"font-body text-dark",children:"Loading recipes"}):g.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3",children:a.map(h=>g.jsxs("div",{className:`flex justify-between items-center p-3
                  rounded-lg border bg-bright border-dark/10`,children:[g.jsx("span",{className:"font-body text-dark",children:h.title}),g.jsx("button",{onClick:()=>p(h.id),className:`
                    bg-main hover:bg-secondary text-bright
                    px-3 py-1 rounded-md font-heading-styled
                  `,disabled:d,children:"Add"})]},h.id))}),g.jsx("button",{onClick:t,className:`
            mt-5 w-full bg-dark/20 hover:bg-dark/30 
            text-dark font-body py-2 rounded-lg
          `,children:"Cancel"})]})})}function zb({message:n,type:t="success",onClose:i}){return z.useEffect(()=>{const a=setTimeout(i,2500);return()=>clearTimeout(a)},[]),g.jsx("div",{className:`
        fixed bottom-6 right-6 z-50 px-5 py-3 rounded-xl shadow-lg
        text-bright font-body transition-opacity
        ${t==="success"?"bg-secondary/50":"bg-red-600"}
      `,children:n})}async function iT(){const{data:n,error:t}=await ue.from("lists").select(`
      id,
      user_id,
      title,
      description,
      visibility,
      created_at,
      profiles:user_id (
        username,
        first_name,
        last_name,
        profile_picture_url
      ),
      list_recipes(count)
    `).eq("visibility","PUBLIC").order("created_at",{ascending:!1});if(t)throw t;return n??[]}async function aT(n,t){let i=ue.from("lists").select(`
      id,
      user_id,
      title,
      description,
      visibility,
      created_at,
      list_recipes(count)
    `).eq("user_id",n).order("created_at",{ascending:!1});t||(i=i.eq("visibility","PUBLIC"));const{data:a,error:l}=await i;if(l)throw l;return a??[]}async function A0(n){const{data:t,error:i}=await ue.from("lists").select(`
      id,
      user_id,
      title,
      description,
      visibility,
      created_at,
      profiles:user_id (
        username,
        first_name,
        last_name,
        profile_picture_url
      )
    `).eq("id",n).maybeSingle();if(i)throw i;if(!t)return{playlist:null,recipes:[]};const{data:a,error:l}=await ue.from("list_recipes").select(`
      added_at,
      recipes:recipe_id (
        id,
        title,
        short_description,
        image_url,
        prep_time,
        cook_time,
        servings,
        difficulty
      )
    `).eq("list_id",n);if(l)throw l;return{playlist:t,recipes:a??[]}}function sT(){const{playlistId:n}=Vo(),[t,i]=z.useState(null),[a,l]=z.useState([]),[o,u]=z.useState(!1),[d,f]=z.useState(null),[p,h]=z.useState(!1),[y,b]=z.useState(null);if(z.useEffect(()=>{n&&(u(!0),f(null),A0(n).then(({playlist:S,recipes:j})=>{i(S),l(j)}).catch(S=>f(S.message)).finally(()=>u(!1)))},[n]),o)return g.jsx("main",{className:"min-h-screen bg-bright",children:g.jsx("div",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8",children:g.jsx(kr,{message:"Loading list details"})})});if(d)return g.jsx("main",{className:"min-h-screen bg-bright",children:g.jsx("div",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8",children:g.jsx("p",{className:"text-sm text-color-danger font-body",children:d})})});if(!t)return g.jsx("main",{className:"min-h-screen bg-bright",children:g.jsx("div",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8",children:g.jsx("p",{className:"text-sm text-dark/60 font-body",children:"List not found."})})});const x=t.visibility==="PUBLIC",w=t.profiles,E=w?.first_name||w?.last_name?`${w?.first_name??""} ${w?.last_name??""}`.trim():w?.username??"Unknown cook";return g.jsxs("main",{className:"min-h-screen bg-bright mt-10 md:mt-0",children:[g.jsxs("section",{className:"mx-auto max-w-4xl px-4 pb-12 pt-8 sm:px-6 lg:px-8",children:[g.jsxs("header",{className:"mb-6",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-heading text-secondary sm:text-3xl",children:t.title}),g.jsxs("p",{className:"mt-1 text-sm text-dark/70 font-body",children:["by"," ",g.jsx("span",{className:"font-semibold text-secondary",children:E})]})]}),g.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold font-body ${x?"bg-green-100 text-green-700":"bg-off-white text-dark/70"}`,children:x?"Public list":"Private list"})]}),!o&&t&&g.jsx("button",{onClick:()=>h(!0),className:`
      mt-4 bg-main hover:bg-secondary 
      text-bright font-heading-styled 
      px-4 py-2 rounded-lg transition
    `,children:"+ Add Recipes"}),t.description&&g.jsx("p",{className:"mt-3 text-sm text-dark/80 font-body",children:t.description})]}),a.length?g.jsx("div",{className:"space-y-3",children:a.map(S=>S.recipes?g.jsx(ei,{variant:"list",addedAt:S.added_at,recipe:{id:S.recipes.id,title:S.recipes.title,short_description:S.recipes.short_description,image_url:S.recipes.image_url,prep_time:S.recipes.prep_time,cook_time:S.recipes.cook_time,servings:S.recipes.servings,difficulty:S.recipes.difficulty}},S.recipes.id):null)}):g.jsx("p",{className:"text-sm text-dark/60 font-body",children:"This list doesnt have any recipes yet."})]}),p&&g.jsx(rT,{listId:n,onClose:()=>h(!1),onAdded:()=>{A0(n).then(({recipes:S})=>{l(S),b({message:"Recipe added to list",type:"success"})})}}),y&&g.jsx(zb,{message:y.message,type:y.type,onClose:()=>b(null)})]})}function lT(){const[n,t]=z.useState(""),[i,a]=z.useState(""),[l,o]=z.useState(!1),[u,d]=z.useState(!1),[f,p]=z.useState(!1),[h,y]=z.useState(null),[b,x]=z.useState(null),w=Kt();function E(B){if(!B)return null;const V=B.toLowerCase();return V.includes("invalid login credentials")?"Invalid email or password. Make sure your account is confirmed.":V.includes("email not confirmed")||V.includes("confirm")?"Email not confirmed. Check your inbox or resend the confirmation.":B}async function S(B){B.preventDefault(),y(null),x(null),d(!0);const{data:V,error:A}=await ue.auth.signInWithPassword({email:n,password:i});if(d(!1),A){y(E(A.message));return}if(V.user){const{data:M}=await ue.from("profiles").select("xp").eq("auth_id",V.user.id).single();M?.xp?w("/home"):w("/skill-assessment")}}async function j(){if(y(null),x(null),!n){y("Please enter your email address first.");return}const A=window.location.hostname==="localhost"?"http://localhost:5173/Tempero/update-password":"https://mesw-les-2025.github.io/Tempero/update-password";console.log("Sending reset link to:",A);const{error:M}=await ue.auth.resetPasswordForEmail(n,{redirectTo:A});M?y(M.message):x("Password reset link sent! Check your email.")}async function L(){if(y(null),x(null),!n){y("Please enter your email address first.");return}try{p(!0);const{error:B}=await ue.auth.resend({type:"signup",email:n,options:{emailRedirectTo:window.location.hostname==="localhost"?"http://localhost:5173/Tempero/login":"https://mesw-les-2025.github.io/Tempero/login"}});B?y(B.message):x("Confirmation email sent. Please check your inbox (and spam).")}finally{p(!1)}}const T=h?.toLowerCase().includes("confirm")||h?.toLowerCase().includes("not confirmed")||!1;return g.jsxs("div",{className:"fixed min-h-screen min-w-screen px-2 flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center",children:[g.jsx("div",{className:"logo fixed top-1 left-1 z-10 ",children:g.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-16"})}),g.jsx("div",{className:"absolute inset-0 backdrop-blur-xs pointer-events-none"}),g.jsx("div",{className:"mx-auto mt-12 max-w-md w-full",children:g.jsxs("div",{className:"rounded-xl bg-bright/90 p-6 shadow-sm relative z-10",children:[g.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Login"}),g.jsx("p",{className:"mb-10 text-sm text-gray-600",children:"Log in to continue your Tempero journey: cook, review and level up."}),h&&g.jsx("div",{className:"mb-3 font-body rounded-lg bg-main/10 px-3 py-2 text-sm text-danger",children:h}),b&&g.jsx("div",{className:"mb-3 font-body rounded-lg bg-green-100 border border-green-200 px-3 py-2 text-sm text-green-700",children:b}),g.jsxs("form",{onSubmit:S,className:"space-y-4",noValidate:!0,children:[g.jsxs("div",{className:"space-y-1 mb-5",children:[g.jsx("label",{htmlFor:"login-email",className:"text-lg font-heading text-dark",children:"Email"}),g.jsx("input",{id:"login-email",type:"email",autoComplete:"email",required:!0,value:n,onChange:B=>t(B.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"you@tempero.app"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{htmlFor:"login-pass",className:"text-lg font-heading text-dark",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"login-pass",type:l?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:B=>a(B.target.value),className:"w-full rounded-lg px-3 py-2 pr-24 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"Your password"}),g.jsx("button",{type:"button",onClick:()=>o(B=>!B),className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-600 hover:text-gray-900","aria-label":l?"Hide password":"Show password",children:l?"Hide":"Show"})]})]}),g.jsx("button",{type:"submit",disabled:u,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150",children:u?"Signing in":"Log in"})]}),g.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{type:"button",onClick:j,className:"text-gray-700 underline underline-offset-4 hover:text-black",children:"Forgot password?"}),g.jsxs("span",{className:"text-gray-600",children:["No account?"," ",g.jsx(mt,{to:"/register",className:"underline underline-offset-4",children:"Register"})]})]}),T&&g.jsx("button",{type:"button",onClick:L,disabled:f,className:"self-start text-gray-700 underline underline-offset-4 hover:text-black disabled:opacity-70 text-left",children:f?"Resending":"Resend confirmation email"})]})]})})]})}const Lb="/Tempero/assets/febrian-zakaria-SiQgni-cqFg-unsplash-Dtt0wCGT.jpg";function oT({userId:n}){const[t,i]=z.useState([]),[a,l]=z.useState(!0);return z.useEffect(()=>{if(!n){l(!0);return}(async()=>{l(!0);const{data:u,error:d}=await ue.from("recipes").select("*").eq("authorId",n);d?console.error("Error fetching recipes:",d):i(u),l(!1)})()},[n]),a?g.jsx(kr,{message:"Fetching recipes..."}):g.jsxs("div",{className:"grid w-full grid-cols-[repeat(auto-fill,minmax(260px,1fr))] gap-4 justify-items-center sm:justify-items-start",children:[t.map(o=>g.jsx(ei,{recipe:o},o.id)),g.jsx(WA,{})]})}const uT={review:["Spam or advertising","Harassment or bullying","Inappropriate language","Misinformation","Off-topic content","Other"],recipe:["Spam or advertising","Inappropriate content","Stolen/plagiarized content","Dangerous instructions","Other"],comment:["Spam or advertising","Harassment or bullying","Inappropriate language","Off-topic content","Other"],user:["Harassment","Spam account","Impersonation","Inappropriate profile","Other"]};function Wo({isOpen:n,onClose:t,itemType:i,itemId:a}){const[l,o]=z.useState(""),[u,d]=z.useState(""),[f,p]=z.useState(!1),[h,y]=z.useState(!1);if(!n)return null;async function b(x){if(x.preventDefault(),!l)return;p(!0);const{data:{user:w}}=await ue.auth.getUser();if(!w)return;const{error:E}=await ue.from("reports").insert({reporter_id:w.id,reported_item_type:i,reported_item_id:a,reason:l==="Other"?u:l});p(!1),E||(y(!0),setTimeout(()=>{t(),y(!1),o(""),d("")},1500))}return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:t,children:g.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:x=>x.stopPropagation(),children:h?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("p",{className:"text-2xl font-heading text-secondary",children:" Report Submitted"}),g.jsx("p",{className:"text-dark/60 font-body mt-2",children:"Thank you for helping keep our community safe."})]}):g.jsxs(g.Fragment,{children:[g.jsxs("h2",{className:"text-2xl font-heading-styled text-secondary mb-4",children:["Report ",i]}),g.jsxs("form",{onSubmit:b,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-heading text-dark mb-2",children:"Reason"}),g.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"w-full p-2 border border-dark/20 rounded-lg font-body",required:!0,children:[g.jsx("option",{value:"",children:"Select a reason"}),uT[i].map(x=>g.jsx("option",{value:x,children:x},x))]})]}),l==="Other"&&g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-heading text-dark mb-2",children:"Description"}),g.jsx("textarea",{value:u,onChange:x=>d(x.target.value),className:"w-full p-2 border border-dark/20 rounded-lg font-body",rows:3,required:!0})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 bg-dark/20 text-dark rounded-lg font-heading hover:bg-dark/30",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:f,className:"flex-1 px-4 py-2 bg-main text-bright rounded-lg font-heading hover:bg-main/90 disabled:opacity-50",children:f?"Submitting...":"Submit Report"})]})]})]})})})}function cT({userId:n}){const[t,i]=z.useState([]),[a,l]=z.useState(!0),[o,u]=z.useState(!1),[d,f]=z.useState(null);return z.useEffect(()=>{(async()=>{let h=ue.from("reviews").select("id,author_id,profiles(first_name, last_name),review,description,recipe_id,recipes(title)");n&&(h=h.eq("author_id",n));const{data:y,error:b}=await h.order("id",{ascending:!1});b?console.error("Error fetching reviews:",b):i(y),l(!1)})()},[n]),a?g.jsx(kr,{message:"Fetching reviews..."}):g.jsxs("div",{className:"space-y-4",children:[t.map(p=>g.jsxs("article",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm hover:shadow-md transition",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h4",{className:"font-semibold text-[#e57f22]",children:[p.profiles.first_name," ",p.profiles.last_name]}),g.jsx("h5",{className:"text-gray-500 text-sm",children:p.recipes.title}),g.jsxs("span",{className:"text-yellow-500",children:["".repeat(p.review),"".repeat(5-p.review)]})]}),g.jsx("p",{className:"mt-2 text-gray-700 text-sm leading-relaxed",children:p.description}),g.jsx("button",{onClick:()=>{f(p.id.toString()),u(!0)},className:"mt-2 text-xs text-gray-500 hover:text-[#e57f22] transition-colors",children:" Report"})]},p.id)),d&&g.jsx(Wo,{isOpen:o,onClose:()=>{u(!1),f(null)},itemType:"review",itemId:d})]})}function dT(n){const t=n.profiles;return t?t.first_name||t.last_name?`${t.first_name??""} ${t.last_name??""}`.trim():t.username??"Unknown cook":"Unknown cook"}function Mb({playlist:n,isOwnProfile:t,onDelete:i}){const a=dT(n),l=n.list_recipes?.[0]?.count??0;return g.jsxs("div",{className:"relative",children:[t&&g.jsx("button",{onClick:()=>i(n.id),className:"absolute top-3 right-3 text-color-danger hover:text-red-700 text-lg font-bold z-10 opacity-20 hover:opacity-100 transition-opacity",children:""}),g.jsxs(mt,{to:`/lists/${n.id}`,className:"block rounded-xl border border-secondary/20 bg-bright p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-md",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-heading font-semibold text-secondary",children:n.title}),g.jsxs("p",{className:"mt-1 text-xs font-body text-dark/70",children:["by ",g.jsx("span",{className:"font-medium",children:a})]})]}),g.jsx("span",{className:`rounded-full mr-4 px-2 py-0.5 text-xs font-body font-medium ${n.visibility==="PUBLIC"?"bg-main/10 text-main":"bg-dark/10 text-dark"}`,children:n.visibility==="PUBLIC"?"Public":"Private"})]}),n.description&&g.jsx("p",{className:"mt-3 line-clamp-2 text-sm font-body text-dark/80",children:n.description}),g.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs font-body text-dark/70",children:[g.jsxs("span",{children:[l," recipe",l===1?"":"s"]}),g.jsx("span",{className:"font-medium text-main",children:"View Recipes "})]})]})]})}function fT({userId:n,isOwnProfile:t}){const[i,a]=z.useState([]),[l,o]=z.useState(!1),[u,d]=z.useState(null),[f,p]=z.useState(null);z.useEffect(()=>{n&&(o(!0),aT(n,t).then(a).catch(y=>d(y.message)).finally(()=>o(!1)))},[n,t]);async function h(y){await ue.from("lists").delete().eq("id",y),a(b=>b.filter(x=>x.id!==y)),p({message:"List removed",type:"success"})}return n?l?g.jsx(kr,{message:"Loading playlists"}):u?g.jsx("p",{className:"text-sm text-red-600",children:u}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.map(y=>g.jsx(Mb,{playlist:y,isOwnProfile:t,onDelete:h},y.id)),t&&g.jsxs(mt,{to:"/lists/new",className:`
              flex flex-col items-center justify-center
              rounded-xl border-2 border-dashed border-main/40
              bg-bright text-main h-40
              hover:border-main hover:bg-main/5 transition
            `,children:[g.jsx("span",{className:"text-3xl font-bold",children:""}),g.jsx("span",{className:"mt-1 font-heading text-lg",children:"Thematic List"})]})]}),f&&g.jsx(zb,{message:f.message,type:f.type,onClose:()=>p(null)})]}):g.jsx("p",{className:"text-sm text-slate-500",children:"No user."})}function hT(){const{username:n}=Vo(),[t,i]=z.useState("recipes"),[a,l]=z.useState(null),[o,u]=z.useState(null),[d,f]=z.useState(!1),[p,h]=z.useState(!1),[y,b]=z.useState(!1),[x,w]=z.useState(!1),[E,S]=z.useState(0),[,j]=z.useState(null),[L,T]=z.useState(0),[B,V]=z.useState(!1),A=Kt();z.useEffect(()=>{(async()=>{const{data:G}=await ue.auth.getUser();l(G?.user??null)})()},[]);const M=a&&o?a.id===o.auth_id:!1;z.useEffect(()=>{if(!n)return;let G=!1;return(async()=>{const{data:q,error:F}=await ue.from("profiles").select("*").eq("username",n).maybeSingle();if(G)return;if(F||!q){u(null),f(!0);return}f(!1),u(q);const{count:k}=await ue.from("followers").select("*",{count:"exact",head:!0}).eq("followed_id",q.auth_id),{count:N}=await ue.from("followers").select("*",{count:"exact",head:!0}).eq("follower_id",q.auth_id);if(G||(S(k||0),T(N||0)),j(q.profile_picture_url||null),console.log("Profile picture:",q.profile_picture_url),a&&q&&a.id!==q.auth_id){const{data:Z}=await ue.from("followers").select("follower_id").eq("follower_id",a.id).eq("followed_id",q.auth_id).maybeSingle();G||b(!!Z)}})(),()=>{G=!0}},[n,a]);async function C(){if(!(!a||!o)){w(!0);try{y?(await ue.from("followers").delete().eq("follower_id",a.id).eq("followed_id",o.auth_id),b(!1),S(G=>G-1)):(await ue.from("followers").insert({follower_id:a.id,followed_id:o.auth_id}),b(!0),S(G=>G+1))}catch(G){console.error("Follow error:",G)}finally{w(!1)}}}const R=o?.first_name||o?.last_name?`${o?.first_name??""} ${o?.last_name??""}`.trim():o?.username??"Unnamed User",I=o?.bio||"",P=I.slice(0,120),H=I.length>120;return d?g.jsx("div",{className:"min-h-screen w-full bg-bright flex justify-center items-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-heading-styled text-secondary mb-4",children:"User not found."}),g.jsx("p",{className:"text-gray-600",children:"The profile you're looking for doesn't exist."})]})}):g.jsxs("div",{className:"min-h-screen w-full bg-bright flex  items-start py-10",children:[g.jsxs("section",{className:"w-full  flex flex-col lg:flex-row items-start justify-center gap-10 px-4 sm:px-6 lg:px-10",children:[g.jsxs("article",{className:"relative min-w-80 w-full lg:max-w-75 lg:w-1/3 bg-white border border-secondary/30 rounded-xl shadow-sm px-4 sm:px-6 py-6 flex flex-col mt-10 md:mt-0",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[g.jsx("img",{src:o?.profile_picture_url?qf(o.profile_picture_url):Lb,alt:R,className:"h-32 w-24 sm:h-40 sm:w-28 object-cover rounded-lg shrink-0"}),g.jsxs("div",{className:"flex flex-col justify-center min-w-0 ",children:[o?.level&&o?.chef_type&&g.jsxs("div",{className:"bg-bright text-dark py-1 px-3 rounded-lg shadow-sm w-fit font-body text-sm",children:[g.jsxs("span",{className:"font-heading-styled font-semibold",children:["Level ",o.level]})," ",""," ",g.jsx("span",{className:"text-main font-heading-styled font-semibold",children:o.chef_type})]}),g.jsx("h1",{className:"font-heading-styled text-2xl sm:text-3xl text-secondary mt-4 wrap-break-word",children:R})]})]}),g.jsxs("div",{className:"w-full flex flex-col items-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-10 text-center font-body text-dark my-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-lg text-main font-heading-styled font-semibold",children:E}),g.jsx("p",{className:"text-sm font-heading-styled",children:"Followers"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-lg text-main font-heading-styled font-semibold",children:L}),g.jsx("p",{className:"text-sm font-heading-styled",children:"Following"})]})]}),a&&o?.auth_id!==a.id&&g.jsxs(g.Fragment,{children:[g.jsx("button",{className:`mt-3 w-full max-w-[280px] font-heading-styled py-2.5 rounded-lg transition ${y?"bg-gray-500 hover:bg-gray-600 text-white":"bg-main hover:bg-secondary text-bright"}`,onClick:C,disabled:x,children:x?"...":y?"Unfollow":"Follow"}),g.jsxs("button",{onClick:()=>V(!0),className:"mt-2 text-xs text-dark/50 hover:text-main font-body transition-colors flex items-center justify-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),"Report User"]})]}),g.jsx("div",{className:"border-t border-dotted border-dark/40 w-full my-6"}),g.jsx("p",{className:"font-body text-dark leading-7 text-left w-full",children:I?g.jsxs(g.Fragment,{children:[p?I:P,H&&!p&&"... ",H&&g.jsx("button",{onClick:()=>h(!p),className:"text-main font-semibold ml-1",children:p?"Show less":"Read more"})]}):g.jsx("span",{className:"text-gray-500 italic",children:"This user has not provided a bio yet."})}),M&&g.jsx("button",{className:"my-6 w-full max-w-[280px] bg-main hover:bg-secondary transition text-bright font-heading-styled py-2.5 rounded-lg",onClick:()=>A("/profile/edit"),children:"Edit Profile"})]})]}),M&&g.jsx(Db,{}),g.jsxs("div",{className:"w-full ",children:[g.jsxs("div",{className:"flex gap-6 mb-5 border-b border-dark/10 font-heading text-lg ",children:[g.jsx("button",{className:`pb-2 ${t==="recipes"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("recipes"),children:"Recipes"}),g.jsx("button",{className:`pb-2 ${t==="reviews"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("reviews"),children:"Reviews"}),g.jsx("button",{className:`pb-2 ${t==="lists"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("lists"),children:"Lists"})]}),t==="recipes"?g.jsx(oT,{userId:o?.auth_id,username:o?.username}):t==="reviews"?g.jsx(cT,{userId:o?.auth_id,username:o?.username}):g.jsx(fT,{userId:o?.auth_id,isOwnProfile:M})]})]}),o&&g.jsx(Wo,{isOpen:B,onClose:()=>V(!1),itemType:"user",itemId:o.auth_id})]})}function mT(){const[n,t]=z.useState([]),[i,a]=z.useState(!1),[l,o]=z.useState(null);return z.useEffect(()=>{a(!0),o(null),iT().then(t).catch(u=>o(u.message)).finally(()=>a(!1))},[]),g.jsx("main",{className:"min-h-screen bg-bright",children:g.jsxs("section",{className:"mx-auto max-w-5xl px-4 pb-12 pt-8 sm:px-6 lg:px-10",children:[g.jsxs("header",{className:"mt-10 md:mt-0 mb-6",children:[g.jsx("h1",{className:"text-2xl font-heading text-secondary sm:text-3xl",children:"Recipe lists"}),g.jsx("p",{className:"mt-1 text-sm font-body text-dark",children:"Explore recipe collections created and shared by the Tempero community."})]}),i&&g.jsx(kr,{message:"Loading public recipe lists"}),l&&g.jsx("p",{className:"text-sm text-red-600",children:l}),!i&&!l&&!n.length&&g.jsx("p",{className:"text-sm text-dark/70 font-body",children:"No public recipe lists have been created yet."}),g.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:n.map(u=>g.jsx(Mb,{playlist:u,isOwnProfile:!1,onDelete:()=>{}},u.id))})]})})}function pT(){const{id:n}=Vo(),t=Kt(),i=Mn(),[a,l]=z.useState(!1),[o,u]=z.useState(!1),d=i.state?.xpGained??0,f=i.state?.leveledUp??!1,p=i.state?.newLevel??1,h=i.state?.newChefType??"",[y,b]=z.useState(null),[x,w]=z.useState(!0),[E,S]=z.useState(null),[j,L]=z.useState(!1),[T,B]=z.useState(0),[V,A]=z.useState(!1),[M,C]=z.useState(!1),[R,I]=z.useState([]),[P,H]=z.useState(0),[G,q]=z.useState(0),[F,k]=z.useState(0),[N,Z]=z.useState(0),[X,O]=z.useState(!1),[$,K]=z.useState(!1);z.useEffect(()=>{if(f){u(!0);const oe=setTimeout(()=>u(!1),4e3);return()=>clearTimeout(oe)}else if(d>0){l(!0);const oe=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(oe)}},[d,f]),z.useEffect(()=>{let oe=!0;(async()=>{const{data:_e}=await ue.auth.getUser();if(oe&&(S(_e?.user?.id??null),_e?.user)){const{data:ve}=await ue.from("profiles").select("is_admin").eq("auth_id",_e.user.id).single();if(!oe)return;K(ve?.is_admin||!1)}})();const{data:fe}=ue.auth.onAuthStateChange((_e,ve)=>{S(ve?.user?.id??null)});return()=>{oe=!1,fe.subscription.unsubscribe()}},[]),z.useEffect(()=>{if(!n)return;(async()=>{w(!0);const{data:fe,error:_e}=await ue.from("recipes").select(`
          id,
          title,
          short_description,
          image_url,
          authorId,
          prep_time,
          cook_time,
          servings,
          difficulty,
          created_at,
          updated_at,
          profiles:profiles!Recipes_authorId_fkey(auth_id, username, first_name, last_name),
          recipe_ingredients:recipe-ingredients(id, name, amount, unit, notes),
          recipe_steps:recipe-steps(index, text),
          recipe_tags:recipe-tags(tag_id, tags(name))
          `).eq("id",n).single();if(_e||!fe){console.error(_e),b(null),w(!1);return}const ve={id:fe.id,title:fe.title,short_description:fe.short_description,image_url:fe.image_url,authorId:fe.authorId,authorUsername:fe.profiles?.username??null,authorName:yT(fe),prep_time:fe.prep_time,cook_time:fe.cook_time,servings:fe.servings,difficulty:fe.difficulty,created_at:fe.created_at,updated_at:fe.updated_at,ingredients:fe.recipe_ingredients?.map(Ee=>({id:String(Ee.id),name:Ee.name,amount:String(Ee.amount),unit:Ee.unit??void 0,note:Ee.notes??void 0}))??[],steps:fe.recipe_steps?.map(Ee=>({id:`step-${Ee.index}`,index:Ee.index,description:Ee.text}))??[],tags:fe.recipe_tags?.map(Ee=>Ee.tags.name)??[]};b(ve),w(!1)})()},[n]),z.useEffect(()=>{if(!n)return;(async()=>{try{const{data:fe,error:_e}=await ue.from("recipe_likes").select("auth_id").eq("recipe_id",n);if(_e){console.error("Error fetching likes:",_e);return}const ve=fe?.length??0;if(B(ve),E){const Ee=fe?.some(Rt=>Rt.auth_id===E);A(!!Ee)}else A(!1)}catch(fe){console.error("Unexpected error fetching likes:",fe)}})()},[n,E]),z.useEffect(()=>{if(!n)return;(async()=>{const{data:fe,error:_e}=await ue.from("reviews").select(`
          id,
          difficulty,
          prep_time,
          taste,
          average_rating,
          description,
          profiles!reviews_author_id_fkey(first_name, last_name, chef_type)
        `).eq("recipe_id",n);if(_e){console.error("Error fetching reviews:",_e);return}const ve=(fe||[]).map(Ee=>({...Ee,profiles:Array.isArray(Ee.profiles)?Ee.profiles[0]:Ee.profiles,average_rating:Ee.average_rating??0}));if(I(ve),ve.length>0){const Ee=ve.reduce((Qe,Ie)=>Qe+Ie.difficulty,0)/ve.length,Rt=ve.reduce((Qe,Ie)=>Qe+Ie.prep_time,0)/ve.length,st=ve.reduce((Qe,Ie)=>Qe+Ie.taste,0)/ve.length,$e=(Ee+Rt+st)/3;H(Ee),q(Rt),k(st),Z($e)}})()},[n]);const D=z.useMemo(()=>If(y?.image_url??null,900),[y?.image_url]),ee=!!y&&E===y.authorId,W=()=>{y&&t(`/upload-recipe?recipeId=${y.id}`)},te=async()=>{if(!(!y||!ee||!E||!window.confirm("Delete this recipe? This action cannot be undone.")))try{L(!0),y.image_url&&await Bf(y.image_url);const{error:fe}=await ue.from("recipes").delete().eq("id",y.id).eq("authorId",E);if(fe)throw fe;t("/")}catch(fe){console.error("Failed to delete recipe",fe),alert("Couldn't delete the recipe. Please try again.")}finally{L(!1)}},he=async()=>{if(y){if(!E){alert("You need to login to like a recipe.");return}C(!0);try{if(V){const{error:oe}=await ue.from("recipe_likes").delete().eq("recipe_id",y.id).eq("auth_id",E);if(oe)throw oe;A(!1),B(fe=>Math.max(0,fe-1))}else{const{error:oe}=await ue.from("recipe_likes").insert({recipe_id:y.id,auth_id:E});if(oe)throw oe;A(!0),B(fe=>fe+1)}}catch(oe){console.error("Error toggling like:",oe),alert("It was not possible to update the like. Try again.")}finally{C(!1)}}};return x?g.jsx(kr,{message:"Whisking the recipe..."}):y?g.jsxs("div",{className:"min-h-screen bg-bright text-dark",children:[o&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:g.jsxs("div",{className:"bg-bright rounded-2xl p-8 shadow-2xl border-4 border-main max-w-md mx-4 text-center animate-bounce-in",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("h2",{className:"text-3xl font-heading-styled text-main mb-2",children:"Congratulations!"}),g.jsxs("p",{className:"text-xl font-heading text-secondary mb-4",children:["You've reached Level ",p]}),g.jsxs("p",{className:"text-lg font-body text-dark mb-2",children:["You are now a ",g.jsx("span",{className:"font-semibold text-main",children:h})]}),g.jsxs("p",{className:"text-sm font-body text-dark/70",children:["+",d," XP"]})]})}),a&&!f&&g.jsxs("div",{className:"fixed bottom-6 right-6 z-50 bg-main text-bright px-6 py-3 rounded-lg shadow-lg font-heading animate-fade-in",children:[" Great job! You earned ",d," XP"]}),g.jsxs("div",{className:"pt-24 pb-16 px-4 sm:px-10 max-w-6xl mx-auto",children:[g.jsxs("header",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap mb-4",children:[g.jsxs("div",{className:"flex-1 min-w-[260px] space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[g.jsxs("span",{className:"inline-flex items-center rounded-lg bg-main/10 text-main border border-main px-4 py-1 font-heading",children:["Level ",y.difficulty??1]}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:y.tags.map(oe=>g.jsx("span",{className:"px-3 py-1.5 rounded-lg border border-secondary/40 text-secondary text-sm font-heading",children:oe},oe))}),g.jsxs("button",{onClick:he,disabled:M||!E,className:`inline-flex items-center gap-2 rounded-full px-3 py-1 border font-heading text-sm transition-colors ${V?"bg-main text-bright border-main":"bg-white text-main border-main hover:bg-main/10"} disabled:opacity-60 disabled:cursor-not-allowed`,children:[g.jsx("span",{children:V?" Liked":" Like"}),g.jsxs("span",{className:"text-xs text-dark/80",children:[T," ",T===1?"like":"likes"]})]})]}),g.jsx("h1",{className:"text-4xl sm:text-5xl font-heading-styled text-secondary mt-8",children:y.title})]}),g.jsx("div",{className:"flex gap-2 self-start",children:ee?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:W,className:"inline-flex items-center gap-2 rounded-lg border border-secondary px-4 py-1 font-heading text-secondary hover:bg-secondary hover:text-bright transition-colors",children:"Edit"}),g.jsx("button",{onClick:te,disabled:j,className:"inline-flex items-center gap-2 rounded-lg bg-danger/80 px-4 py-1 font-heading text-bright hover:bg-danger focus:ring-none  disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:j?"Deleting...":"Delete"})]}):E&&g.jsxs("button",{onClick:()=>O(!0),className:"inline-flex items-center gap-2 rounded-lg border border-dark/20 px-4 py-1 font-heading text-dark/60 hover:text-main hover:border-main transition-colors",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})}),"Report Recipe"]})})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[g.jsx("p",{className:"text-dark/70 font-body flex-1",children:y.short_description}),g.jsxs("aside",{className:"w-full lg:w-80 bg-white/70 border border-main/40 rounded-2xl p-6 shadow-sm",children:[g.jsx("h2",{className:"mb-4 text-2xl font-heading-styled text-main text-center",children:"Rating"}),g.jsxs("ul",{className:"space-y-3 font-body text-dark mb-6",children:[g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{className:"font-semibold",children:"Difficulty"}),g.jsxs("span",{children:[g.jsx("span",{className:"text-dark",children:P.toFixed(1)}),g.jsx("span",{className:"text-main",children:"/5"})]})]}),g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{className:"font-semibold",children:"Time Required"}),g.jsxs("span",{children:[g.jsx("span",{className:"text-dark",children:G.toFixed(1)}),g.jsx("span",{className:"text-main",children:"/5"})]})]}),g.jsxs("li",{className:"flex justify-between",children:[g.jsx("span",{className:"font-semibold",children:"Quality and Taste"}),g.jsxs("span",{children:[g.jsx("span",{className:"text-dark",children:F.toFixed(1)}),g.jsx("span",{className:"text-main",children:"/5"})]})]})]}),g.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4 border-t border-main/20",children:[g.jsx(Bb,{rating:N}),g.jsx("span",{className:"text-lg font-heading text-dark",children:N.toFixed(1)})]}),E&&!ee&&!$&&g.jsx("button",{className:"mt-4 w-full bg-main hover:bg-secondary text-bright font-heading text-sm py-1.5 rounded-lg transition-colors",onClick:()=>t(`/review/${y.id}`),children:"Review Recipe"})]})]})]}),g.jsxs("section",{className:"flex flex-col lg:flex-row gap-8 mb-12",children:[g.jsxs("div",{className:"flex-1",children:[D&&g.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg border border-secondary/20",children:g.jsx("img",{src:D,alt:y.title,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6 font-heading text-sm text-dark/80",children:[g.jsx($d,{label:"Prep time",value:`${y.prep_time} min`}),g.jsx($d,{label:"Cook time",value:`${y.cook_time} min`}),g.jsx($d,{label:"Servings",value:y.servings}),g.jsx(gT,{label:"Author",username:y.authorUsername,displayName:y.authorName})]})]}),g.jsxs("aside",{className:"w-full lg:w-80 bg-white/70 border border-main/40 rounded-2xl p-6 shadow-sm",children:[g.jsx("h2",{className:"mb-4 text-2xl font-heading-styled text-main text-center",children:"Ingredients"}),g.jsx("ul",{className:"space-y-3 font-body text-dark",children:y.ingredients.map(oe=>g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:"text-main",children:""}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:oe.name}),oe.amount&&g.jsxs(g.Fragment,{children:[" ","-"," ",g.jsxs("span",{className:"text-main",children:[oe.amount," ",oe.unit??""]})]}),oe.note&&g.jsx("p",{className:"text-xs text-dark/50 mt-0.5",children:oe.note})]})]},oe.id))})]})]}),g.jsx("section",{className:"space-y-6",children:y.steps.sort((oe,fe)=>oe.index-fe.index).map(oe=>g.jsxs("article",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[g.jsxs("h3",{className:"text-2xl font-heading-styled text-main mb-2",children:["Step ",oe.index]}),g.jsx("p",{className:"text-dark font-body leading-relaxed",children:oe.description})]},oe.id))}),g.jsxs("section",{className:"mt-16",children:[g.jsx("h2",{className:"text-3xl font-heading-styled text-secondary mb-8",children:"Reviews"}),R.length===0?g.jsx("p",{className:"text-dark/60 font-body text-center py-8",children:"No reviews yet. Be the first to review this recipe!"}):g.jsx("div",{className:"space-y-6",children:R.map(oe=>g.jsx(vT,{review:oe},oe.id))})]}),g.jsxs("div",{className:"mt-6 text-xs text-dark/60 flex flex-col sm:flex-row sm:justify-end gap-2",children:[g.jsxs("span",{children:["Created at"," ",y.created_at?new Date(y.created_at).toLocaleString():"--"]}),g.jsxs("span",{children:["Last edited at"," ",y.updated_at?new Date(y.updated_at).toLocaleString():"--"]})]})]}),y&&g.jsx(Wo,{isOpen:X,onClose:()=>O(!1),itemType:"recipe",itemId:y.id})]}):g.jsx("div",{className:"min-h-screen bg-bright flex items-center justify-center",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("p",{className:"text-3xl font-heading-styled text-secondary",children:"Recipe not found"}),g.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded-lg bg-main text-bright font-heading",children:"Go back"})]})})}function $d({label:n,value:t}){return g.jsxs("div",{className:"rounded-xl bg-white/70 border border-secondary/20 p-3 text-center shadow-sm",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary/60 font-heading",children:n}),g.jsx("p",{className:"text-lg font-heading text-secondary",children:t??"--"})]})}function gT({label:n,username:t,displayName:i}){return g.jsxs("div",{className:"rounded-xl bg-white/70 border border-secondary/20 p-3 text-center shadow-sm",children:[g.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary/60 font-heading",children:n}),t?g.jsx(mt,{to:`/profile/${t}`,className:"text-lg font-heading text-main hover:text-secondary transition-colors",children:i}):g.jsx("p",{className:"text-lg font-heading text-secondary/70",children:i||"Unknown"})]})}function yT(n){const t=n.profiles?.first_name?.trim()??"",i=n.profiles?.last_name?.trim()??"",a=`${t} ${i}`.trim();return a||(n.profiles?.username??"Unknown author")}function Bb({rating:n}){const t=[],i=Math.max(0,Math.min(5,n));for(let a=1;a<=5;a++){const l=a<=Math.floor(i),u=a===Math.ceil(i)&&i%1!==0?i%1*100:l?100:0;t.push(g.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:`star-gradient-${a}-${n}`,children:[g.jsx("stop",{offset:`${u}%`,stopColor:"#FF6B35"}),g.jsx("stop",{offset:`${u}%`,stopColor:"#E5E7EB"})]})}),g.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:`url(#star-gradient-${a}-${n})`,stroke:"#FF6B35",strokeWidth:"1"})]},a))}return g.jsx("div",{className:"flex gap-1",children:t})}function vT({review:n}){const[t,i]=z.useState([]),[a,l]=z.useState(""),[o,u]=z.useState(!1),[d,f]=z.useState(null),[p,h]=z.useState(!1),[y,b]=z.useState(!1),[x,w]=z.useState("review"),[E,S]=z.useState(""),[j,L]=z.useState(!1),T=n.profiles?.chef_type||"Cook",B=n.profiles&&`${n.profiles.first_name||""} ${n.profiles.last_name||""}`.trim()||"Anonymous",V=Number(n.average_rating)||0;z.useEffect(()=>{ue.auth.getUser().then(async({data:M})=>{if(f(M?.user?.id??null),M?.user){const{data:C}=await ue.from("profiles").select("is_admin").eq("auth_id",M.user.id).single();L(C?.is_admin||!1)}})},[]),z.useEffect(()=>{(async()=>{const{data:C,error:R}=await ue.from("comments").select("id, body, created_at, author_id").eq("review_id",n.id).order("created_at",{ascending:!0});if(!R&&C){const I=C.map(G=>G.author_id),{data:P}=await ue.from("profiles").select("auth_id, username, first_name, last_name").in("auth_id",I),H=new Map(P?.map(G=>[G.auth_id,G])||[]);i(C.map(G=>({id:G.id,body:G.body,created_at:G.created_at,author:H.get(G.author_id)||null})))}})()},[n.id]);const A=async()=>{if(!a.trim()||!d)return;u(!0);const{data:M,error:C}=await ue.from("comments").insert({review_id:n.id,author_id:d,body:a.trim()}).select("id, body, created_at, author_id").single();if(u(!1),!C&&M){const{data:R}=await ue.from("profiles").select("username, first_name, last_name").eq("auth_id",d).single();i(I=>[...I,{id:M.id,body:M.body,created_at:M.created_at,author:R||null}]),l("")}};return g.jsxs("div",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-heading text-dark",children:[g.jsx("span",{className:"text-main",children:T}),"  ",B]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Bb,{rating:V}),g.jsx("span",{className:"text-sm font-heading text-dark",children:V.toFixed(1)})]}),g.jsx("button",{onClick:()=>{w("review"),S(n.id),b(!0)},className:"text-dark/40 hover:text-main transition-colors",title:"Report review",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm font-body",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-dark/60",children:"Difficulty: "}),g.jsx("span",{className:"text-dark",children:n.difficulty}),g.jsx("span",{className:"text-main",children:"/5"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-dark/60",children:"Time Required: "}),g.jsx("span",{className:"text-dark",children:n.prep_time}),g.jsx("span",{className:"text-main",children:"/5"})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-dark/60",children:"Quality & Taste: "}),g.jsx("span",{className:"text-dark",children:n.taste}),g.jsx("span",{className:"text-main",children:"/5"})]})]}),n.description&&g.jsx("p",{className:"text-dark/80 font-body mb-4",children:n.description}),g.jsxs("button",{onClick:()=>h(!p),className:"flex items-center gap-2 text-sm font-heading text-main hover:text-secondary transition-colors mb-4",children:[g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"See comments"]}),g.jsx(Wo,{isOpen:y,onClose:()=>b(!1),itemType:x,itemId:E}),p&&g.jsxs("div",{className:"mt-4 pt-4 border-t border-main/20",children:[g.jsxs("h4",{className:"text-sm font-heading text-secondary mb-3",children:["Comments (",t.length,")"]}),g.jsx("div",{className:"space-y-3 mb-4",children:t.map(M=>{const C=M.author&&(`${M.author.first_name||""} ${M.author.last_name||""}`.trim()||M.author.username)||"Anonymous";return g.jsxs("div",{className:"bg-bright/50 rounded-lg p-3",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("span",{className:"text-xs font-heading text-main",children:C}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-dark/50",children:new Date(M.created_at).toLocaleDateString()}),g.jsx("button",{onClick:()=>{w("comment"),S(M.id),b(!0)},className:"text-dark/40 hover:text-main transition-colors",title:"Report comment",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})})]})]}),g.jsx("p",{className:"text-sm font-body text-dark",children:M.body})]},M.id)})}),d&&!j&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:a,onChange:M=>l(M.target.value),onKeyDown:M=>M.key==="Enter"&&A(),placeholder:"Add a comment...",className:"flex-1 rounded-lg border border-dark/20 px-3 py-2 text-sm font-body outline-none focus:ring-2 focus:ring-main"}),g.jsx("button",{onClick:A,disabled:!a.trim()||o,className:"bg-main hover:bg-secondary text-bright px-4 py-2 rounded-lg text-sm font-heading disabled:opacity-50",children:o?"...":"Post"})]})]})]})}function Ib(n){return n.length<8?"Password must be at least 8 characters.":n.toLowerCase()===n?"Password must contain at least one uppercase letter.":n.toUpperCase()===n?"Password must contain at least one lowercase letter.":/[\d\W_]/.test(n)&&/[a-zA-Z]/.test(n)?null:"Password must contain at least one number or symbol."}function bT(){const[n,t]=z.useState(""),[i,a]=z.useState(""),[l,o]=z.useState(""),[u,d]=z.useState(""),[f,p]=z.useState(""),[h,y]=z.useState(!1),[b,x]=z.useState(!1),[w,E]=z.useState(null),S=Kt(),[j,L]=z.useState(null),[T,B]=z.useState(!1),[V,A]=z.useState(null);z.useEffect(()=>{A(null),L(null);const C=i.trim();if(!C)return;if(C!==C.toLowerCase()){A("Username must be lowercase only.");return}if(C.length<4){A("Username must be at least 4 characters.");return}let R=!0;B(!0);const I=setTimeout(async()=>{const{data:P,error:H}=await ue.rpc("is_username_available",{p_username:C.toLowerCase()});if(R){if(B(!1),H){console.error("Username check error:",H),A("Could not check username. Try again."),L(null);return}L(!!P)}},400);return()=>{R=!1,clearTimeout(I)}},[i]);async function M(C){if(C.preventDefault(),E(null),j!==!0){E("Please choose an available username.");return}const R=Ib(f);if(R){E(R);return}if(l.length>20){E("First name must be at most 20 characters.");return}if(l.length<=2){E("First name must be at least 2 characters.");return}if(u.length>20){E("Last name must be at most 20 characters.");return}if(u.length<=2){E("Last name must be at least 2 characters.");return}x(!0);const{error:I}=await ue.auth.signUp({email:n,password:f,options:{data:{username:i.trim().toLowerCase(),first_name:l.trim(),last_name:u.trim(),profile_picture_url:null}}});if(x(!1),I){E(I.message);return}S("/login")}return g.jsxs("div",{className:"fixed  min-h-screen min-w-screen px-2 flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center ",children:[g.jsx("div",{className:"logo fixed top-1 left-1 z-10 ",children:g.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-16"})}),g.jsx("div",{className:"absolute inset-0  backdrop-blur-xs  pointer-events-none"}),g.jsx("div",{className:"mx-auto mt-12 max-w-md ",children:g.jsxs("div",{className:"max-h-[85vh] flex flex-col rounded-xl bg-bright/90 p-6 shadow-sm bg-fixed bg-no-scroll relative z-10 overflow-visible",children:[g.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Register"}),g.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Start your journey with Tempero: cook, review and level up."}),w&&g.jsx("div",{className:"mb-3 font-body rounded-lg  bg-main/10 px-3 py-2 text-sm text-danger",children:w}),g.jsxs("form",{onSubmit:M,className:"space-y-4 -mx-6 px-6 flex-1 min-h-0 w-full+6 overflow-y-auto overflow-x-visible custom-scroll",noValidate:!0,children:[g.jsxs("div",{className:"space-y-1 mb-5",children:[g.jsx("label",{htmlFor:"reg-email",className:"text-lg font-heading text-dark",children:"Email"}),g.jsx("input",{id:"reg-email",type:"email",autoComplete:"email",required:!0,value:n,onChange:C=>t(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"you@tempero.app"})]}),g.jsxs("div",{className:"space-y-0.5 mb-3",children:[g.jsx("label",{htmlFor:"reg-username",className:"text-lg font-heading text-dark",children:"Username"}),g.jsx("input",{id:"reg-username",type:"text",autoComplete:"username",required:!0,value:i,onChange:C=>a(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Choose a unique username"})]}),g.jsxs("div",{className:"mt-1 text-sm",children:[T&&g.jsx("span",{className:"text-gray-600",children:"Checking availability"}),!T&&V&&g.jsx("span",{className:"text-danger",children:V}),!T&&j===!1&&!V&&g.jsx("span",{className:"text-danger",children:"Username is already taken."}),!T&&j===!0&&g.jsx("span",{className:"text-main",children:"Username is available."})]}),g.jsxs("div",{className:"space-y-0.5 mb-3",children:[g.jsx("label",{htmlFor:"reg-firstname",className:"text-lg font-heading text-dark",children:"First Name"}),g.jsx("input",{id:"reg-firstname",type:"text",autoComplete:"given-name",required:!0,value:l,onChange:C=>o(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Enter your first name"})]}),g.jsxs("div",{className:"space-y-0.5 mb-3",children:[g.jsx("label",{htmlFor:"reg-lastname",className:"text-lg font-heading text-dark",children:"Last Name"}),g.jsx("input",{id:"reg-lastname",type:"text",autoComplete:"family-name",required:!0,value:u,onChange:C=>d(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Enter your last name"})]}),g.jsxs("div",{className:"space-y-1 ",children:[g.jsx("label",{htmlFor:"reg-pass",className:"text-lg font-heading text-dark",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"reg-pass",type:h?"text":"password",autoComplete:"new-password",required:!0,value:f,onChange:C=>p(C.target.value),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Minimum 8 characters"}),g.jsx("button",{type:"button",onClick:()=>y(C=>!C),className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-600 hover:text-gray-900","aria-label":h?"Hide password":"Show password",children:h?"Hide":"Show"})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-4 mb-5",children:"Use at least 8 characters. Consider a mix of letters, numbers, and symbols."})]}),g.jsx("button",{type:"submit",disabled:b||j!==!0,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70  duration-150",children:b?"Creating account":"Register"})]}),g.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Already have an account?"," ",g.jsx(mt,{to:"/login",className:"underline underline-offset-4",children:"Log in"})]})]})})]})}function xT(){const{id:n}=Vo(),t=Kt(),[i,a]=z.useState(null),[l,o]=z.useState(!0),[u,d]=z.useState(!1),[f,p]=z.useState(0),[h,y]=z.useState(0),[b,x]=z.useState(0),[w,E]=z.useState(""),[S,j]=z.useState(null);z.useEffect(()=>{if(!n){o(!1);return}(async()=>{const{data:B,error:V}=await ue.from("recipes").select("title").eq("id",n).single();if(V){console.error("Error fetching recipe:",V),o(!1);return}a(B?.title??null),o(!1)})()},[n]);async function L(){if(n){if(f===0||h===0||b===0){j("Please rate all three categories before submitting.");return}if(f<1||f>5||h<1||h>5||b<1||b>5){j("All ratings must be between 1 and 5.");return}d(!0),j(null);try{const{data:{user:T}}=await ue.auth.getUser();if(!T){j("You must be logged in to submit a review.");return}const B=parseFloat(((f+h+b)/3).toFixed(4)),V=new Date().toISOString(),A={recipe_id:n,author_id:T.id,difficulty:Number(f),prep_time:Number(h),taste:Number(b),average_rating:Number(B),description:w.trim()||null,created_at:V,updated_at:V};console.log("Review payload:",A),console.log("Taste value type:",typeof A.taste,"value:",A.taste);const{error:M}=await ue.from("reviews").insert(A);if(M)throw console.error("Insert error details:",JSON.stringify(M,null,2)),M;const{data:C}=await ue.from("recipes").select("difficulty").eq("id",n).single(),{data:R}=await ue.from("profiles").select("xp, level").eq("auth_id",T.id).single();let I=0,P=!1,H=1,G="New Cook";if(C&&R){const q=C.difficulty??1,F=R.level??1,k=R.xp??0;I=100+(q-F)*20;const N=k+I,Z=Iv(N);P=Z.level>F,H=Z.level,G=Z.name,await ue.from("profiles").update({xp:N,level:Z.level,chef_type:Z.name}).eq("auth_id",T.id)}t(`/recipe/${n}`,{state:{xpGained:I,leveledUp:P,newLevel:H,newChefType:G}})}catch(T){console.error("Error submitting review:",T),j(T?.message||"Failed to submit review. Please try again.")}finally{d(!1)}}}return l?g.jsx(kr,{message:"Loading..."}):g.jsx("div",{className:"min-h-screen bg-bright mt-10 md:mt-0",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10",children:[g.jsx("h1",{className:"text-3xl font-heading-styled text-secondary",children:"Review recipe"}),g.jsx("p",{className:"text-xl font-heading-styled text-dark mt-2",children:i??""}),g.jsxs("div",{className:"mt-8 space-y-6",children:[g.jsx(Fd,{title:"Difficulty",description:"How challenging was this recipe to follow?",rating:f,onRate:p}),g.jsx(Fd,{title:"Time Required",description:"Was the cooking time accurate and reasonable?",rating:h,onRate:y}),g.jsx(Fd,{title:"Quality & Taste",description:"How satisfied were you with the final result?",rating:b,onRate:x}),g.jsxs("div",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[g.jsx("h2",{className:"text-xl font-heading text-secondary mb-2",children:"Your Review"}),g.jsx("p",{className:"text-sm font-body text-dark/70 mb-4",children:"Share your experience with this recipe"}),g.jsx("textarea",{value:w,onChange:T=>E(T.target.value),className:"w-full rounded-lg border border-dark/20 px-3 py-2 font-body outline-none focus:ring-2 focus:ring-main transition-all",rows:6,placeholder:"Write your review here..."})]}),S&&g.jsx("div",{className:"bg-danger/20 text-danger rounded-lg px-4 py-3 text-sm",children:S}),g.jsx("button",{className:"w-full bg-main hover:bg-secondary text-bright font-heading py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:L,disabled:u,children:u?"Submitting...":"Submit Review"})]})]})})}function Fd({title:n,description:t,rating:i,onRate:a}){return g.jsxs("div",{className:"bg-white/80 border border-main/30 rounded-2xl p-6 shadow-sm",children:[g.jsx("h2",{className:"text-xl font-heading text-secondary mb-2",children:n}),g.jsx("p",{className:"text-sm font-body text-dark/70 mb-4",children:t}),g.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(l=>g.jsx("button",{onClick:()=>a(l),className:"transition-transform hover:scale-110",children:g.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",children:g.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:l<=i?"#FF6B35":"#E5E7EB",stroke:"#FF6B35",strokeWidth:"1"})})},l))})]})}const wT=[1,2,3,4,5],_T=[1,2,3,4,5],ST=[{id:"short",label:"Cook time <30 min"},{id:"medium",label:"Cook time 30120 min"},{id:"long",label:"Cook time >120 min"}],ET=[{id:"followed",label:"Followed"},{id:"not-followed",label:"Not followed"}],wa=10;function jT(){const[n,t]=z.useState("recipes"),[i,a]=z.useState(""),[l,o]=z.useState(!1),[u,d]=z.useState(null),[f,p]=z.useState([]),[h,y]=z.useState([]),[b,x]=z.useState([]),[w,E]=z.useState([]),[S,j]=z.useState(new Set),[L,T]=z.useState(new Set),[B,V]=z.useState(new Set),[A,M]=z.useState(new Set),[C,R]=z.useState(!1),[I,P]=z.useState(!1),[H,G]=z.useState(!1),[q,F]=z.useState(i);z.useEffect(()=>{const te=setTimeout(()=>F(i.trim()),350);return()=>clearTimeout(te)},[i]),z.useEffect(()=>{let te=!1;return R(!1),P(!1),G(!1),(async()=>{o(!0),d(null);try{if(n==="recipes"){let he=ue.from("recipes").select("id,title,short_description,image_url,prep_time,cook_time,servings,difficulty").order("title",{ascending:!0});q&&(he=he.ilike("title",`%${q}%`));const{data:oe,error:fe}=await he;if(te)return;if(fe)throw fe;p(oe??[]),y([]),x([]),E([])}else if(n==="users"){let he=ue.from("profiles").select("auth_id,username,first_name,last_name,avatar_url:profile_picture_url,level").order("username",{ascending:!0});q&&(he=he.or(`username.ilike.%${q}%,first_name.ilike.%${q}%,last_name.ilike.%${q}%`));const{data:oe,error:fe}=await he;if(te)return;if(fe)throw fe;y(oe??[]),p([]),x([]),E([])}else{let he=ue.from("lists").select(`
                id,
                user_id,
                title,
                description,
                visibility,
                created_at,
                profiles:profiles (
                  username
                )
              `).neq("visibility","private").order("title",{ascending:!0});q&&(he=he.ilike("title",`%${q}%`));const{data:oe,error:fe}=await he;if(te)return;if(fe)throw fe;const _e=(oe??[]).map(ve=>({id:ve.id,user_id:ve.user_id,title:ve.title,description:ve.description,visibility:ve.visibility,created_at:ve.created_at,username:ve.profiles?.username??null}));x(_e),p([]),y([]);try{const{data:{user:ve}}=await ue.auth.getUser();if(!ve)E([]);else{const{data:Ee,error:Rt}=await ue.from("followers").select("followed_id").eq("follower_id",ve.id);E(Rt||!Ee?[]:Ee.map(st=>st.followed_id))}}catch{E([])}}}catch(he){te||d(he instanceof Error?he.message:"Failed to fetch results.")}finally{te||o(!1)}})(),()=>{te=!0}},[n,q]);const k=z.useMemo(()=>f.filter(te=>{if(S.size>0){const he=typeof te.difficulty=="string"?parseInt(te.difficulty,10):te.difficulty;if(!he||!S.has(he))return!1}if(B.size>0){const he=te.cook_time??0;if(!(B.has("short")&&he<30||B.has("medium")&&he>=30&&he<=120||B.has("long")&&he>120))return!1}return!0}),[f,S,B]),N=C||!q?k:k.slice(0,wa),Z=z.useMemo(()=>h.filter(te=>{if(L.size>0){const he=te.level??null;if(!he||!L.has(he))return!1}return!0}),[h,L]),X=I||!q?Z:Z.slice(0,wa),O=z.useMemo(()=>b.filter(te=>{if(te.visibility?.toLowerCase()==="private")return!1;const oe=w.includes(te.user_id);if(A.size===0)return!0;const fe=A.has("followed"),_e=A.has("not-followed");let ve=!1;return fe&&oe&&(ve=!0),_e&&!oe&&(ve=!0),ve}),[b,A,w]),$=H||!q?O:O.slice(0,wa);function K(te){j(he=>{const oe=new Set(he);return oe.has(te)?oe.delete(te):oe.add(te),oe})}function D(te){V(he=>{const oe=new Set(he);return oe.has(te)?oe.delete(te):oe.add(te),oe})}function ee(te){T(he=>{const oe=new Set(he);return oe.has(te)?oe.delete(te):oe.add(te),oe})}function W(te){M(he=>{const oe=new Set(he);return oe.has(te)?oe.delete(te):oe.add(te),oe})}return g.jsx("div",{className:"min-h-screen w-full bg-bright px-0",children:g.jsxs("div",{className:"mx-auto  px-4 sm:px-6 py-8",children:[g.jsxs("div",{className:"flex gap-10 items-center mb-6 font-heading",children:[g.jsx("button",{className:`text-xl tracking-wide ${n==="users"?"text-[#e57f22] underline underline-offset-8":"text-gray-700 hover:text-[#e57f22]"}`,onClick:()=>t("users"),children:"Users"}),g.jsx("button",{className:`text-xl tracking-wide ${n==="recipes"?"text-[#e57f22] underline underline-offset-8":"text-gray-700 hover:text-[#e57f22]"}`,onClick:()=>t("recipes"),children:"Recipes"}),g.jsx("button",{className:`text-xl tracking-wide ${n==="lists"?"text-[#e57f22] underline underline-offset-8":"text-gray-700 hover:text-[#e57f22]"}`,onClick:()=>t("lists"),children:"Lists"})]}),g.jsx("div",{className:"flex justify-center",children:g.jsxs("div",{className:"relative w-full ",children:[g.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:g.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),g.jsx("input",{value:i,onChange:te=>a(te.target.value),placeholder:n==="recipes"?"Find a recipe by name":n==="users"?"Find a user by name or username":"Find a list by title",className:"w-full rounded-lg border border-gray-300 bg-white pl-9 pr-3 py-2 shadow-sm focus:ring-2 focus:ring-[#e57f22] outline-none"})]})}),n==="recipes"&&g.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4 text-gray-700",children:[g.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:wT.map(te=>g.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:S.has(te),onChange:()=>K(te)}),g.jsxs("span",{className:"italic",children:["Difficulty ",te]})]},te))}),g.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:ST.map(te=>g.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:B.has(te.id),onChange:()=>D(te.id)}),g.jsx("span",{className:"italic",children:te.label})]},te.id))})]}),n==="users"&&g.jsx("div",{className:"mt-6 flex flex-col items-center gap-4 text-gray-700",children:g.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:_T.map(te=>g.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:L.has(te),onChange:()=>ee(te)}),g.jsxs("span",{className:"italic",children:["Level ",te]})]},te))})}),n==="lists"&&g.jsx("div",{className:"mt-6 flex flex-col items-center gap-4 text-gray-700",children:g.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-8 gap-y-3",children:ET.map(te=>g.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer select-none",children:[g.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-[#e57f22]",checked:A.has(te.id),onChange:()=>W(te.id)}),g.jsx("span",{className:"italic",children:te.label})]},te.id))})}),g.jsxs("div",{className:"Results Section bg-white p-5 pt-1 mt-5 rounded-lg shadow-sm ",children:[g.jsx("h2",{className:"mt-8 mb-4 text-5xl font-heading-styled text-[#e57f22]",children:n==="recipes"?"Recipes":n==="users"?"Users":"Lists"}),l?g.jsx("div",{className:"py-12 text-center text-gray-700",children:"Loading"}):u?g.jsx("div",{className:"py-12 text-center text-red-600",children:u}):n==="recipes"?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"grid gap-5 grid-cols-[repeat(auto-fit,minmax(13rem,1fr))] auto-rows-[24rem]",children:N.map(te=>g.jsx(ei,{recipe:{...te,id:String(te.id)},variant:"grid"},te.id))}),q&&k.length>wa&&g.jsx("div",{className:"mt-6 flex justify-center",children:g.jsx("button",{onClick:()=>R(te=>!te),className:"px-4 py-2 rounded-md border border-[#e57f22] text-[#e57f22] text-sm font-medium hover:bg-[#e57f22] hover:text-white transition",children:C?"Show less":`Show all ${k.length} recipes`})})]}):n==="users"?g.jsxs(g.Fragment,{children:[g.jsx(kT,{users:X}),q&&h.length>wa&&g.jsx("div",{className:"mt-6 flex justify-center",children:g.jsx("button",{onClick:()=>P(te=>!te),className:"px-4 py-2 rounded-md border border-[#e57f22] text-[#e57f22] text-sm font-medium hover:bg-[#e57f22] hover:text-white transition",children:I?"Show less":`Show all ${h.length} users`})})]}):g.jsxs(g.Fragment,{children:[g.jsx(NT,{lists:$}),q&&b.length>wa&&g.jsx("div",{className:"mt-6 flex justify-center",children:g.jsx("button",{onClick:()=>G(te=>!te),className:"px-4 py-2 rounded-md border border-[#e57f22] text-[#e57f22] text-sm font-medium hover:bg-[#e57f22] hover:text-white transition",children:H?"Show less":`Show all ${b.length} lists`})})]})]})]})})}function kT({users:n}){return n.length?g.jsx("div",{className:"grid gap-5 grid-cols-[repeat(auto-fit,minmax(14rem,1fr))]",children:n.map(t=>{const i=t.first_name||t.last_name?`${t.first_name??""} ${t.last_name??""}`.trim():t.username,a=t.avatar_url?qf(t.avatar_url):Lb;return g.jsxs(mt,{to:`/profile/${t.username}`,className:"block rounded-lg overflow-hidden shadow-sm border border-gray-200 bg-white hover:shadow-md transition h-90",children:[g.jsx("img",{src:a,alt:i,className:"w-full h-60 object-cover"}),g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-[#e57f22]",children:i}),g.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["@",t.username]}),t.level&&g.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Level ",t.level]})]})]},t.auth_id)})}):g.jsx("div",{className:"py-12 text-center text-gray-600",children:"No users found. Try a different search."})}function NT({lists:n}){return n.length?g.jsx("div",{className:"grid gap-5 grid-cols-[repeat(auto-fit,minmax(14rem,1fr))]",children:n.map(t=>{const i=t.visibility?.toLowerCase()==="public"?"Public":t.visibility;return g.jsx(mt,{to:`/lists/${t.id}`,children:g.jsxs("article",{className:"rounded-lg overflow-hidden shadow-sm border border-gray-200 bg-white hover:shadow-md transition p-4 flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-[#e57f22]",children:t.title}),t.description&&g.jsx("p",{className:"mt-2 text-sm text-gray-700 leading-relaxed line-clamp-4",children:t.description})]}),g.jsxs("div",{className:"mt-3 text-xs text-gray-500 space-y-1",children:[g.jsxs("p",{children:[" Creator: @",t.username??t.user_id]}),g.jsxs("p",{children:[" Visibility: ",i]}),t.created_at&&g.jsxs("p",{children:[" Created:"," ",new Date(t.created_at).toLocaleDateString()]})]})]},t.id)})})}):g.jsx("div",{className:"py-12 text-center text-gray-600",children:"No lists found. Try adjusting your search or filters."})}const AT=[{name:"g",system:"metric",kind:"mass",base:"g",factorToBase:1,factorFromBase:1},{name:"kg",system:"metric",kind:"mass",base:"g",factorToBase:1e3,factorFromBase:1/1e3},{name:"oz",system:"imperial",kind:"mass",base:"g",factorToBase:28.3495,factorFromBase:1/28.3495},{name:"lb",system:"imperial",kind:"mass",base:"g",factorToBase:453.592,factorFromBase:1/453.592},{name:"ml",system:"metric",kind:"volume",base:"ml",factorToBase:1,factorFromBase:1},{name:"L",system:"metric",kind:"volume",base:"ml",factorToBase:1e3,factorFromBase:1/1e3},{name:"tsp",system:"imperial",kind:"volume",base:"ml",factorToBase:4.92892,factorFromBase:1/4.92892},{name:"tbsp",system:"imperial",kind:"volume",base:"ml",factorToBase:14.7868,factorFromBase:1/14.7868},{name:"fl oz",system:"imperial",kind:"volume",base:"ml",factorToBase:29.5735,factorFromBase:1/29.5735},{name:"cup",system:"imperial",kind:"volume",base:"ml",factorToBase:240,factorFromBase:1/240},{name:"pint",system:"imperial",kind:"volume",base:"ml",factorToBase:473.176,factorFromBase:1/473.176},{name:"quart",system:"imperial",kind:"volume",base:"ml",factorToBase:946.353,factorFromBase:1/946.353},{name:"gal",system:"imperial",kind:"volume",base:"ml",factorToBase:3785.41,factorFromBase:1/3785.41},{name:"piece",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"slice",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"clove",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"pinch",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"dash",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"handful",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1},{name:"bunch",system:"neutral",kind:"count",base:"piece",factorToBase:1,factorFromBase:1}],T0={title:"",short_description:"",preparation_time:null,cooking_time:null,servings:null,difficulty:null,ingredients:[],steps:[],tags:[],imageFile:null},qb=z.createContext(void 0);function TT({children:n}){const[t,i]=z.useState(T0),a=o=>i(o),l=()=>i(T0);return g.jsx(qb.Provider,{value:{form:t,setForm:a,reset:l},children:n})}function Ma(){const n=z.useContext(qb);if(!n)throw new Error("useUploadRecipe must be used within UploadRecipeProvider");return n}function Pb(){return`${Date.now()}-${Math.random().toString(36).slice(2)}`}function CT(){const{form:n,setForm:t}=Ma();return g.jsxs("div",{className:"space-y-3 ",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:" font-heading mb-1",children:"Title"}),g.jsx("input",{value:n.title,onChange:i=>t(a=>({...a,title:i.target.value})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",placeholder:"Recipe title"})]}),g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"font-heading",children:"Short description"}),g.jsx("textarea",{value:n.short_description,onChange:i=>t(a=>({...a,short_description:i.target.value})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none  transition-all duration-200 ease-in-out",rows:3})]}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"font-heading mb-1",children:"Preparation time (minutes)"}),g.jsx("input",{type:"number",min:1,value:n.preparation_time??"",onChange:i=>t(a=>({...a,preparation_time:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"e.g. 15"})]}),g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"font-heading mb-1",children:"Cooking time (minutes)"}),g.jsx("input",{type:"number",min:1,value:n.cooking_time??"",onChange:i=>t(a=>({...a,cooking_time:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"e.g. 30"})]}),g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"font-heading mb-1",children:"Servings"}),g.jsx("input",{type:"number",min:1,value:n.servings??"",onChange:i=>t(a=>({...a,servings:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",placeholder:"e.g. 4"})]}),g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"font-heading mb-1",children:"Difficulty"}),g.jsxs("select",{value:n.difficulty??"",onChange:i=>t(a=>({...a,difficulty:i.target.value?parseInt(i.target.value,10):null})),className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",children:[g.jsx("option",{value:"",children:"Select"}),Array.from({length:5},(i,a)=>a+1).map(i=>g.jsxs("option",{value:String(i),children:[i," ",i===1?" Very easy":i===5?" Very hard":""]},i))]})]})]})]})}function RT(){const{form:n,setForm:t}=Ma();function i(){t(o=>({...o,ingredients:[...o.ingredients,{id:crypto.randomUUID(),name:"",amount:1,unit:"",note:""}]}))}function a(o,u){t(d=>{const f=[...d.ingredients];return f[o]={...f[o],...u},{...d,ingredients:f}})}function l(o){t(u=>({...u,ingredients:u.ingredients.filter((d,f)=>f!==o)}))}return g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"flex flex-col gap-2",children:n.ingredients.map((o,u)=>g.jsxs("div",{className:"space-y-1 mb-4",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.name,onChange:d=>a(u,{name:d.target.value}),placeholder:"Ingredient"}),g.jsx("input",{type:"number",min:0,step:"any",className:"w-20 rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.amount??"",onChange:d=>{const f=d.target.value;a(u,{amount:f===""?null:parseFloat(f)})},placeholder:"Amt"}),g.jsxs("select",{className:"w-28 rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.unit??"",onChange:d=>a(u,{unit:d.target.value}),children:[g.jsx("option",{value:"",children:"Unit"}),AT.map(d=>g.jsx("option",{value:d.name,children:d.name},d.name))]}),g.jsx("button",{type:"button",onClick:()=>l(u),className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded",children:""})]}),g.jsx("input",{className:"w-full rounded-lg border px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200 ease-in-out",value:o.note||"",onChange:d=>a(u,{note:d.target.value}),placeholder:"Note (optional)"})]},o.id))}),g.jsx("button",{type:"button",onClick:i,className:"mt-2 px-3 py-2 bg-main text-bright rounded text-sm",children:"Add ingredient"})]})}function OT(){const{form:n,setForm:t}=Ma();function i(){t(o=>({...o,steps:[...o.steps,{id:Pb(),index:o.steps.length+1,description:""}]}))}function a(o,u){t(d=>{const f=[...d.steps];return f[o]={...f[o],description:u},{...d,steps:f}})}function l(o){t(u=>({...u,steps:u.steps.filter((d,f)=>f!==o)}))}return g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"flex flex-col gap-3",children:n.steps.map((o,u)=>g.jsxs("div",{className:"flex-col items-start gap-3",children:[g.jsxs("div",{className:"w-16 text-sm font-medium pt-2",children:["Step ",u+1]}),g.jsxs("div",{className:"flex",children:[g.jsx("textarea",{className:"flex-1 w-full rounded-lg px-3 py-2 outline-none shadow-lg bg-bright focus:ring-1 focus:ring-main focus:shadow-main/20 transition-all duration-200 ease-in-out",value:o.description,onChange:d=>a(u,d.target.value),rows:2,placeholder:`Describe step ${u+1}`}),g.jsx("button",{type:"button",onClick:()=>l(u),"aria-label":`Remove step ${u+1}`,className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded",children:""})]})]},o.id||u))}),g.jsx("button",{type:"button",onClick:i,className:"mt-2 px-3 py-2 bg-main text-bright rounded text-sm",children:"Add step"})]})}function UT(){const{form:n,setForm:t}=Ma(),[i,a]=z.useState(!1),l=n.imageFile?URL.createObjectURL(n.imageFile):n.imagePath?If(n.imagePath):null;async function o(u){const d=u.target.files?.[0];if(d){t(f=>({...f,imageFile:d}));try{if(a(!0),!(d.type==="image/jpeg"||d.name.toLowerCase().endsWith(".jpg")||d.name.toLowerCase().endsWith(".jpeg"))){alert("Only JPG/JPEG images are supported. Please upload a .jpg or .jpeg file.");return}const p=n.imagePath;if(p)try{await Bf(p)}catch(b){console.warn("Could not delete old image:",b)}const h=await Jv(d),y=await Zv(h,"recipes");t(b=>({...b,imagePath:y}))}catch(f){console.error(f),alert("Failed to upload image.")}finally{a(!1)}}}return g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium",children:"Cover image"}),g.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"mt-2 text-main underline hover:cursor-pointer",disabled:i})]}),l&&g.jsx("div",{className:"mt-2",children:g.jsx("img",{src:l,alt:"preview",className:"max-h-48 rounded"})}),i&&g.jsx("div",{className:"text-sm text-gray-500",children:"Uploading..."})]})}function DT(){const{form:n,setForm:t}=Ma(),[i,a]=z.useState(""),[l,o]=z.useState([]),[u,d]=z.useState(!1),f=z.useRef(null),p=n.preparation_time!=null?`${n.preparation_time} minutes`:"",h=n.cooking_time!=null?`${n.cooking_time} minutes`:"",y=n.difficulty!=null?`${n.difficulty}`:"";z.useEffect(()=>{if(f.current&&window.clearTimeout(f.current),!i||i.trim()===""){o([]);return}return d(!0),f.current=window.setTimeout(async()=>{const E=i.trim();try{const{data:S,error:j}=await ue.rpc("search_tags_trgm",{q:E});if(!j&&Array.isArray(S)){o(S),d(!1);return}}catch{}try{const{data:S,error:j}=await ue.from("tags").select("id,name").ilike("name",`%${E}%`).limit(10);!j&&Array.isArray(S)?o(S):o([])}catch{o([])}finally{d(!1)}},250),()=>{f.current&&window.clearTimeout(f.current)}},[i]);function b(E){const S=(E??i).trim();S&&(t(j=>({...j,tags:Array.from(new Set([...(j.tags??[]).map(L=>L.name),S])).map(L=>({name:L}))})),a(""),o([]))}function x(E){if(E.key==="Enter"&&(E.preventDefault(),l.length>0?b(l[0].name):b()),E.key==="ArrowDown"&&l.length>0){const S=document.querySelector(".tag-suggestion-item");S&&S.focus()}}function w(E){t(S=>({...S,tags:(S.tags??[]).filter(j=>j.name!==E)}))}return g.jsxs("div",{className:"space-y-3 relative",children:[g.jsx("h3",{className:"font-medium",children:"Preview"}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Title:"})," ",n.title||""]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Preparation time:"})," ",p]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Cooking time:"})," ",h]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Servings:"})," ",n.servings??""]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Difficulty:"})," ",y]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Ingredients:"})," ",n.ingredients.length," items"]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Steps:"})," ",n.steps.length," steps"]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-sm font-medium",children:"Tags"}),g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("input",{value:i,onChange:E=>a(E.target.value),onKeyDown:x,placeholder:"Add tag and press Enter",className:"rounded-lg  px-3 py-2  border-none outline-none shadow-sm bg-bright focus:ring-1 focus:ring-main transition-all duration-150 w-full"}),g.jsx("button",{type:"button",onClick:()=>b(),className:"px-3 py-2 bg-main text-bright rounded",children:"Add"})]}),i.trim()!==""&&g.jsx("div",{className:"absolute z-20 mt-1 w-full bg-bright/95 border rounded shadow-lg max-h-48 overflow-auto",children:u?g.jsx("div",{className:"p-2 text-sm text-gray-500",children:"Loading..."}):l.length===0?g.jsx("div",{className:"p-2 text-sm text-gray-500",children:"No suggestions"}):l.map(E=>g.jsx("button",{type:"button",onClick:()=>b(E.name),className:"tag-suggestion-item w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:E.name},E.id))})]}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(n.tags??[]).length===0?g.jsx("div",{className:"text-sm text-gray-500",children:"No tags"}):(n.tags??[]).map(E=>g.jsxs("span",{className:"inline-flex items-center gap-2 bg-gray-100 text-sm px-2 py-1 rounded",children:[g.jsx("span",{children:E.name}),g.jsx("button",{type:"button",onClick:()=>w(E.name),"aria-label":`Remove tag ${E.name}`,className:"text-red-600 hover:bg-red-50 rounded px-1",children:""})]},E.name))})]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Image:"})," ",n.imageFile?n.imageFile.name:"None"]}),g.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Use Publish to send to the server."})]})}const _a=[{id:"details",title:"Details",comp:CT},{id:"ingredients",title:"Ingredients",comp:RT},{id:"steps",title:"Steps",comp:OT},{id:"media",title:"Media",comp:UT},{id:"review",title:"Review",comp:DT}];function zT(){const{form:n,setForm:t,reset:i}=Ma(),[a,l]=z.useState(0),[o,u]=z.useState([]),[d,f]=z.useState(null),p=z.useMemo(()=>_a[a].comp,[a]),h=Kt(),[y]=z_(),b=y.get("recipeId"),x=!!b;z.useEffect(()=>{if(!b){i(),f(null);return}let L=!1;return f(null),(async()=>{try{const{data:T}=await ue.auth.getUser(),B=T?.user?.id??null;if(!B){f("You must be logged in to edit a recipe.");return}const{data:V,error:A}=await ue.from("recipes").select(`id,title,short_description,image_url,authorId,prep_time,cook_time,servings,difficulty,
                        recipe_ingredients:recipe-ingredients(id,name,amount,unit,notes),
                        recipe_steps:recipe-steps(index,text),
                        recipe_tags:recipe-tags(tags(name))`).eq("id",b).single();if(A||!V){f("Could not load recipe for editing.");return}if(V.authorId!==B){f("You can only edit your own recipes.");return}if(L)return;t(()=>({title:V.title??"",short_description:V.short_description??"",preparation_time:V.prep_time??null,cooking_time:V.cook_time??null,servings:V.servings??null,difficulty:V.difficulty??null,ingredients:V.recipe_ingredients?.map(M=>({id:String(M.id),name:M.name??"",amount:M.amount??null,unit:M.unit??"",note:M.notes??""}))??[],steps:V.recipe_steps?.sort((M,C)=>M.index-C.index).map((M,C)=>({id:M.index?`step-${M.index}`:Pb(),index:C+1,description:M.text??""}))??[],tags:V.recipe_tags?.map(M=>M.tags?.name).filter(Boolean).map(M=>({name:M}))??[],imageFile:null,imagePath:V.image_url??null,id:V.id}))}catch(T){console.error("Failed to load recipe for edit",T),f("Unexpected error loading recipe.")}})(),()=>{L=!0}},[b]);function w(L){const T=[];return L===0&&((!n.title||n.title.trim()==="")&&T.push("Title is required."),(!n.short_description||n.short_description.trim()==="")&&T.push("Short description is required."),n.preparation_time===null||n.preparation_time===void 0||Number.isNaN(Number(n.preparation_time))?T.push("Preparation time is required."):typeof n.preparation_time=="number"&&n.preparation_time<0&&T.push("Preparation time must be a positive number."),n.cooking_time===null||n.cooking_time===void 0||Number.isNaN(Number(n.cooking_time))?T.push("Cooking time is required."):typeof n.cooking_time=="number"&&n.cooking_time<0&&T.push("Cooking time must be a positive number."),n.difficulty===null||n.difficulty===void 0?T.push("Difficulty is required."):typeof n.difficulty=="number"&&(n.difficulty<1||n.difficulty>5)&&T.push("Difficulty must be between 1 and 5.")),L===1&&(!n.ingredients||n.ingredients.length===0?T.push("Add at least one ingredient."):n.ingredients.forEach((B,V)=>{(!B.name||B.name.trim()==="")&&T.push(`Ingredient ${V+1}: name is required.`),B.amount===null||B.amount===void 0||B.amount<=0?T.push(`Ingredient ${V+1}: amount is required.`):typeof B.amount=="number"&&Number.isNaN(B.amount)&&T.push(`Ingredient ${V+1}: amount must be a number.`)})),L===2&&(!n.steps||n.steps.length===0?T.push("Add at least one step."):n.steps.forEach((B,V)=>{(!B.description||B.description.trim()==="")&&T.push(`Step ${V+1}: description is required.`)})),T}function E(){const L=w(a);if(L.length>0){u(L);return}u([]),a<_a.length-1&&l(T=>T+1)}function S(){a>0&&l(L=>L-1)}async function j(){const L=[];for(let T=0;T<=2;T++){const B=w(T);B.length>0&&L.push({index:T,msgs:B})}if(L.length>0){u(L[0].msgs),l(L[0].index);return}u([]);try{const{data:{user:T},error:B}=await ue.auth.getUser();if(B||!T){u(["You must be logged in to upload a recipe."]);return}const V={title:n.title,authorId:T.id,short_description:n.short_description,image_url:n.imagePath??null,prep_time:n.preparation_time,cook_time:n.cooking_time,servings:n.servings,difficulty:n.difficulty};let A,M=null;if(n.id?{data:A,error:M}=await ue.from("recipes").upsert([{id:n.id,...V}]).select("id").single():{data:A,error:M}=await ue.from("recipes").insert([V]).select("id").single(),M||!A)throw M||new Error("Failed to create recipe");const C=A.id,R=n.ingredients.map(P=>({name:P.name,amount:P.amount??null,unit:P.unit,notes:P.note??null})),{error:I}=await ue.rpc("replace_recipe_ingredients",{p_recipe_id:C,p_ingredients:R});if(I)throw I;if(n.steps.length>0){const P=n.steps.map((G,q)=>({recipe_id:C,index:q+1,text:G.description})),{error:H}=await ue.from("recipe-steps").upsert(P);if(H)throw H}if(n.tags&&n.tags.length>0){const P=n.tags.map(H=>H.name.trim()).filter(Boolean);if(P.length>0){const H=P.map(N=>({name:N})),{data:G,error:q}=await ue.from("tags").upsert(H,{onConflict:"name"}).select("id,name");if(q)throw q;const F=new Map;(G??[]).forEach(N=>F.set(N.name,N.id));const k=P.map(N=>({recipe_id:C,tag_id:F.get(N)})).filter(N=>N.tag_id!=null);if(k.length>0){const{error:N}=await ue.from("recipe-tags").upsert(k);if(N)throw N}}}h(`/recipe/${C}`)}catch(T){console.error(T),u(["Something went wrong while saving the recipe."])}}return g.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm flex flex-col min-h-90 max-h-[70vh] overflow-x-visible",children:[g.jsx("h1",{className:"text-2xl font-heading-styled text-main mb-4",children:x?"Edit recipe":"Upload a recipe"}),g.jsxs("div",{className:"mb-3 overflow-x-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-medium",children:_a[a].title}),g.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",a+1," / ",_a.length]})]}),g.jsx("div",{className:"h-2 bg-gray-200 rounded-full mt-3 overflow-y-hidden overflow-x-visible",children:g.jsx("div",{className:"h-full bg-main transition-all duration-300 ease-in-out",style:{width:`${(a+1)/_a.length*100}%`}})}),d&&g.jsx("div",{className:"mt-3 p-3 bg-danger/20 text-danger rounded",children:g.jsx("p",{className:"text-sm",children:d})}),o.length>0&&g.jsx("div",{className:"mt-3 p-3 bg-danger/20  text-danger rounded",children:g.jsx("ul",{className:"list-disc pl-5 text-sm",children:o.map((L,T)=>g.jsx("li",{children:L},T))})})]}),g.jsx("div",{className:"flex-1 min-h-0 overflow-x-visible overflow-y-scroll custom-scroll py-2 ",children:g.jsx(p,{})}),g.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[g.jsx("button",{type:"button",onClick:S,disabled:a===0,className:`px-4 py-2 rounded bg-transparent border border-gray-300 text-sm ${a===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-400 hover:text-bright transition-all duration-200"}`,children:"Back"}),g.jsx("div",{className:"flex items-center gap-2",children:a<_a.length-1?g.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 rounded bg-secondary hover:-translate-y-1 hover:opacity-80 transition-all duration-200  text-bright text-sm",children:"Next"}):g.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 rounded bg-main hover:-translate-y-1 hover:opacity-80 transition-all duration-200  text-bright text-sm",children:x?"Update":"Publish"})})]})]})}function LT(){return g.jsx(TT,{children:g.jsx("div",{className:"min-h-screen bg-bright/5 ",children:g.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 mt-16 md:mt-0",children:g.jsx(zT,{})})})})}function MT(){const[n,t]=z.useState(null),[i,a]=z.useState([]),[l,o]=z.useState(!0),u=Kt();return z.useEffect(()=>{(async()=>{const{data:d}=await ue.auth.getUser();t(d?.user??null)})()},[]),z.useEffect(()=>{if(!n){o(!1);return}(async()=>{o(!0);const{data:f,error:p}=await ue.from("recipes").select(`
          id,
          title,
          short_description,
          image_url,
          prep_time,
          cook_time,
          servings,
          difficulty,
          recipe_likes!inner(auth_id)
        `).eq("recipe_likes.auth_id",n.id);if(p){console.error("Error fetching favorite recipes:",p),a([]),o(!1);return}const h=(f??[]).map(({recipe_likes:y,...b})=>b);a(h),o(!1)})()},[n]),l?g.jsx(kr,{message:"Fetching your favorite recipes..."}):n?g.jsx("div",{className:"min-h-screen bg-bright",children:g.jsxs("main",{className:"max-w-6xl mx-auto pt-24 pb-16 px-4 sm:px-8",children:[g.jsxs("header",{className:"mb-10 flex flex-wrap items-end justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-heading-styled text-secondary mb-2",children:"Favorites"}),g.jsx("p",{className:"text-dark/70 font-body max-w-xl",children:"Your curated collection of recipes you've liked on Tempero."})]}),g.jsxs("span",{className:"inline-flex items-center rounded-full bg-main/10 text-main border border-main/40 px-4 py-1 font-heading text-sm",children:[i.length," ",i.length===1?"recipe":"recipes"]})]}),i.length===0?g.jsx("p",{className:"text-dark/70 font-body",children:"You haven't added any favorites yet. Browse recipes and tap the like button to save your favorites here."}):g.jsx("div",{className:"grid gap-6 grid-cols-[repeat(auto-fit,minmax(260px,1fr))]",children:i.map(d=>g.jsx(ei,{recipe:d},d.id))})]})}):g.jsx("div",{className:"min-h-screen bg-bright flex items-center justify-center",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("h1",{className:"text-3xl font-heading-styled text-secondary",children:"Favorites"}),g.jsx("p",{className:"text-dark/70 font-body",children:"You need to be logged in to see your favorite recipes."}),g.jsx("button",{onClick:()=>u("/login"),className:"px-4 py-2 rounded-lg bg-main text-bright font-heading hover:bg-secondary transition-colors",children:"Go to login"})]})})}async function Vd(n="all"){let t=ue.from("reports").select("*").order("created_at",{ascending:!1});n!=="all"&&(t=t.eq("reported_item_type",n));const{data:i,error:a}=await t;if(a)return console.error("Error fetching reports:",a),[];if(i&&i.length>0){const l=i.map(d=>d.reporter_id),{data:o}=await ue.from("profiles").select("auth_id, username").in("auth_id",l),u=new Map(o?.map(d=>[d.auth_id,d])||[]);return i.map(d=>({...d,profiles:u.get(d.reporter_id)||null}))}return i||[]}async function C0(){const{data:n,error:t}=await ue.from("profiles").select("auth_id, username, first_name, last_name").order("username",{ascending:!0}).limit(50);return t?(console.error("Error fetching users:",t),[]):n||[]}async function BT(n,t){const{data:{user:i}}=await ue.auth.getUser();if(!i)return{error:"Not authenticated"};const{error:a}=await ue.from("reports").update({status:t,resolved_by:i.id,resolved_at:new Date().toISOString()}).eq("id",n);return{error:a}}async function IT(){const[n,t,i,a,l]=await Promise.all([ue.from("profiles").select("*",{count:"exact",head:!0}),ue.from("recipes").select("*",{count:"exact",head:!0}),ue.from("reviews").select("*",{count:"exact",head:!0}),ue.from("reports").select("*",{count:"exact",head:!0}).eq("status","pending"),ue.from("recipes").select("id, title, recipe_likes(recipe_id)").limit(100)]),u=(l.data||[]).map(d=>({id:d.id,title:d.title,likesCount:d.recipe_likes?.length||0})).sort((d,f)=>f.likesCount-d.likesCount).slice(0,5);return{totalUsers:n.count||0,totalRecipes:t.count||0,totalReviews:i.count||0,pendingReports:a.count||0,topRecipes:u}}function qT({isOpen:n,onClose:t,report:i,onResolved:a}){const[l,o]=z.useState(!1);if(!n)return null;async function u(){if(window.confirm(`Are you sure you want to delete this ${i.reported_item_type}?`)){o(!0);try{const{error:p}=await ue.from(PT(i.reported_item_type)).delete().eq("id",i.reported_item_id);if(p)throw p;await ue.from("reports").update({status:"resolved",resolved_at:new Date().toISOString()}).eq("id",i.id),alert(`${i.reported_item_type} deleted successfully`),a(),t()}catch(p){console.error("Error deleting content:",p),alert("Failed to delete content")}finally{o(!1)}}}async function d(){await ue.from("reports").update({status:"resolved",resolved_at:new Date().toISOString()}).eq("id",i.id),a(),t()}return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:t,children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:f=>f.stopPropagation(),children:[g.jsx("h2",{className:"text-2xl font-heading-styled text-secondary mb-4",children:"Resolve Report"}),g.jsxs("p",{className:"text-dark font-body mb-6",children:["What action do you want to take on this reported ",i.reported_item_type,"?"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:u,disabled:l,className:"w-full bg-danger text-bright px-4 py-3 rounded-lg font-heading hover:bg-danger/90 disabled:opacity-50",children:l?"Deleting...":`Delete ${i.reported_item_type}`}),g.jsx("button",{onClick:d,className:"w-full bg-main text-bright px-4 py-3 rounded-lg font-heading hover:bg-main/90",children:"Keep content & mark as resolved"}),g.jsx("button",{onClick:t,className:"w-full bg-dark/20 text-dark px-4 py-3 rounded-lg font-heading hover:bg-dark/30",children:"Cancel"})]})]})})}function PT(n){return n==="recipe"?"recipes":n==="review"?"reviews":n==="comment"?"comments":n==="user"?"profiles":""}function HT(){const n=Kt(),[t,i]=z.useState("stats"),[a,l]=z.useState(null),[o,u]=z.useState(!0),[d,f]=z.useState([]),[p,h]=z.useState("all"),[y,b]=z.useState(!1),[x,w]=z.useState(!1),[E,S]=z.useState(null),[j,L]=z.useState([]),[T,B]=z.useState(!1);z.useEffect(()=>{t==="stats"?(u(!0),IT().then(M=>{l(M),u(!1)})):t==="reports"?(b(!0),Vd(p).then(async M=>{const C=await Promise.all(M.map(async R=>{if(R.reported_item_type==="review"){const{data:I}=await ue.from("reviews").select("description").eq("id",R.reported_item_id).single();return{...R,content_preview:I?.description||"No description"}}else if(R.reported_item_type==="comment"){const{data:I}=await ue.from("comments").select("body").eq("id",R.reported_item_id).single();return{...R,content_preview:I?.body||"No content"}}return R}));f(C),b(!1)})):t==="users"&&(B(!0),C0().then(M=>{L(M),B(!1)}))},[t,p]);async function V(M,C){await BT(M,C);const R=await Vd(p);f(R)}async function A(){const M=await Vd(p);f(M)}return g.jsx("div",{className:"min-h-screen w-full bg-bright py-10 px-4",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsx("h1",{className:"text-4xl font-heading text-secondary mb-8",children:"Admin Dashboard"}),g.jsxs("div",{className:"flex gap-6 mb-8 border-b border-dark/10",children:[g.jsx("button",{className:`pb-3 px-2 font-heading text-lg ${t==="stats"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("stats"),children:"Stats"}),g.jsx("button",{className:`pb-3 px-2 font-heading text-lg ${t==="reports"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("reports"),children:"Reports"}),g.jsx("button",{className:`pb-3 px-2 font-heading text-lg ${t==="users"?"text-secondary border-b-2 border-secondary":"text-dark/60 hover:text-secondary"}`,onClick:()=>i("users"),children:"Users"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[t==="stats"&&g.jsx("div",{children:o?g.jsx("p",{className:"text-center text-dark/60 font-heading",children:"Loading..."}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[g.jsxs("div",{className:"bg-bright p-6 rounded-lg",children:[g.jsx("p",{className:"text-dark/60 text-sm font-heading",children:"Total Users"}),g.jsx("p",{className:"text-4xl font-heading-styled text-secondary mt-2",children:a?.totalUsers||0})]}),g.jsxs("div",{className:"bg-bright p-6 rounded-lg",children:[g.jsx("p",{className:"text-dark/60 text-sm font-heading",children:"Total Recipes"}),g.jsx("p",{className:"text-4xl font-heading-styled text-secondary mt-2",children:a?.totalRecipes||0})]}),g.jsxs("div",{className:"bg-bright p-6 rounded-lg",children:[g.jsx("p",{className:"text-dark/60 text-sm font-heading",children:"Total Reviews"}),g.jsx("p",{className:"text-4xl font-heading-styled text-secondary mt-2",children:a?.totalReviews||0})]}),g.jsxs("div",{className:"bg-bright p-6 rounded-lg",children:[g.jsx("p",{className:"text-dark/60 text-sm font-heading",children:"Pending Reports"}),g.jsx("p",{className:"text-4xl font-heading-styled text-main mt-2",children:a?.pendingReports||0})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-heading text-secondary mb-4",children:"Top Recipes"}),a?.topRecipes?.length>0?g.jsx("div",{className:"space-y-3",children:a.topRecipes.map(M=>g.jsxs("div",{className:"flex justify-between items-center p-3 bg-bright rounded-lg",children:[g.jsx("span",{className:"font-body text-dark",children:M.title}),g.jsxs("span",{className:"text-main font-heading",children:[M.likesCount," likes"]})]},M.id))}):g.jsx("p",{className:"text-dark/60 font-body",children:"No recipes yet"})]})]})}),t==="reports"&&g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-heading-styled text-secondary mb-6",children:"Reports Management"}),g.jsx("div",{className:"flex gap-3 mb-6",children:["all","review","recipe","comment","user"].map(M=>g.jsx("button",{onClick:()=>h(M),className:`px-4 py-2 rounded-lg font-heading capitalize transition ${p===M?"bg-secondary text-bright":"bg-white text-dark hover:bg-bright"}`,children:M},M))}),y?g.jsx("p",{className:"text-center text-dark/60 font-heading",children:"Loading reports..."}):d.length===0?g.jsx("p",{className:"text-center text-dark/60 font-body py-8",children:"No reports found"}):g.jsx("div",{className:"space-y-4",children:d.map(M=>g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-dark/10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsx("span",{className:"bg-main/20 text-main px-3 py-1 rounded-full text-sm font-heading capitalize",children:M.reported_item_type}),g.jsx("h3",{className:"font-heading text-lg text-secondary mt-2",children:M.reason})]}),g.jsx("span",{className:"text-sm text-dark/60 font-body",children:new Date(M.created_at).toLocaleDateString()})]}),g.jsxs("p",{className:"text-dark/80 font-body mb-4",children:["Reported by: @",M.profiles?.username||"Unknown"]}),M.content_preview&&g.jsxs("div",{className:"bg-bright/50 p-3 rounded-lg mb-4",children:[g.jsx("p",{className:"text-xs text-dark/60 font-heading mb-1",children:"Content Preview:"}),g.jsxs("p",{className:"text-sm text-dark font-body line-clamp-3",children:['"',M.content_preview,'"']})]}),g.jsxs("p",{className:"text-dark/60 font-body text-sm mb-4",children:["Status: ",g.jsx("span",{className:"capitalize",children:M.status})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:async()=>{const C=M.reported_item_type,R=M.reported_item_id;if(C==="recipe")n(`/recipe/${R}`);else if(C==="user"){const{data:I}=await ue.from("profiles").select("username").eq("auth_id",R).single();I?.username&&n(`/profile/${I.username}`)}else if(C==="review"){const{data:I}=await ue.from("reviews").select("recipe_id").eq("id",R).single();I?.recipe_id&&n(`/recipe/${I.recipe_id}`)}else if(C==="comment"){const{data:I}=await ue.from("comments").select("review_id").eq("id",R).single();if(I?.review_id){const{data:P}=await ue.from("reviews").select("recipe_id").eq("id",I.review_id).single();P?.recipe_id&&n(`/recipe/${P.recipe_id}`)}}},className:"bg-secondary text-bright px-4 py-2 rounded-lg font-heading hover:bg-secondary/90",children:"View"}),M.status==="pending"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>{S(M),w(!0)},className:"bg-main text-bright px-4 py-2 rounded-lg font-heading hover:bg-main/90",children:"Resolve"}),g.jsx("button",{onClick:()=>V(M.id,"dismissed"),className:"bg-dark/20 text-dark px-4 py-2 rounded-lg font-heading hover:bg-dark/30",children:"Dismiss"})]})]})]},M.id))}),E&&g.jsx(qT,{isOpen:x,onClose:()=>{w(!1),S(null)},report:E,onResolved:A})]}),t==="users"&&g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-heading-styled text-secondary mb-6",children:"User Management"}),T?g.jsx("p",{className:"text-center text-dark/60 font-heading",children:"Loading users..."}):g.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:"bg-bright",children:g.jsxs("tr",{children:[g.jsx("th",{className:"text-left p-4 font-heading text-secondary",children:"Username"}),g.jsx("th",{className:"text-left p-4 font-heading text-secondary",children:"Name"}),g.jsx("th",{className:"text-left p-4 font-heading text-secondary",children:"Actions"})]})}),g.jsx("tbody",{children:j.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:3,className:"p-4 text-center text-dark/60 font-body",children:"No users found"})}):j.map(M=>g.jsxs("tr",{className:"border-b border-dark/10",children:[g.jsxs("td",{className:"p-4 font-body text-dark",children:["@",M.username]}),g.jsxs("td",{className:"p-4 font-body text-dark",children:[M.first_name," ",M.last_name]}),g.jsxs("td",{className:"p-4 flex gap-3",children:[g.jsx("button",{onClick:()=>n(`/profile/${M.username}`),className:"text-secondary hover:text-main font-heading text-sm",children:"View"}),g.jsx("button",{onClick:async()=>{if(!window.confirm(`Delete user @${M.username}? This will delete all their content.`))return;const{error:R}=await ue.from("profiles").delete().eq("auth_id",M.auth_id);if(R)alert("Failed to delete user");else{const I=await C0();L(I)}},className:"text-danger hover:text-danger/80 font-heading text-sm",children:"Delete"})]})]},M.auth_id))})]})})]})]})]})})}function $T(){const[n,t]=z.useState(""),[i,a]=z.useState(""),[l,o]=z.useState(!1),[u,d]=z.useState(""),[f,p]=z.useState(""),h=Kt();z.useEffect(()=>{ue.auth.getSession().then(({data:{session:b}})=>{b||p("Invalid or expired reset link. Please try requesting a new one.")})},[]);const y=async b=>{if(b.preventDefault(),o(!0),p(""),d(""),n!==i){p("Passwords do not match."),o(!1);return}const x=Ib(n);if(x){p(x),o(!1);return}const{error:w}=await ue.auth.updateUser({password:n});w?(p(w.message),o(!1)):(d("Password updated successfully! Redirecting..."),setTimeout(()=>{h("/home")},2e3))};return g.jsxs("div",{className:"fixed min-h-screen min-w-screen  flex items-center justify-center bg-[url('/images/croissant-bg.jpg')] bg-cover bg-center",children:[g.jsx("div",{className:"absolute inset-0 backdrop-blur-xs pointer-events-none"}),g.jsx("div",{className:"logo fixed top-1 left-1 z-10 cursor-pointer",onClick:()=>h("/login"),role:"button",tabIndex:0,onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&h("/login")},children:g.jsx("img",{src:"/Tempero/images/logo.png",alt:"Tempero Logo",className:"h-16"})}),g.jsx("div",{className:"mx-auto mt-12 max-w-md w-full",children:g.jsxs("div",{className:"rounded-xl bg-bright/90 p-6 shadow-sm relative z-10",children:[g.jsx("h1",{className:"mb-4 text-3xl font-bold font-heading text-main text-center",children:"Set New Password"}),g.jsx("p",{className:"mb-6 text-sm text-gray-600 text-center",children:"Please enter your new password below."}),u&&g.jsx("div",{className:"mb-3 rounded-lg bg-green-100 px-3 py-2 text-sm text-green-700 border border-green-200 font-body",children:u}),f&&g.jsx("div",{className:"mb-3 rounded-lg bg-main/10 px-3 py-2 text-sm text-danger font-body",children:f}),g.jsxs("form",{onSubmit:y,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{htmlFor:"new-pass",className:"text-lg font-heading text-dark",children:"New Password"}),g.jsx("input",{id:"new-pass",type:"password",required:!0,value:n,onChange:b=>t(b.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200",placeholder:"Min 8 characters"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{htmlFor:"confirm-pass",className:"text-lg font-heading text-dark",children:"Confirm Password"}),g.jsx("input",{id:"confirm-pass",type:"password",required:!0,value:i,onChange:b=>a(b.target.value),className:"w-full rounded-lg px-3 py-2 outline-none shadow-xl bg-amber-50 focus:ring-1 focus:ring-main focus:shadow-main/20 border-none transition-all duration-200",placeholder:"Retype password"})]}),g.jsx("button",{type:"submit",disabled:l||!!u,className:"w-full rounded-lg bg-secondary px-4 py-2.5 text-white hover:-translate-y-0.5 hover:shadow-xl disabled:opacity-70 duration-150 mt-4",children:l?"Updating...":"Update Password"})]})]})})]})}function FT(){const[n,t]=z.useState(!0),[i,a]=z.useState(null),l=Mn();return z.useEffect(()=>{let o=!0;return ue.auth.getUser().then(({data:u})=>{o&&(a(u.user??null),t(!1))}),()=>{o=!1}},[]),n?null:i?g.jsx(q0,{}):g.jsx(a_,{to:"/login",state:{from:l.pathname},replace:!0})}function VT(){return g.jsx("div",{className:"p-6 text-center",children:g.jsx("img",{src:uE,alt:"404 Not Found",className:"mx-auto scale-50"})})}function GT(){return g.jsxs("div",{className:"min-h-screen flex flex-col bg-bright",children:[g.jsx(dE,{}),g.jsx("main",{className:"flex-1 py-5 px-4 sm:px-6 lg:px-8",children:g.jsx(q0,{})}),g.jsx(cE,{})]})}function YT(){return g.jsx(R_,{basename:"/Tempero",children:g.jsxs(l_,{children:[g.jsx(gt,{path:"login",element:g.jsx(lT,{})}),g.jsx(gt,{path:"register",element:g.jsx(bT,{})}),g.jsx(gt,{path:"update-password",element:g.jsx($T,{})}),g.jsxs(gt,{element:g.jsx(GT,{}),children:[g.jsx(gt,{index:!0,element:g.jsx(qy,{})}),g.jsx(gt,{path:"about",element:g.jsx(qy,{})}),g.jsx(gt,{path:"faq",element:g.jsx(VA,{})}),g.jsx(gt,{path:"*",element:g.jsx(VT,{})}),g.jsxs(gt,{element:g.jsx(FT,{}),children:[g.jsx(gt,{path:"home",element:g.jsx(nT,{})}),g.jsx(gt,{path:"skill-assessment",element:g.jsx(fE,{})}),g.jsx(gt,{path:"lists/new",element:g.jsx(hE,{})}),g.jsx(gt,{path:"lists",element:g.jsx(mT,{})}),g.jsx(gt,{path:"lists/:playlistId",element:g.jsx(sT,{})}),g.jsx(gt,{path:"profile/:username",element:g.jsx(hT,{})}),g.jsx(gt,{path:"profile/edit",element:g.jsx(SE,{})}),g.jsx(gt,{path:"search",element:g.jsx(jT,{})}),g.jsx(gt,{path:"upload-recipe",element:g.jsx(LT,{})}),g.jsx(gt,{path:"recipe/:id",element:g.jsx(pT,{})}),g.jsx(gt,{path:"review/:id",element:g.jsx(xT,{})}),g.jsx(gt,{path:"favorites",element:g.jsx(MT,{})}),g.jsx(gt,{path:"admin",element:g.jsx(HT,{})})]})]})]})})}h1.createRoot(document.getElementById("root")).render(g.jsx(a1.StrictMode,{children:g.jsx(YT,{})}));
